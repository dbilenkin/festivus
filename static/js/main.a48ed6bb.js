/*! For license information please see main.a48ed6bb.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,O=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case b:return"Portal";case S:return"Profiler";case C:return"StrictMode";case j:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var be=null,xe=null,Ce=null;function Se(e){if(e=_i(e)){if("function"!==typeof be)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),be(e.stateNode,e.type,t))}}function Ee(e){xe?Ce?Ce.push(e):Ce=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ce;if(Ce=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function je(){}var Ne=!1;function Ae(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==xe||null!==Ce)&&(je(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){Pe=!1}function Me(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Le=!1,Oe=null,Ue=!1,Fe=null,Be={onError:function(e){Le=!0,Oe=e}};function Ve(e,t,n,r,i,a,o,s,u){Le=!1,Oe=null,Me.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Je=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ht(s):0!==(a&=o)&&(r=ht(a))}else 0!==(o=n&~i)?r=ht(o):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,bt,xt,Ct,St,Et=!1,Tt=[],It=null,jt=null,Nt=null,At=new Map,Dt=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ot(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Bt(){Et=!1,null!==It&&Ut(It)&&(It=null),null!==jt&&Ut(jt)&&(jt=null),null!==Nt&&Ut(Nt)&&(Nt=null),At.forEach(Ft),Dt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==jt&&Vt(jt,e),null!==Nt&&Vt(Nt,e),At.forEach(t),Dt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ot(n),null===n.blockedOn&&Pt.shift()}var Gt=k.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=_t,a=Gt.transition;Gt.transition=null;try{_t=1,Kt(e,t,n,r)}finally{_t=i,Gt.transition=a}}function Ht(e,t,n,r){var i=_t,a=Gt.transition;Gt.transition=null;try{_t=4,Kt(e,t,n,r)}finally{_t=i,Gt.transition=a}}function Kt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Jt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return jt=Lt(jt,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Lt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&qr(e,t,r,Jt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Jt=null;function Qt(e,t,n,r){if(Jt=null,null!==(e=yi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),hn=O({},ln,{view:0,detail:0}),fn=an(hn),dn=O({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),mn=an(O({},dn,{dataTransfer:0})),vn=an(O({},hn,{relatedTarget:0})),gn=an(O({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=O({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(yn),kn=an(O({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return Cn}var En=O({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),In=an(O({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=an(O({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(O({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=O({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(An),Pn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Mn,On=c&&(!Rn||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Hr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Jn(e){Ur(e,0)}function Qn(e){if(K(ki(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Wn(t,Kn,e,we(e)),Ae(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,_r=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==vr||vr!==J(r)||("selectionStart"in(r=vr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Hr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Cr={};function Sr(e){if(xr[e])return xr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return xr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Ir=Sr("animationstart"),jr=Sr("transitionend"),Nr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),u(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Rr=Ar[Pr];Dr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Dr(Er,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Ir,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(jr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(a(198));var c=Oe;Le=!1,Oe=null,Ue||(Ue=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Or(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Or(i,s,l),a=u}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function Gr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=jn;break;case Er:case Tr:case Ir:u=gn;break;case jr:u=Nn;break;case"scroll":u=fn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&(null!=(m=De(p,f))&&c.push(Wr(p,m,d)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(h=ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ki(u),d=null==l?s:ki(l),(s=new c(m,p+"leave",u,n,i)).target=h,s.relatedTarget=d,m=null,yi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,m=c),h=m,u&&l)e:{for(f=l,p=0,d=c=u;d;d=Kr(d))p++;for(d=0,m=f;m;m=Kr(m))d++;for(;0<p-d;)c=Kr(c),p--;for(;0<d-p;)f=Kr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Kr(c),f=Kr(f)}c=null}else c=null;null!==u&&Jr(o,s,u,c,!1),null!==l&&null!==h&&Jr(o,h,l,c,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=$n;else if(qn(s))if(Yn)v=or;else{v=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ar);switch(v&&(v=v(e,r))?Wn(o,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?ki(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,kr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zn?Bn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(On&&"ko"!==n.locale&&(zn||"onCompositionStart"!==_?"onCompositionEnd"===_&&zn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(g=Hr(r,_)).length&&(_=new kn(_,e,null,n,i),o.push({event:_,listeners:g}),y?_.data=y:null!==(y=Vn(n))&&(_.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Bn(e,t)?(e=en(),Zt=Xt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=De(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=De(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=De(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,vi="__reactListeners$"+hi,gi="__reactHandles$"+hi;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var bi=[],xi=-1;function Ci(e){return{current:e}}function Si(e){0>xi||(e.current=bi[xi],bi[xi]=null,xi--)}function Ei(e,t){xi++,bi[xi]=e.current,e.current=t}var Ti={},Ii=Ci(Ti),ji=Ci(!1),Ni=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Si(ji),Si(Ii)}function Ri(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Ei(Ii,t),Ei(ji,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,G(e)||"Unknown",i));return O({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ii.current,Ei(Ii,e),Ei(ji,ji.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(ji),Si(Ii),Ei(Ii,e)):Si(ji),Ei(ji,n)}var Ui=null,Fi=!1,Bi=!1;function Vi(e){null===Ui?Ui=[e]:Ui.push(e)}function zi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=_t;try{var n=Ui;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke(Ze,zi),i}finally{_t=t,Bi=!1}}return null}var Gi=[],qi=0,Wi=null,Hi=0,Ki=[],Ji=0,Qi=null,$i=1,Yi="";function Xi(e,t){Gi[qi++]=Hi,Gi[qi++]=Wi,Wi=e,Hi=t}function Zi(e,t,n){Ki[Ji++]=$i,Ki[Ji++]=Yi,Ki[Ji++]=Qi,Qi=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else $i=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=Gi[--qi],Gi[qi]=null,Hi=Gi[--qi],Gi[qi]=null;for(;e===Qi;)Qi=Ki[--Ji],Ki[Ji]=null,Yi=Ki[--Ji],Ki[Ji]=null,$i=Ki[--Ji],Ki[Ji]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Al(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Al(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=k.ReactCurrentBatchConfig;function va(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ci(null),ya=null,_a=null,ka=null;function wa(){ka=_a=ya=null}function ba(e){var t=ga.current;Si(ga),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ya=e,ka=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===ya)throw Error(a(308));_a=e,ya.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,ja(e,r)}function ja(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ja(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,ja(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Oa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var h=i.baseState;for(o=0,c=l=u=null,s=a;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,d=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(d,h,f):p)||void 0===f)break e;h=O({},h,f);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=h):c=c.next=d,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Lu|=o,e.lanes=o,e.memoizedState=h}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nl(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nl(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nl(t,e,r,n),Ma(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ga(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Di(t)?Ni:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Di(t)?Ni:Ii.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Oa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ja(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ol(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Ja(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Rl(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ol(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rl(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case b:return(t=Ul(t,e.mode,n)).return=e,t;case D:return f(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case b:return n.key===i?c(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function m(i,a,s,u){for(var l=null,c=null,h=a,m=a=0,v=null;null!==h&&m<s.length;m++){h.index>m?(v=h,h=null):v=h.sibling;var g=d(i,h,s[m],u);if(null===g){null===h&&(h=v);break}e&&h&&null===g.alternate&&t(i,h),a=o(g,a,m),null===c?l=g:c.sibling=g,c=g,h=v}if(m===s.length)return n(i,h),ia&&Xi(i,m),l;if(null===h){for(;m<s.length;m++)null!==(h=f(i,s[m],u))&&(a=o(h,a,m),null===c?l=h:c.sibling=h,c=h);return ia&&Xi(i,m),l}for(h=r(i,h);m<s.length;m++)null!==(v=p(h,i,m,s[m],u))&&(e&&null!==v.alternate&&h.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?l=v:c.sibling=v,c=v);return e&&h.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}function v(i,s,u,l){var c=M(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var h=c=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var _=d(i,m,y.value,l);if(null===_){null===m&&(m=g);break}e&&m&&null===_.alternate&&t(i,m),s=o(_,s,v),null===h?c=_:h.sibling=_,h=_,m=g}if(y.done)return n(i,m),ia&&Xi(i,v),c;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=f(i,y.value,l))&&(s=o(y,s,v),null===h?c=y:h.sibling=y,h=y);return ia&&Xi(i,v),c}for(m=r(i,m);!y.done;v++,y=u.next())null!==(y=p(m,i,v,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===x){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===D&&Ja(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ha(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((a=Ml(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Rl(o.type,o.key,o.props,null,r.mode,u)).ref=Ha(r,a,o),u.return=r,r=u)}return s(r);case b:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ul(o,r.mode,u)).return=r,r=a}return s(r);case D:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return m(r,a,o,u);if(M(o))return v(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ol(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Qa(!0),Ya=Qa(!1),Xa={},Za=Ci(Xa),eo=Ci(Xa),to=Ci(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ei(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var so=Ci(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var ho=k.ReactCurrentDispatcher,fo=k.ReactCurrentBatchConfig,po=0,mo=null,vo=null,go=null,yo=!1,_o=!1,ko=0,wo=0;function bo(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),_o){o=0;do{if(_o=!1,ko=0,25<=o)throw Error(a(301));o+=1,go=vo=null,t.updateQueue=null,ho.current=ls,e=n(r,i)}while(_o)}if(ho.current=os,t=null!==vo&&null!==vo.next,po=0,go=vo=mo=null,yo=!1,t)throw Error(a(300));return e}function So(){var e=0!==ko;return ko=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?mo.memoizedState=go=e:go=go.next=e,go}function To(){if(null===vo){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===go?mo.memoizedState:go.next;if(null!==t)go=t,vo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===go?mo.memoizedState=go=e:go=go.next=e}return go}function Io(e,t){return"function"===typeof t?t(e):t}function jo(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=vo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var h=c.lane;if((po&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,mo.lanes|=h,Lu|=h}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Lu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Do(e,t){var n=mo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,qo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Fo(9,Ro.bind(null,n,r,i,t),void 0,null),null===ju)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Oo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Oo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Oo(e){var t=ja(e,1);null!==t&&nl(t,e,1,-1)}function Uo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return To().memoizedState}function Vo(e,t,n,r){var i=Eo();mo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==vo){var o=vo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Fo(t,n,a,r))}mo.flags|=e,i.memoizedState=Fo(1|t,n,a,r)}function Go(e,t){return Vo(8390656,8,e,t)}function qo(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Jo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ko.bind(null,t,e),n)}function Qo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mo.lanes|=n,Lu|=n,e.baseState=!0),t)}function Zo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{_t=n,fo.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){nl(n,e,r,el()),as(n,t,r)}}function ns(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ia(e,t,i,r))&&(nl(n,e,r,i=el()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function is(e,t){_o=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Sa,useCallback:bo,useContext:bo,useEffect:bo,useImperativeHandle:bo,useInsertionEffect:bo,useLayoutEffect:bo,useMemo:bo,useReducer:bo,useRef:bo,useState:bo,useDebugValue:bo,useDeferredValue:bo,useTransition:bo,useMutableSource:bo,useSyncExternalStore:bo,useId:bo,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Go,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Uo,useDebugValue:Qo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===ju)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Go(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=ju.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:qo,useImperativeHandle:Jo,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Yo,useReducer:jo,useRef:Bo,useState:function(){return jo(Io)},useDebugValue:Qo,useDeferredValue:function(e){return Xo(To(),vo.memoizedState,e)},useTransition:function(){return[jo(Io)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1},ls={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:qo,useImperativeHandle:Jo,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Yo,useReducer:No,useRef:Bo,useState:function(){return No(Io)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===vo?t.memoizedState=e:Xo(t,vo.memoizedState,e)},useTransition:function(){return[No(Io)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qu||(qu=!0,Wu=r),fs(0,t)},n}function ms(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Ya(t,null,n,r):$a(t,e.child,n,r)}function bs(e,t,n,r,i){n=n.render;var a=t.ref;return Ca(t,i),r=Co(e,t,n,r,a,i),n=So(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Pl(a,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Ts(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Pu,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Pu,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Pu,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Pu,Du),Du|=r;return ws(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Di(n)?Ni:Ii.current;return a=Ai(t,a),Ca(t,i),n=Co(e,t,n,r,a,i),r=So(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Is(e,t,n,r,i){if(Di(n)){var a=!0;Li(t)}else a=!1;if(Ca(t,i),null===t.stateNode)Gs(e,t),Ga(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Sa(l):l=Ai(t,l=Di(n)?Ni:Ii.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&qa(t,o,r,l),Na=!1;var f=t.memoizedState;o.state=f,Oa(t,r,o,i),u=t.memoizedState,s!==r||f!==u||ji.current||Na?("function"===typeof c&&(Ba(t,n,c,r),u=t.memoizedState),(s=Na||za(t,n,s,r,f,u,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:va(t.type,s),o.props=l,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Ai(t,u=Di(n)?Ni:Ii.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&qa(t,o,r,u),Na=!1,f=t.memoizedState,o.state=f,Oa(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||ji.current||Na?("function"===typeof d&&(Ba(t,n,d,r),p=t.memoizedState),(l=Na||za(t,n,l,r,f,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return js(e,t,n,r,a,i)}function js(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Oi(t,n,!1),qs(e,t,a);r=t.stateNode,_s.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ds,Ps,Rs,Ms={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Os(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ll(u,i,0,null),e=Ml(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ms,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=hs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ll({mode:"visible",children:r.children},i,0,null),(o=Ml(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Fs(e,t,s,r=hs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=ju)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,ja(e,i),nl(r,e,i,-1))}return ml(),Fs(e,t,s,r=hs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Ji++]=$i,Ki[Ji++]=Yi,Ki[Ji++]=Qi,$i=e.id,Yi=e.overflow,Qi=t),(t=Us(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Pl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Pl(r,s):(s=Ml(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Pl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Vs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Di(t.type)&&Pi(),Hs(t),null;case 3:return r=t.stateNode,io(),Si(ji),Si(Ii),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Hs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hs(t),null}if(e=no(Za.current),ha(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Fr(Mr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,Ds(e,t),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Fr(Mr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=O({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ve(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&_(e,o,c,u))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Rs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Hs(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),da(),t.flags|=98560,o=!1;else if(o=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ru&&(Ru=3):ml())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Hs(t),null;case 10:return ba(t.type._context),Hs(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Hs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Ru||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>zu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Hs(t),null}else 2*Ye()-o.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Js(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(ji),Si(Ii),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return ba(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=O({},i,{value:void 0}),r=O({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Fr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,$s=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cl(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Cl(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[mi],delete t[vi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,hu=!1;function fu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||Zs(n,t);case 6:var r=cu,i=hu;cu=null,fu(e,t,n),hu=i,null!==(cu=r)&&(hu?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(hu?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=hu,cu=n.stateNode.containerInfo,hu=!0,fu(e,t,n),cu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!$s&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cl(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,fu(e,t,n),$s=r):fu(e,t,n);break;default:fu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,hu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===cu)throw Error(a(160));du(o,s,i),cu=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Cl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vu(t,e),t=t.sibling}function vu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(v){Cl(e,e.return,v)}try{nu(5,e,e.return)}catch(v){Cl(e,e.return,v)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(v){Cl(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&Y(i,o),_e(u,s);var c=_e(u,o);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];"style"===h?ve(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):_(i,h,f,c)}switch(u){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){Cl(e,e.return,v)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Cl(e,e.return,v)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(v){Cl(e,e.return,v)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Ye())),4&r&&pu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($s=(c=$s)||h,mu(t,e),$s=c):mu(t,e),gu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Xs=e,h=e.child;null!==h;){for(f=Xs=h;null!==Xs;){switch(p=(d=Xs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var m=d.stateNode;if("function"===typeof m.componentWillUnmount){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Cl(r,n,v)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(f);continue}}null!==p?(p.return=d,Xs=p):wu(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=me("display",s))}catch(v){Cl(e,e.return,v)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Cl(e,e.return,v)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mu(t,e),gu(e),4&r&&pu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Cl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Xs=e,_u(e,t,n)}function _u(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Qs;var l=$s;if(Qs=o,($s=u)&&!l)for(Xs=i;null!==Xs;)u=(o=Xs).child,22===o.tag&&null!==o.memoizedState?bu(i):null!==u?(u.return=o,Xs=u):bu(i);for(;null!==a;)Xs=a,_u(a,t,n),a=a.sibling;Xs=i,Qs=s,$s=l}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xs=a):ku(e)}}function ku(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:va(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&zt(f)}}}break;default:throw Error(a(163))}$s||512&t.flags&&iu(t)}catch(d){Cl(t,t.return,d)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function wu(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function bu(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Cl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Cl(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Cl(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Cl(t,o,u)}}}catch(u){Cl(t,t.return,u)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var xu,Cu=Math.ceil,Su=k.ReactCurrentDispatcher,Eu=k.ReactCurrentOwner,Tu=k.ReactCurrentBatchConfig,Iu=0,ju=null,Nu=null,Au=0,Du=0,Pu=Ci(0),Ru=0,Mu=null,Lu=0,Ou=0,Uu=0,Fu=null,Bu=null,Vu=0,zu=1/0,Gu=null,qu=!1,Wu=null,Hu=null,Ku=!1,Ju=null,Qu=0,$u=0,Yu=null,Xu=-1,Zu=0;function el(){return 0!==(6&Iu)?Ye():-1!==Xu?Xu:Xu=Ye()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Au?Au&-Au:null!==ma.transition?(0===Zu&&(Zu=mt()),Zu):0!==(e=_t)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nl(e,t,n,r){if(50<$u)throw $u=0,Yu=null,Error(a(185));gt(e,n,r),0!==(2&Iu)&&e===ju||(e===ju&&(0===(2&Iu)&&(Ou|=n),4===Ru&&sl(e,Au)),rl(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(zu=Ye()+500,Fi&&zi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===ju?Au:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(ul.bind(null,e)):Vi(ul.bind(null,e)),oi((function(){0===(6&Iu)&&zi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Xu=-1,Zu=0,0!==(6&Iu))throw Error(a(327));var n=e.callbackNode;if(bl()&&e.callbackNode!==n)return null;var r=ft(e,e===ju?Au:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=Iu;Iu|=2;var o=pl();for(ju===e&&Au===t||(Gu=null,zu=Ye()+500,fl(e,t));;)try{yl();break}catch(u){dl(e,u)}wa(),Su.current=o,Iu=i,null!==Nu?t=0:(ju=null,Au=0,t=Ru)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=Mu,fl(e,0),sl(e,r),rl(e,Ye()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(o=pt(e))&&(r=o,t=al(e,o))),1===t))throw n=Mu,fl(e,0),sl(e,r),rl(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,Bu,Gu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Vu+500-Ye())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,Bu,Gu),t);break}wl(e,Bu,Gu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cu(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,Bu,Gu),r);break}wl(e,Bu,Gu);break;default:throw Error(a(329))}}}return rl(e,Ye()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=Bu,Bu=n,null!==t&&ol(t)),e}function ol(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function sl(e,t){for(t&=~Uu,t&=~Ou,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Iu))throw Error(a(327));bl();var t=ft(e,0);if(0===(1&t))return rl(e,Ye()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Mu,fl(e,0),sl(e,t),rl(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Bu,Gu),rl(e,Ye()),null}function ll(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(zu=Ye()+500,Fi&&zi())}}function cl(e){null!==Ju&&0===Ju.tag&&0===(6&Iu)&&bl();var t=Iu;Iu|=1;var n=Tu.transition,r=_t;try{if(Tu.transition=null,_t=1,e)return e()}finally{_t=r,Tu.transition=n,0===(6&(Iu=t))&&zi()}}function hl(){Du=Pu.current,Si(Pu)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Si(ji),Si(Ii),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:ba(r.type._context);break;case 22:case 23:hl()}n=n.return}if(ju=e,Nu=e=Pl(e.current,null),Au=Du=t,Ru=0,Mu=null,Uu=Ou=Lu=0,Bu=Fu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dl(e,t){for(;;){var n=Nu;try{if(wa(),ho.current=os,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=vo=mo=null,_o=!1,ko=0,Eu.current=null,null===n||null===n.return){Ru=1,Mu=t,Nu=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Au,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&vs(o,c,t),l=c;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}if(0===(1&t)){vs(o,c,t),ml();break e}l=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Ru&&(Ru=2),null===Fu?Fu=[o]:Fu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,ps(0,l,t));break e;case 1:u=l;var y=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Hu||!Hu.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,ms(o,u,t));break e}}o=o.return}while(null!==o)}kl(n)}catch(k){t=k,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function pl(){var e=Su.current;return Su.current=os,null===e?os:e}function ml(){0!==Ru&&3!==Ru&&2!==Ru||(Ru=4),null===ju||0===(268435455&Lu)&&0===(268435455&Ou)||sl(ju,Au)}function vl(e,t){var n=Iu;Iu|=2;var r=pl();for(ju===e&&Au===t||(Gu=null,fl(e,t));;)try{gl();break}catch(i){dl(e,i)}if(wa(),Iu=n,Su.current=r,null!==Nu)throw Error(a(261));return ju=null,Au=0,Ru}function gl(){for(;null!==Nu;)_l(Nu)}function yl(){for(;null!==Nu&&!Qe();)_l(Nu)}function _l(e){var t=xu(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?kl(e):Nu=t,Eu.current=null}function kl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Du)))return void(Nu=n)}else{if(null!==(n=Js(n,t)))return n.flags&=32767,void(Nu=n);if(null===e)return Ru=6,void(Nu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Ru&&(Ru=5)}function wl(e,t,n){var r=_t,i=Tu.transition;try{Tu.transition=null,_t=1,function(e,t,n,r){do{bl()}while(null!==Ju);if(0!==(6&Iu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===ju&&(Nu=ju=null,Au=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,jl(tt,(function(){return bl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=_t;_t=1;var u=Iu;Iu|=4,Eu.current=null,function(e,t){if(ei=qt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++h===r&&(l=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:va(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Cl(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=tu,tu=!1}(e,n),vu(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,yu(n,e,i),$e(),Iu=u,_t=s,Tu.transition=o}else e.current=n;if(Ku&&(Ku=!1,Ju=e,Qu=i),0===(o=e.pendingLanes)&&(Hu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(qu)throw qu=!1,e=Wu,Wu=null,e;0!==(1&Qu)&&0!==e.tag&&bl(),0!==(1&(o=e.pendingLanes))?e===Yu?$u++:($u=0,Yu=e):$u=0,zi()}(e,t,n,r)}finally{Tu.transition=i,_t=r}return null}function bl(){if(null!==Ju){var e=kt(Qu),t=Tu.transition,n=_t;try{if(Tu.transition=null,_t=16>e?16:e,null===Ju)var r=!1;else{if(e=Ju,Ju=null,Qu=0,0!==(6&Iu))throw Error(a(331));var i=Iu;for(Iu|=4,Xs=e.current;null!==Xs;){var o=Xs,s=o.child;if(0!==(16&Xs.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Xs=c;null!==Xs;){var h=Xs;switch(h.tag){case 0:case 11:case 15:nu(8,h,o)}var f=h.child;if(null!==f)f.return=h,Xs=f;else for(;null!==Xs;){var d=(h=Xs).sibling,p=h.return;if(au(h),h===c){Xs=null;break}if(null!==d){d.return=p,Xs=d;break}Xs=p}}}var m=o.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Xs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(o=Xs).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Xs=y;break e}Xs=o.return}}var _=e.current;for(Xs=_;null!==Xs;){var k=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Xs=k;else e:for(s=_;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(b){Cl(u,u.return,b)}if(u===s){Xs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Xs=w;break e}Xs=u.return}}if(Iu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(b){}r=!0}return r}finally{_t=n,Tu.transition=t}}return!1}function xl(e,t,n){e=Ra(e,t=ps(0,t=cs(n,t),1),1),t=el(),null!==e&&(gt(e,1,t),rl(e,t))}function Cl(e,t,n){if(3===e.tag)xl(e,e,n);else for(;null!==t;){if(3===t.tag){xl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){t=Ra(t,e=ms(t,e=cs(n,e),1),1),e=el(),null!==t&&(gt(t,1,e),rl(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,ju===e&&(Au&n)===n&&(4===Ru||3===Ru&&(130023424&Au)===Au&&500>Ye()-Vu?fl(e,0):Uu|=n),rl(e,t)}function El(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=ja(e,t))&&(gt(e,t,n),rl(e,n))}function Tl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),El(e,n)}function Il(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),El(e,n)}function jl(e,t){return Ke(e,t)}function Nl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Al(e,t,n,r){return new Nl(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pl(e,t){var n=e.alternate;return null===n?((n=Al(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Ml(n.children,i,o,t);case C:s=8,i|=8;break;case S:return(e=Al(12,n,t,2|i)).elementType=S,e.lanes=o,e;case j:return(e=Al(13,n,t,i)).elementType=j,e.lanes=o,e;case N:return(e=Al(19,n,t,i)).elementType=N,e.lanes=o,e;case P:return Ll(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case T:s=9;break e;case I:s=11;break e;case A:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Al(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ml(e,t,n,r){return(e=Al(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Al(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Ol(e,t,n){return(e=Al(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Al(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,a,o,s,u){return e=new Fl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Al(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function Vl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zl(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Mi(e,n,t)}return t}function Gl(e,t,n,r,i,a,o,s,u){return(e=Bl(n,r,!0,e,0,a,0,s,u)).context=zl(null),n=e.current,(a=Pa(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,gt(e,i,r),rl(e,r),e}function ql(e,t,n,r){var i=t.current,a=el(),o=tl(i);return n=zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nl(e,i,o,a),Ma(e,i,o)),o}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Hl(e,t),(e=e.alternate)&&Hl(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ji.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Os(e,t,n):(Ei(so,1&so.current),null!==(e=qs(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return qs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var i=Ai(t,Ii.current);Ca(t,n),i=Co(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=js(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(r),e=va(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=bs(null,t,r,e,n);break e;case 14:t=xs(null,t,r,va(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:va(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:va(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Oa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=qs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return Os(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,bs(e,t,r,i=t.elementType===r?i:va(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!ji.current){t=qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Pa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ca(t,n),r=r(i=Sa(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=va(r=t.type,t.pendingProps),xs(e,t,r,i=va(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:va(r,i),Gs(e,t),t.tag=1,Di(r)?(e=!0,Li(t)):e=!1,Ca(t,n),Ga(t,r,i),Wa(t,r,i,n),js(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Jl="function"===typeof reportError?reportError:function(e){console.error(e)};function Ql(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wl(o);s.call(e)}}ql(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wl(o);a.call(e)}}var o=Gl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wl(u);s.call(e)}}var u=Bl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),cl((function(){ql(t,u,n,r)})),u}(n,t,e,i,r);return Wl(o)}$l.prototype.render=Ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));ql(e,t,null,null)},$l.prototype.unmount=Ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){ql(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ot(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,Ye()),0===(6&Iu)&&(zu=Ye()+500,zi()))}break;case 13:cl((function(){var t=ja(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Kl(e,1)}},bt=function(e){if(13===e.tag){var t=ja(e,134217728);if(null!==t)nl(t,e,134217728,el());Kl(e,134217728)}},xt=function(e){if(13===e.tag){var t=tl(e),n=ja(e,t);if(null!==n)nl(n,e,t,el());Kl(e,t)}},Ct=function(){return _t},St=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},be=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ll,je=cl;var tc={usingClientEntryPoint:!1,Events:[_i,ki,wi,Ee,Te,ll]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(a(200));return Vl(e,t,null,n)},t.createRoot=function(e,t){if(!Yl(e))throw Error(a(299));var n=!1,r="",i=Jl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Jl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Gl(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Xl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.jsx=l,t.jsxs=l},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var k=_.prototype=new y;k.constructor=_,m(k,g.prototype),k.isPureReactComponent=!0;var w=Array.isArray,b=Object.prototype.hasOwnProperty,x={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),j(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+I(s=e[l],l);u+=j(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=j(s=s.value,t,i,c=a+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)b.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,f=null,d=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(v=!1,k(e),!m)if(null!==r(l))m=!0,P(b);else{var t=r(c);null!==t&&R(w,t.startTime-e)}}function b(e,n){m=!1,v&&(v=!1,y(E),E=-1),p=!0;var a=d;try{for(k(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!j());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),k(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var h=r(c);null!==h&&R(w,h.startTime-n),u=!1}return u}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,C=!1,S=null,E=-1,T=5,I=-1;function j(){return!(t.unstable_now()-I<T)}function N(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?x():(C=!1,S=null)}}else C=!1}if("function"===typeof _)x=function(){_(N)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=N,x=function(){D.postMessage(null)}}else x=function(){g(N,0)};function P(e){S=e,C||(C=!0,x())}function R(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(b))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(v?(y(E),E=-1):v=!0,R(w,a-o))):(e.sortIndex=s,n(l,e),m||p||(m=!0,P(b))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".b7b50325.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="incommon:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+a){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/incommon/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkincommon=self.webpackChunkincommon||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){var e=n(791),t=n.t(e,2),r=n(250);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||o(e,t)||s()}var l,c=n(164),h=n.t(c,2);function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){return function(e){if(Array.isArray(e))return a(e)}(e)||f(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){if(t&&("object"===w(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function C(e){var t=k();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function S(e,t,n){return S=k()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i},S.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return S(e,arguments,_(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,e)},E(e)}function T(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(l||(l={}));var j,N="popstate";function A(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function D(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function P(e,t){return{usr:e.state,key:e.key,idx:t}}function R(e,t,n,r){return void 0===n&&(n=null),I({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function M(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function O(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,h=l.Pop,f=null,d=p();function p(){return(c.state||{idx:null}).idx}function m(){h=l.Pop;var e=p(),t=null==e?null:e-d;d=e,f&&f({action:h,location:g.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:M(e);return A(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,c.replaceState(I({},c.state,{idx:d}),""));var g={get action(){return h},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(N,m),f=e,function(){o.removeEventListener(N,m),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h=l.Push;var r=R(g.location,e,t);n&&n(r,e);var i=P(r,d=p()+1),a=g.createHref(r);try{c.pushState(i,"",a)}catch(qm){if(qm instanceof DOMException&&"DataCloneError"===qm.name)throw qm;o.location.assign(a)}u&&f&&f({action:h,location:g.location,delta:1})},replace:function(e,t){h=l.Replace;var r=R(g.location,e,t);n&&n(r,e);var i=P(r,d=p()),a=g.createHref(r);c.replaceState(i,"",a),u&&f&&f({action:h,location:g.location,delta:0})},go:function(e){return c.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(j||(j={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function U(e,t,n){void 0===n&&(n="/");var r=K(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var i=F(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=q(i[o],H(r));return a}function F(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(A(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=Y([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(A(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),F(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:G(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=T(B(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function B(e){var t=e.split("/");if(0===t.length)return[];var n,r=i(n=t)||f(n)||o(n)||s(),a=r[0],u=r.slice(1),l=a.endsWith("?"),c=a.replace(/\?$/,"");if(0===u.length)return l?[c,""]:[c];var h=B(u.join("/")),p=[];return p.push.apply(p,d(h.map((function(e){return""===e?c:[c,e].join("/")})))),l&&p.push.apply(p,d(h)),p.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var V=/^:\w+$/,z=function(e){return"*"===e};function G(e,t){var n=e.split("/"),r=n.length;return n.some(z)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!z(e)})).reduce((function(e,t){return e+(V.test(t)?3:""===t?1:10)}),r)}function q(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=W({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var h=s.route;a.push({params:r,pathname:Y([i,c.pathname]),pathnameBase:X(Y([i,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(i=Y([i,c.pathnameBase]))}return a}function W(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);D("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(function(e,t,n){return r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"}));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],l=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),h=a.reduce((function(e,t,n){var r=t.paramName,i=t.isOptional;if("*"===r){var a=c[n]||"";l=s.slice(0,s.length-a.length).replace(/(.)\/+$/,"$1")}var o=c[n];return e[r]=i&&!o?void 0:function(e,t){try{return decodeURIComponent(e)}catch(qm){return D(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+qm+")."),e}}(o||"",r),e}),{});return{params:h,pathname:s,pathnameBase:l,pattern:e}}function H(e){try{return decodeURI(e)}catch(qm){return D(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+qm+")."),e}}function K(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function J(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Q(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function $(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=L(e):(A(!(i=I({},e)).pathname||!i.pathname.includes("?"),J("?","pathname","search",i)),A(!i.pathname||!i.pathname.includes("#"),J("#","pathname","hash",i)),A(!i.search||!i.search.includes("#"),J("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(null==s)a=n;else if(r){var u=t[t.length-1].replace(/^\//,"").split("/");if(s.startsWith("..")){for(var l=s.split("/");".."===l[0];)l.shift(),u.pop();i.pathname=l.join("/")}a="/"+u.join("/")}else{var c=t.length-1;if(s.startsWith("..")){for(var h=s.split("/");".."===h[0];)h.shift(),c-=1;i.pathname=h.join("/")}a=c>=0?t[c]:"/"}var f=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:Z(a),hash:ee(s)}}(i,a),d=s&&"/"!==s&&s.endsWith("/"),p=(o||"."===s)&&n.endsWith("/");return f.pathname.endsWith("/")||!d&&!p||(f.pathname+="/"),f}var Y=function(e){return e.join("/").replace(/\/\/+/g,"/")},X=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Z=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ee=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},te=function(e){y(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n)}(E(Error));function ne(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var re=["post","put","patch","delete"],ie=(new Set(re),["get"].concat(re));new Set(ie),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}var oe=e.createContext(null);var se=e.createContext(null);var ue=e.createContext(null);var le=e.createContext(null);var ce=e.createContext(null);var he=e.createContext({outlet:null,matches:[],isDataRoute:!1});var fe=e.createContext(null);function de(){return null!=e.useContext(ce)}function pe(){return de()||A(!1),e.useContext(ce).location}function me(t){e.useContext(le).static||e.useLayoutEffect(t)}function ve(){return e.useContext(he).isDataRoute?function(){var t=Te(Se.UseNavigateStable).router,n=je(Ee.UseNavigateStable),r=e.useRef(!1);me((function(){r.current=!0}));var i=e.useCallback((function(e,i){void 0===i&&(i={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,ae({fromRouteId:n},i)))}),[t,n]);return i}():function(){de()||A(!1);var t=e.useContext(oe),n=e.useContext(le),r=n.basename,i=n.navigator,a=e.useContext(he).matches,o=pe().pathname,s=JSON.stringify(Q(a).map((function(e){return e.pathnameBase}))),u=e.useRef(!1);me((function(){u.current=!0}));var l=e.useCallback((function(e,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof e){var a=$(e,JSON.parse(s),o,"path"===n.relative);null==t&&"/"!==r&&(a.pathname="/"===a.pathname?r:Y([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(e)}),[r,i,s,o,t]);return l}()}function ge(){var t=e.useContext(he).matches,n=t[t.length-1];return n?n.params:{}}function ye(t,n){var r=(void 0===n?{}:n).relative,i=e.useContext(he).matches,a=pe().pathname,o=JSON.stringify(Q(i).map((function(e){return e.pathnameBase})));return e.useMemo((function(){return $(t,JSON.parse(o),a,"path"===r)}),[t,o,a,r])}function _e(t,n,r){de()||A(!1);var i,a=e.useContext(le).navigator,o=e.useContext(he).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),h=(s&&s.route,pe());if(n){var f,d="string"===typeof n?L(n):n;"/"===c||(null==(f=d.pathname)?void 0:f.startsWith(c))||A(!1),i=d}else i=h;var p=i.pathname||"/",m=U(t,{pathname:"/"===c?p:p.slice(c.length)||"/"});var v=Ce(m&&m.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Y([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Y([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?e.createElement(ce.Provider,{value:{location:ae({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:l.Pop}},v):v}function ke(){var t=function(){var t,n=e.useContext(fe),r=Ie(Ee.UseRouteError),i=je(Ee.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=ne(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,null)}var we=e.createElement(ke,null),be=function(t){y(r,t);var n=C(r);function r(e){var t;return p(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return v(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(he.Provider,{value:this.props.routeContext},e.createElement(fe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(e.Component);function xe(t){var n=t.routeContext,r=t.match,i=t.children,a=e.useContext(oe);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(he.Provider,{value:n},i)}function Ce(t,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==t){var a;if(null==(a=r)||!a.errors)return null;t=r.matches}var o=t,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||A(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(t,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,l=null;r&&(l=i.route.errorElement||we);var c=n.concat(o.slice(0,a+1)),h=function(){var n;return n=u?l:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(xe,{match:i,routeContext:{outlet:t,matches:c,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?e.createElement(be,{location:r.location,revalidation:r.revalidation,component:l,error:u,children:h(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):h()}),null)}var Se=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Se||{}),Ee=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ee||{});function Te(t){var n=e.useContext(oe);return n||A(!1),n}function Ie(t){var n=e.useContext(se);return n||A(!1),n}function je(t){var n=function(t){var n=e.useContext(he);return n||A(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||A(!1),r.route.id}t.startTransition;function Ne(e){A(!1)}function Ae(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,s=t.navigationType,u=void 0===s?l.Pop:s,c=t.navigator,h=t.static,f=void 0!==h&&h;de()&&A(!1);var d=r.replace(/^\/*/,"/"),p=e.useMemo((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof o&&(o=L(o));var m=o,v=m.pathname,g=void 0===v?"/":v,y=m.search,_=void 0===y?"":y,k=m.hash,w=void 0===k?"":k,b=m.state,x=void 0===b?null:b,C=m.key,S=void 0===C?"default":C,E=e.useMemo((function(){var e=K(g,d);return null==e?null:{location:{pathname:e,search:_,hash:w,state:x,key:S},navigationType:u}}),[d,g,_,w,x,S,u]);return null==E?null:e.createElement(le.Provider,{value:p},e.createElement(ce.Provider,{children:a,value:E}))}function De(e){var t=e.children,n=e.location;return _e(Me(t),n)}var Pe=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Pe||{}),Re=new Promise((function(){}));e.Component;function Me(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,i){if(e.isValidElement(t)){var a=[].concat(d(n),[i]);if(t.type!==e.Fragment){t.type!==Ne&&A(!1),t.props.index&&t.props.children&&A(!1);var o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=Me(t.props.children,a)),r.push(o)}else r.push.apply(r,Me(t.props.children,a))}})),r}function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}function Oe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Ue=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;var Fe=t.startTransition;h.flushSync;function Be(t){var n,r=t.basename,i=t.children,a=t.future,o=t.window,s=e.useRef();null==s.current&&(s.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),O((function(e,t){var n=L(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,s=n.hash,u=void 0===s?"":s;return i.startsWith("/")||i.startsWith(".")||(i="/"+i),R("",{pathname:i,search:o,hash:u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:M(t))}),(function(e,t){D("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)));var l=s.current,c=u(e.useState({action:l.action,location:l.location}),2),h=c[0],f=c[1],d=(a||{}).v7_startTransition,p=e.useCallback((function(e){d&&Fe?Fe((function(){return f(e)})):f(e)}),[f,d]);return e.useLayoutEffect((function(){return l.listen(p)}),[l,p]),e.createElement(Ae,{basename:r,children:i,location:h.location,navigationType:h.action,navigator:l})}var Ve="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ze=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=e.forwardRef((function(t,n){var r,i=t.onClick,a=t.relative,o=t.reloadDocument,s=t.replace,u=t.state,l=t.target,c=t.to,h=t.preventScrollReset,f=t.unstable_viewTransition,d=Oe(t,Ue),p=e.useContext(le).basename,m=!1;if("string"===typeof c&&ze.test(c)&&(r=c,Ve))try{var v=new URL(window.location.href),g=c.startsWith("//")?new URL(v.protocol+c):new URL(c),y=K(g.pathname,p);g.origin===v.origin&&null!=y?c=y+g.search+g.hash:m=!0}catch(w){}var _=function(t,n){var r=(void 0===n?{}:n).relative;de()||A(!1);var i=e.useContext(le),a=i.basename,o=i.navigator,s=ye(t,{relative:r}),u=s.hash,l=s.pathname,c=s.search,h=l;return"/"!==a&&(h="/"===l?a:Y([a,l])),o.createHref({pathname:h,search:c,hash:u})}(c,{relative:a}),k=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,l=r.unstable_viewTransition,c=ve(),h=pe(),f=ye(t,{relative:u});return e.useCallback((function(e){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,i)){e.preventDefault();var n=void 0!==a?a:M(h)===M(f);c(t,{replace:n,state:o,preventScrollReset:s,relative:u,unstable_viewTransition:l})}}),[h,c,f,a,o,i,t,s,u,l])}(c,{replace:s,state:u,target:l,preventScrollReset:h,relative:a,unstable_viewTransition:f});return e.createElement("a",Le({},d,{href:r||_,onClick:m||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:l}))}));var qe,We;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qe||(qe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(We||(We={}));function He(){He=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=u;var c={};function h(){}function f(){}function d(){}var p={};s(p,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==t&&n.call(v,i)&&(p=v);var g=d.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==w(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=d,s(g,"constructor",d),s(d,"constructor",f),f.displayName=s(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(_.prototype),s(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(g),s(g,o,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function Ke(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(qm){return void n(qm)}s.done?t(u):Promise.resolve(u).then(r,i)}function Je(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ke(a,r,i,o,s,"next",e)}function s(e){Ke(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Qe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function $e(){return $e="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Qe(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},$e.apply(this,arguments)}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=!1,Ze=!1,et="${JSCORE_VERSION}",tt=function(e,t){if(!e)throw nt(t)},nt=function(e){return new Error("Firebase Database ("+et+") INTERNAL ASSERT FAILED: "+e)},rt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},it={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(rt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},at=function(e){var t=rt(e);return it.encodeByteArray(t,!0)},ot=function(e){return at(e).replace(/\./g,"")},st=function(e){try{return it.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ut(e){return lt(void 0,e)}function lt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=lt(e[n],t[n]));return e}var ct=function(){function e(){var t=this;p(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return v(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ht(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ft(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function dt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function pt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function mt(){return!0===Xe||!0===Ze}function vt(){return"object"===typeof indexedDB}function gt(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(qm){t(qm)}}))}var yt=function(e){y(n,e);var t=C(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(b(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(b(a),_t.prototype.create),a}return v(n)}(E(Error)),_t=function(){function e(t,n,r){p(this,e),this.service=t,this.serviceName=n,this.errors=r}return v(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?kt(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new yt(n,a,t);return o}}]),e}();function kt(e,t){return e.replace(wt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var wt=/\{\$([^}]+)}/g;function bt(e){return JSON.parse(e)}function xt(e){return JSON.stringify(e)}var Ct=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=bt(st(a[0])||""),n=bt(st(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function St(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Et(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Tt(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function It(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function jt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Nt(s)&&Nt(u)){if(!jt(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var h=c[l];if(!n.includes(h))return!1}return!0}function Nt(e){return null!==e&&"object"===typeof e}function At(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}var Dt=function(){function e(){p(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return v(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,l=this.chain_[0],c=this.chain_[1],h=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^c&(h^f),u=1518500249):(s=c^h^f,u=1859775393):p<60?(s=c&h|f&(c|h),u=2400959708):(s=c^h^f,u=3395469782);var m=(l<<5|l>>>27)+s+d+u+n[p]&4294967295;d=f,f=h,h=4294967295&(c<<30|c>>>2),c=l,l=m}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Pt(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Rt=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},Mt=144e5;function Lt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(Mt,r+i)}function Ot(e){return e&&e._delegate?e._delegate:e}var Ut=function(){function e(t,n,r){p(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return v(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ft="[DEFAULT]",Bt=function(){function e(t,n){p(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return v(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ct;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ft})}catch(l){}var t,n=T(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(l){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Je(He().mark((function e(){var t;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(d(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),d(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=T(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),l=s[0],c=s[1],h=this.normalizeInstanceIdentifier(l);r===h&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ft?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft;return this.component?this.component.multipleInstances?e:Ft:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Vt,zt,Gt=function(){function e(t){p(this,e),this.name=t,this.providers=new Map}return v(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Bt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),qt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(zt||(zt={}));var Wt={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},Ht=zt.INFO,Kt=(Ye(Vt={},zt.DEBUG,"log"),Ye(Vt,zt.VERBOSE,"log"),Ye(Vt,zt.INFO,"info"),Ye(Vt,zt.WARN,"warn"),Ye(Vt,zt.ERROR,"error"),Vt),Jt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Kt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Qt=function(){function e(t){p(this,e),this.name=t,this._logLevel=Ht,this._logHandler=Jt,this._userLogHandler=null,qt.push(this)}return v(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in zt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Wt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zt.DEBUG].concat(t)),this._logHandler.apply(this,[this,zt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,zt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zt.INFO].concat(t)),this._logHandler.apply(this,[this,zt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zt.WARN].concat(t)),this._logHandler.apply(this,[this,zt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zt.ERROR].concat(t)),this._logHandler.apply(this,[this,zt.ERROR].concat(t))}}]),e}();function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){Ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xt,Zt;var en=new WeakMap,tn=new WeakMap,nn=new WeakMap,rn=new WeakMap,an=new WeakMap;var on={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return tn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||nn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ln(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function sn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Zt||(Zt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(cn(this),n),ln(en.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ln(e.apply(cn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[cn(this),t].concat(r));return nn.set(a,t.sort?t.sort():[t]),ln(a)}}function un(e){return"function"===typeof e?sn(e):(e instanceof IDBTransaction&&function(e){if(!tn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));tn.set(e,t)}}(e),t=e,(Xt||(Xt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,on):e);var t}function ln(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(ln(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&en.set(t,e)})).catch((function(){})),an.set(t,e),t}(e);if(rn.has(e))return rn.get(e);var t=un(e);return t!==e&&(rn.set(e,t),an.set(t,e)),t}var cn=function(e){return an.get(e)};var hn,fn,dn=["get","getKey","getAll","getAllKeys","count"],pn=["put","add","delete","clear"],mn=new Map;function vn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(mn.get(t))return mn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=pn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||dn.includes(n))){var a=function(){var e=Je(He().mark((function e(t){var a,o,s,u,l,c,h=arguments;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=h.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=h[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return mn.set(t,a),a}}}on=function(e){return Yt(Yt({},e),{},{get:function(t,n,r){return vn(t,n)||e.get(t,n,r)},has:function(t,n){return!!vn(t,n)||e.has(t,n)}})}(on);var gn=function(){function e(t){p(this,e),this.container=t}return v(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var yn="@firebase/app",_n="0.7.31",kn=new Qt("@firebase/app"),wn="[DEFAULT]",bn=(Ye(hn={},yn,"fire-core"),Ye(hn,"@firebase/app-compat","fire-core-compat"),Ye(hn,"@firebase/analytics","fire-analytics"),Ye(hn,"@firebase/analytics-compat","fire-analytics-compat"),Ye(hn,"@firebase/app-check","fire-app-check"),Ye(hn,"@firebase/app-check-compat","fire-app-check-compat"),Ye(hn,"@firebase/auth","fire-auth"),Ye(hn,"@firebase/auth-compat","fire-auth-compat"),Ye(hn,"@firebase/database","fire-rtdb"),Ye(hn,"@firebase/database-compat","fire-rtdb-compat"),Ye(hn,"@firebase/functions","fire-fn"),Ye(hn,"@firebase/functions-compat","fire-fn-compat"),Ye(hn,"@firebase/installations","fire-iid"),Ye(hn,"@firebase/installations-compat","fire-iid-compat"),Ye(hn,"@firebase/messaging","fire-fcm"),Ye(hn,"@firebase/messaging-compat","fire-fcm-compat"),Ye(hn,"@firebase/performance","fire-perf"),Ye(hn,"@firebase/performance-compat","fire-perf-compat"),Ye(hn,"@firebase/remote-config","fire-rc"),Ye(hn,"@firebase/remote-config-compat","fire-rc-compat"),Ye(hn,"@firebase/storage","fire-gcs"),Ye(hn,"@firebase/storage-compat","fire-gcs-compat"),Ye(hn,"@firebase/firestore","fire-fst"),Ye(hn,"@firebase/firestore-compat","fire-fst-compat"),Ye(hn,"fire-js","fire-js"),Ye(hn,"firebase","fire-js-all"),hn),xn=new Map,Cn=new Map;function Sn(e,t){try{e.container.addComponent(t)}catch(n){kn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function En(e){var t=e.name;if(Cn.has(t))return kn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Cn.set(t,e);var n,r=T(xn.values());try{for(r.s();!(n=r.n()).done;){Sn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Tn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var In=(Ye(fn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ye(fn,"bad-app-name","Illegal App name: '{$appName}"),Ye(fn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ye(fn,"app-deleted","Firebase App named '{$appName}' already deleted"),Ye(fn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ye(fn,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ye(fn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ye(fn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ye(fn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ye(fn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),fn),jn=new _t("app","Firebase",In),Nn=function(){function e(t,n,r){var i=this;p(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ut("app",(function(){return i}),"PUBLIC"))}return v(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}]),e}(),An="9.9.3";function Dn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t=xn.get(e);if(!t)throw jn.create("no-app",{appName:e});return t}function Pn(e,t,n){var r,i=null!==(r=bn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void kn.warn(s.join(" "))}En(new Ut("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Rn="firebase-heartbeat-store",Mn=null;function Ln(){return Mn||(Mn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=ln(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(ln(s.result),e.oldVersion,e.newVersion,ln(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Rn)}}).catch((function(e){throw jn.create("idb-open",{originalErrorMessage:e.message})}))),Mn}function On(e){return Un.apply(this,arguments)}function Un(){return Un=Je(He().mark((function e(t){var n,r,i;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ln();case 3:return r=e.sent,e.abrupt("return",r.transaction(Rn).objectStore(Rn).get(Vn(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof yt?kn.warn(e.t0.message):(i=jn.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),kn.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Un.apply(this,arguments)}function Fn(e,t){return Bn.apply(this,arguments)}function Bn(){return Bn=Je(He().mark((function e(t,n){var r,i,a,o,s;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ln();case 3:return i=e.sent,a=i.transaction(Rn,"readwrite"),o=a.objectStore(Rn),e.next=8,o.put(n,Vn(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof yt?kn.warn(e.t0.message):(s=jn.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),kn.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Bn.apply(this,arguments)}function Vn(e){return"".concat(e.name,"!").concat(e.options.appId)}var zn=function(){function e(t){var n=this;p(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Hn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return v(e,[{key:"triggerHeartbeat",value:function(){var e=Je(He().mark((function e(){var t,n,r;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Gn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Je(He().mark((function e(){var t,n,r,i,a;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Gn(),n=qn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ot(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Gn(){return(new Date).toISOString().substring(0,10)}function qn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=T(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Kn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Kn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Wn,Hn=function(){function e(t){p(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return v(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Je(He().mark((function e(){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",gt().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Je(He().mark((function e(){var t;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,On(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Je(He().mark((function e(t){var n,r;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Fn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Je(He().mark((function e(t){var n,r;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Fn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(d(r.heartbeats),d(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Kn(e){return ot(JSON.stringify({version:2,heartbeats:e})).length}Wn="",En(new Ut("platform-logger",(function(e){return new gn(e)}),"PRIVATE")),En(new Ut("heartbeat",(function(e){return new zn(e)}),"PRIVATE")),Pn(yn,_n,Wn),Pn(yn,_n,"esm2017"),Pn("fire-js","");var Jn,Qn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},$n={},Yn=Yn||{},Xn=Qn||self;function Zn(){}function er(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function tr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var nr="closure_uid_"+(1e9*Math.random()>>>0),rr=0;function ir(e,t,n){return e.call.apply(e.bind,arguments)}function ar(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function or(e,t,n){return(or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ir:ar).apply(null,arguments)}function sr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ur(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function lr(){this.s=this.s,this.o=this.o}var cr={};lr.prototype.s=!1,lr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,nr)&&e[nr]||(e[nr]=++rr)}(this);delete cr[e]}},lr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var hr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},fr=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function dr(e){return Array.prototype.concat.apply([],arguments)}function pr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function mr(e){return/^[\s\xa0]*$/.test(e)}var vr,gr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function yr(e,t){return-1!=e.indexOf(t)}function _r(e,t){return e<t?-1:e>t?1:0}e:{var kr=Xn.navigator;if(kr){var wr=kr.userAgent;if(wr){vr=wr;break e}}vr=""}function br(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function xr(e){var t={};for(var n in e)t[n]=e[n];return t}var Cr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sr(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Cr.length;a++)n=Cr[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Er(e){return Er[" "](e),e}Er[" "]=Zn;var Tr,Ir=yr(vr,"Opera"),jr=yr(vr,"Trident")||yr(vr,"MSIE"),Nr=yr(vr,"Edge"),Ar=Nr||jr,Dr=yr(vr,"Gecko")&&!(yr(vr.toLowerCase(),"webkit")&&!yr(vr,"Edge"))&&!(yr(vr,"Trident")||yr(vr,"MSIE"))&&!yr(vr,"Edge"),Pr=yr(vr.toLowerCase(),"webkit")&&!yr(vr,"Edge");function Rr(){var e=Xn.document;return e?e.documentMode:void 0}e:{var Mr="",Lr=function(){var e=vr;return Dr?/rv:([^\);]+)(\)|;)/.exec(e):Nr?/Edge\/([\d\.]+)/.exec(e):jr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Pr?/WebKit\/(\S+)/.exec(e):Ir?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Lr&&(Mr=Lr?Lr[1]:""),jr){var Or=Rr();if(null!=Or&&Or>parseFloat(Mr)){Tr=String(Or);break e}}Tr=Mr}var Ur,Fr={};function Br(){return function(e){var t=Fr;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=gr(String(Tr)).split("."),n=gr("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=_r(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||_r(0==a[2].length,0==o[2].length)||_r(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Xn.document&&jr){var Vr=Rr();Ur=Vr||(parseInt(Tr,10)||void 0)}else Ur=void 0;var zr=Ur,Gr=function(){if(!Xn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Xn.addEventListener("test",Zn,t),Xn.removeEventListener("test",Zn,t)}catch(n){}return e}();function qr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Wr(e,t){if(qr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Dr){e:{try{Er(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Hr[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Wr.Z.h.call(this)}}qr.prototype.h=function(){this.defaultPrevented=!0},ur(Wr,qr);var Hr={2:"touch",3:"pen",4:"mouse"};Wr.prototype.h=function(){Wr.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Kr="closure_listenable_"+(1e6*Math.random()|0),Jr=0;function Qr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Jr,this.ca=this.fa=!1}function $r(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Yr(e){this.src=e,this.g={},this.h=0}function Xr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=hr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&($r(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Zr(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Yr.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Zr(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Qr(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ei="closure_lm_"+(1e6*Math.random()|0),ti={};function ni(e,t,n,r,i){if(r&&r.once)return ii(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ni(e,t[a],n,r,i);return null}return n=hi(n),e&&e[Kr]?e.N(t,n,tr(r)?!!r.capture:!!r,i):ri(e,t,n,!1,r,i)}function ri(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=tr(i)?!!i.capture:!!i,s=li(e);if(s||(e[ei]=s=new Yr(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ui;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Gr||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(si(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ii(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ii(e,t[a],n,r,i);return null}return n=hi(n),e&&e[Kr]?e.O(t,n,tr(r)?!!r.capture:!!r,i):ri(e,t,n,!0,r,i)}function ai(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ai(e,t[a],n,r,i);else r=tr(r)?!!r.capture:!!r,n=hi(n),e&&e[Kr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Zr(a=e.g[t],n,r,i))&&($r(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=li(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Zr(t,n,r,i)),(n=-1<e?t[e]:null)&&oi(n))}function oi(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Kr])Xr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(si(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=li(t))?(Xr(n,e),0==n.h&&(n.src=null,t[ei]=null)):$r(e)}}}function si(e){return e in ti?ti[e]:ti[e]="on"+e}function ui(e,t){if(e.ca)e=!0;else{t=new Wr(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&oi(e),e=n.call(r,t)}return e}function li(e){return(e=e[ei])instanceof Yr?e:null}var ci="__closure_events_fn_"+(1e9*Math.random()>>>0);function hi(e){return"function"===typeof e?e:(e[ci]||(e[ci]=function(t){return e.handleEvent(t)}),e[ci])}function fi(){lr.call(this),this.i=new Yr(this),this.P=this,this.I=null}function di(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new qr(t,e);else if(t instanceof qr)t.target=t.target||e;else{var i=t;Sr(t=new qr(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=pi(o,r,!0,t)&&i}if(i=pi(o=t.g=e,r,!0,t)&&i,i=pi(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=pi(o=t.g=n[a],r,!1,t)&&i}function pi(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Xr(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ur(fi,lr),fi.prototype[Kr]=!0,fi.prototype.removeEventListener=function(e,t,n,r){ai(this,e,t,n,r)},fi.prototype.M=function(){if(fi.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$r(n[r]);delete t.g[e],t.h--}}this.I=null},fi.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},fi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var mi=Xn.JSON.stringify;function vi(){var e=Ci,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var gi,yi=function(){function e(){p(this,e),this.h=this.g=null}return v(e,[{key:"add",value:function(e,t){var n=_i.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),_i=new(function(){function e(t,n){p(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return v(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ki}),(function(e){return e.reset()})),ki=function(){function e(){p(this,e),this.next=this.g=this.h=null}return v(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function wi(e){Xn.setTimeout((function(){throw e}),0)}function bi(e,t){gi||function(){var e=Xn.Promise.resolve(void 0);gi=function(){e.then(Si)}}(),xi||(gi(),xi=!0),Ci.add(e,t)}var xi=!1,Ci=new yi;function Si(){for(var e;e=vi();){try{e.h.call(e.g)}catch(n){wi(n)}var t=_i;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xi=!1}function Ei(e,t){fi.call(this),this.h=e||1,this.g=t||Xn,this.j=or(this.kb,this),this.l=Date.now()}function Ti(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ii(e,t,n){if("function"===typeof e)n&&(e=or(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=or(e.handleEvent,e)}return 2147483647<Number(t)?-1:Xn.setTimeout(e,t||0)}function ji(e){e.g=Ii((function(){e.g=null,e.i&&(e.i=!1,ji(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ur(Ei,fi),(Jn=Ei.prototype).da=!1,Jn.S=null,Jn.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),di(this,"tick"),this.da&&(Ti(this),this.start()))}},Jn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Jn.M=function(){Ei.Z.M.call(this),Ti(this),delete this.g};var Ni=function(e){y(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return v(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ji(this)}},{key:"M",value:function(){$e(_(n.prototype),"M",this).call(this),this.g&&(Xn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(lr);function Ai(e){lr.call(this),this.h=e,this.g={}}ur(Ai,lr);var Di=[];function Pi(e,t,n,r){Array.isArray(n)||(n&&(Di[0]=n.toString()),n=Di);for(var i=0;i<n.length;i++){var a=ni(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ri(e){br(e.g,(function(e,t){this.g.hasOwnProperty(t)&&oi(e)}),e),e.g={}}function Mi(){this.g=!0}function Li(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return mi(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Ai.prototype.M=function(){Ai.Z.M.call(this),Ri(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mi.prototype.Aa=function(){this.g=!1},Mi.prototype.info=function(){};var Oi={},Ui=null;function Fi(){return Ui=Ui||new fi}function Bi(e){qr.call(this,Oi.Ma,e)}function Vi(e){var t=Fi();di(t,new Bi(t,e))}function zi(e,t){qr.call(this,Oi.STAT_EVENT,e),this.stat=t}function Gi(e){var t=Fi();di(t,new zi(t,e))}function qi(e,t){qr.call(this,Oi.Na,e),this.size=t}function Wi(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Xn.setTimeout((function(){e()}),t)}Oi.Ma="serverreachability",ur(Bi,qr),Oi.STAT_EVENT="statevent",ur(zi,qr),Oi.Na="timingevent",ur(qi,qr);var Hi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ki={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ji(){}function Qi(e){return e.h||(e.h=e.i())}function $i(){}Ji.prototype.h=null;var Yi,Xi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Zi(){qr.call(this,"d")}function ea(){qr.call(this,"c")}function ta(){}function na(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ai(this),this.P=ia,e=Ar?125:void 0,this.W=new Ei(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ra}function ra(){this.i=null,this.g="",this.h=!1}ur(Zi,qr),ur(ea,qr),ur(ta,Ji),ta.prototype.g=function(){return new XMLHttpRequest},ta.prototype.i=function(){return{}},Yi=new ta;var ia=45e3,aa={},oa={};function sa(e,t,n){e.K=1,e.v=Na(Ca(t)),e.s=n,e.U=!0,ua(e,null)}function ua(e,t){e.F=Date.now(),fa(e),e.A=Ca(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Ga(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ra,e.g=Wo(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ni(or(e.Ia,e,e.g),e.O)),Pi(e.V,e.g,"readystatechange",e.gb),t=e.H?xr(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Vi(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function la(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ca(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ha(e,n))==oa){4==t&&(e.o=4,Gi(14),i=!1),Li(e.j,e.m,null,"[Incomplete Response]");break}if(r==aa){e.o=4,Gi(15),Li(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Li(e.j,e.m,r,null),ga(e,r)}la(e)&&r!=oa&&r!=aa&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Gi(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Oo(t),t.L=!0,Gi(11))):(Li(e.j,e.m,n,"[Invalid Chunked Response]"),va(e),ma(e))}function ha(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?oa:(n=Number(t.substring(n,r)),isNaN(n)?aa:(r+=1)+n>t.length?oa:(t=t.substr(r,n),e.C=r+n,t))}function fa(e){e.Y=Date.now()+e.P,da(e,e.P)}function da(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Wi(or(e.eb,e),t)}function pa(e){e.B&&(Xn.clearTimeout(e.B),e.B=null)}function ma(e){0==e.l.G||e.I||Bo(e.l,e)}function va(e){pa(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ti(e.W),Ri(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ga(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||$a(n.i,e)))if(n.I=e.N,!e.J&&$a(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Fo(n),Io(n)}Lo(n),Gi(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Wi(or(n.ab,n),6e3));if(1>=Qa(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else zo(n,11)}else if((e.J||n.g==e)&&Fo(n),!mr(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(yr(c,"spdy")||yr(c,"quic")||yr(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Ya(h,h.h),h.h=null))}if(r.D){var f=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,ja(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=qo(r,r.H?r.la:null,r.W),d.J){Xa(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(pa(p),fa(p)),r.g=d}else Mo(r);0<n.l.length&&Ao(n)}else"stop"!=a[0]&&"close"!=a[0]||zo(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?zo(n,7):To(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Vi(4)}catch(a){}}function ya(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(er(e)||"string"===typeof e)fr(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(er(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(er(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function _a(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof _a)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ka(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];wa(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)wa(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function wa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Jn=na.prototype).setTimeout=function(e){this.P=e},Jn.gb=function(e){e=e.target;var t=this.L;t&&3==bo(e)?t.l():this.Ia(e)},Jn.Ia=function(e){try{if(e==this.g)e:{var t=bo(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ar||this.g&&(this.h.h||this.g.ga()||xo(this.g)))){this.I||4!=t||7==n||Vi(8==n||0>=r?3:2),pa(this);var i=this.g.ba();this.N=i;t:if(la(this)){var a=xo(this.g);e="";var o=a.length,s=4==bo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){va(this),ma(this);var u="";break t}this.h.i=new Xn.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mr(l)){var h=l;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,Gi(12),va(this),ma(this);break e}Li(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ga(this,i)}this.U?(ca(this,t,u),Ar&&this.i&&3==t&&(Pi(this.V,this.W,"tick",this.fb),this.W.start())):(Li(this.j,this.m,u,null),ga(this,u)),4==t&&va(this),this.i&&!this.I&&(4==t?Bo(this.l,this):(this.i=!1,fa(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Gi(12)):(this.o=0,Gi(13)),va(this),ma(this)}}}catch(t){}},Jn.fb=function(){if(this.g){var e=bo(this.g),t=this.g.ga();this.C<t.length&&(pa(this),ca(this,e,t),this.i&&4!=e&&fa(this))}},Jn.cancel=function(){this.I=!0,va(this)},Jn.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Vi(3),Gi(17)),va(this),this.o=2,ma(this)):da(this,this.Y-e)},(Jn=_a.prototype).R=function(){ka(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Jn.T=function(){return ka(this),this.g.concat()},Jn.get=function(e,t){return wa(this.h,e)?this.h[e]:t},Jn.set=function(e,t){wa(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Jn.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var ba=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xa(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof xa){this.g=void 0!==t?t:e.g,Sa(this,e.j),this.s=e.s,Ea(this,e.i),Ta(this,e.m),this.l=e.l,t=e.h;var n=new Fa;n.i=t.i,t.g&&(n.g=new _a(t.g),n.h=t.h),Ia(this,n),this.o=e.o}else e&&(n=String(e).match(ba))?(this.g=!!t,Sa(this,n[1]||"",!0),this.s=Aa(n[2]||""),Ea(this,n[3]||"",!0),Ta(this,n[4]),this.l=Aa(n[5]||"",!0),Ia(this,n[6]||"",!0),this.o=Aa(n[7]||"")):(this.g=!!t,this.h=new Fa(null,this.g))}function Ca(e){return new xa(e)}function Sa(e,t,n){e.j=n?Aa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ea(e,t,n){e.i=n?Aa(t,!0):t}function Ta(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ia(e,t,n){t instanceof Fa?(e.h=t,function(e,t){t&&!e.j&&(Ba(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Va(this,t),Ga(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Da(t,Oa)),e.h=new Fa(t,e.g))}function ja(e,t,n){e.h.set(t,n)}function Na(e){return ja(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Aa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Da(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Pa),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Pa(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}xa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Da(t,Ra,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Da(t,Ra,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Da(n,"/"==n.charAt(0)?La:Ma,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Da(n,Ua)),e.join("")};var Ra=/[#\/\?@]/g,Ma=/[#\?:]/g,La=/[#\?]/g,Oa=/[#\?@]/g,Ua=/#/g;function Fa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ba(e){e.g||(e.g=new _a,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Va(e,t){Ba(e),t=qa(e,t),wa(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,wa((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ka(e)))}function za(e,t){return Ba(e),t=qa(e,t),wa(e.g.h,t)}function Ga(e,t,n){Va(e,t),0<n.length&&(e.i=null,e.g.set(qa(e,t),pr(n)),e.h+=n.length)}function qa(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Jn=Fa.prototype).add=function(e,t){Ba(this),this.i=null,e=qa(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Jn.forEach=function(e,t){Ba(this),this.g.forEach((function(n,r){fr(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Jn.T=function(){Ba(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Jn.R=function(e){Ba(this);var t=[];if("string"===typeof e)za(this,e)&&(t=dr(t,this.g.get(qa(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=dr(t,e[n])}return t},Jn.set=function(e,t){return Ba(this),this.i=null,za(this,e=qa(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Jn.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Jn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Wa=v((function e(t,n){p(this,e),this.h=t,this.g=n}));function Ha(e){this.l=e||Ka,Xn.PerformanceNavigationTiming?e=0<(e=Xn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Xn.g&&Xn.g.Ea&&Xn.g.Ea()&&Xn.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ka=10;function Ja(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qa(e){return e.h?1:e.g?e.g.size:0}function $a(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ya(e,t){e.g?e.g.add(t):e.h=t}function Xa(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Za(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=T(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return pr(e.i)}function eo(){}function to(){this.g=new eo}function no(e,t,n){var r=n||"";try{ya(e,(function(e,n){var i=e;tr(e)&&(i=mi(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ro(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function io(e){this.l=e.$b||null,this.j=e.ib||!1}function ao(e,t){fi.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=oo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ha.prototype.cancel=function(){if(this.i=Za(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=T(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},eo.prototype.stringify=function(e){return Xn.JSON.stringify(e,void 0)},eo.prototype.parse=function(e){return Xn.JSON.parse(e,void 0)},ur(io,Ji),io.prototype.g=function(){return new ao(this.l,this.j)},io.prototype.i=function(e){return function(){return e}}({}),ur(ao,fi);var oo=0;function so(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function uo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,lo(e)}function lo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Jn=ao.prototype).open=function(e,t){if(this.readyState!=oo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,lo(this)},Jn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Xn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Jn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uo(this)),this.readyState=oo},Jn.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,lo(this)),this.g&&(this.readyState=3,lo(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Xn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;so(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Jn.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?uo(this):lo(this),3==this.readyState&&so(this)}},Jn.Ua=function(e){this.g&&(this.response=this.responseText=e,uo(this))},Jn.Ta=function(e){this.g&&(this.response=e,uo(this))},Jn.ha=function(){this.g&&uo(this)},Jn.setRequestHeader=function(e,t){this.v.append(e,t)},Jn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Jn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ao.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var co=Xn.JSON.parse;function ho(e){fi.call(this),this.headers=new _a,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fo,this.K=this.L=!1}ur(ho,fi);var fo="",po=/^https?$/i,mo=["POST","PUT"];function vo(e){return"content-type"==e.toLowerCase()}function go(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,yo(e),ko(e)}function yo(e){e.D||(e.D=!0,di(e,"complete"),di(e,"error"))}function _o(e){if(e.h&&"undefined"!=typeof Yn&&(!e.C[1]||4!=bo(e)||2!=e.ba()))if(e.v&&4==bo(e))Ii(e.Fa,0,e);else if(di(e,"readystatechange"),4==bo(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(ba)[1]||null;if(!a&&Xn.self&&Xn.self.location){var o=Xn.self.location.protocol;a=o.substr(0,o.length-1)}i=!po.test(a?a.toLowerCase():"")}t=i}if(t)di(e,"complete"),di(e,"success");else{e.m=6;try{var s=2<bo(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",yo(e)}}finally{ko(e)}}}function ko(e,t){if(e.g){wo(e);var n=e.g,r=e.C[0]?Zn:null;e.g=null,e.C=null,t||di(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function wo(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Xn.clearTimeout(e.A),e.A=null)}function bo(e){return e.g?e.g.readyState:0}function xo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case fo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Co(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return br(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ja(e,t,n))}function So(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Eo(e){this.za=0,this.l=[],this.h=new Mi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=So("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=So("baseRetryDelayMs",5e3,e),this.$a=So("retryDelaySeedMs",1e4,e),this.Ya=So("forwardChannelMaxRetries",2,e),this.ra=So("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ha(e&&e.concurrentRequestLimit),this.Ca=new to,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function To(e){if(jo(e),3==e.G){var t=e.V++,n=Ca(e.F);ja(n,"SID",e.J),ja(n,"RID",t),ja(n,"TYPE","terminate"),Po(e,n),(t=new na(e,e.h,t,void 0)).K=2,t.v=Na(Ca(n)),n=!1,Xn.navigator&&Xn.navigator.sendBeacon&&(n=Xn.navigator.sendBeacon(t.v.toString(),"")),!n&&Xn.Image&&((new Image).src=t.v,n=!0),n||(t.g=Wo(t.l,null),t.g.ea(t.v)),t.F=Date.now(),fa(t)}Go(e)}function Io(e){e.g&&(Oo(e),e.g.cancel(),e.g=null)}function jo(e){Io(e),e.u&&(Xn.clearTimeout(e.u),e.u=null),Fo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Xn.clearTimeout(e.m),e.m=null)}function No(e,t){e.l.push(new Wa(e.Za++,t)),3==e.G&&Ao(e)}function Ao(e){Ja(e.i)||e.m||(e.m=!0,bi(e.Ha,e),e.C=0)}function Do(e,t){var n;n=t?t.m:e.V++;var r=Ca(e.F);ja(r,"SID",e.J),ja(r,"RID",n),ja(r,"AID",e.U),Po(e,r),e.o&&e.s&&Co(r,e.o,e.s),n=new na(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Ro(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ya(e.i,n),sa(n,r,t)}function Po(e,t){e.j&&ya({},(function(e,n){ja(t,n,e)}))}function Ro(e,t,n){n=Math.min(e.l.length,n);var r=e.j?or(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=a))a=Math.max(0,i[u].h-100),s=!1;else try{no(c,o,"req"+l+"_")}catch(_s){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Mo(e){e.g||e.u||(e.Y=1,bi(e.Ga,e),e.A=0)}function Lo(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Wi(or(e.Ga,e),Vo(e,e.A)),e.A++,!0)}function Oo(e){null!=e.B&&(Xn.clearTimeout(e.B),e.B=null)}function Uo(e){e.g=new na(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ca(e.oa);ja(t,"RID","rpc"),ja(t,"SID",e.J),ja(t,"CI",e.N?"0":"1"),ja(t,"AID",e.U),Po(e,t),ja(t,"TYPE","xmlhttp"),e.o&&e.s&&Co(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Na(Ca(t)),n.s=null,n.U=!0,ua(n,e)}function Fo(e){null!=e.v&&(Xn.clearTimeout(e.v),e.v=null)}function Bo(e,t){var n=null;if(e.g==t){Fo(e),Oo(e),e.g=null;var r=2}else{if(!$a(e.i,t))return;n=t.D,Xa(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;di(r=Fi(),new qi(r,n,t,i)),Ao(e)}else Mo(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Qa(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Wi(or(e.Ha,e,t),Vo(e,e.C)),e.C++,!0))}(e,t)||2==r&&Lo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:zo(e,5);break;case 4:zo(e,10);break;case 3:zo(e,6);break;default:zo(e,2)}}function Vo(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function zo(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=or(e.jb,e);n||(n=new xa("//www.google.com/images/cleardot.gif"),Xn.location&&"http"==Xn.location.protocol||Sa(n,"https"),Na(n)),function(e,t){var n=new Mi;if(Xn.Image){var r=new Image;r.onload=sr(ro,n,r,"TestLoadImage: loaded",!0,t),r.onerror=sr(ro,n,r,"TestLoadImage: error",!1,t),r.onabort=sr(ro,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=sr(ro,n,r,"TestLoadImage: timeout",!1,t),Xn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Gi(2);e.G=0,e.j&&e.j.va(t),Go(e),jo(e)}function Go(e){e.G=0,e.I=-1,e.j&&(0==Za(e.i).length&&0==e.l.length||(e.i.i.length=0,pr(e.l),e.l.length=0),e.j.ua())}function qo(e,t,n){var r=function(e){return e instanceof xa?Ca(e):new xa(e,void 0)}(n);if(""!=r.i)t&&Ea(r,t+"."+r.i),Ta(r,r.m);else{var i=Xn.location;r=function(e,t,n,r){var i=new xa(null,void 0);return e&&Sa(i,e),t&&Ea(i,t),n&&Ta(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&br(e.aa,(function(e,t){ja(r,t,e)})),t=e.D,n=e.sa,t&&n&&ja(r,t,n),ja(r,"VER",e.ma),Po(e,r),r}function Wo(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new ho(new io({ib:!0})):new ho(e.qa)).L=e.H,t}function Ho(){}function Ko(){if(jr&&!(10<=Number(zr)))throw Error("Environmental error: no available transport.")}function Jo(e,t){fi.call(this),this.g=new Eo(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!mr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!mr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Yo(this)}function Qo(e){Zi.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function $o(){ea.call(this),this.status=1}function Yo(e){this.g=e}(Jn=ho.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Yi.g(),this.C=this.u?Qi(this.u):Qi(Yi),this.g.onreadystatechange=or(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void go(this,a)}e=n||"";var i=new _a(this.headers);r&&ya(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=vo,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Xn.FormData&&e instanceof Xn.FormData,!(0<=hr(mo,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wo(this),0<this.B&&((this.K=function(e){return jr&&Br()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=or(this.pa,this)):this.A=Ii(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){go(this,a)}},Jn.pa=function(){"undefined"!=typeof Yn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,di(this,"timeout"),this.abort(8))},Jn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,di(this,"complete"),di(this,"abort"),ko(this))},Jn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ko(this,!0)),ho.Z.M.call(this)},Jn.Fa=function(){this.s||(this.F||this.v||this.l?_o(this):this.cb())},Jn.cb=function(){_o(this)},Jn.ba=function(){try{return 2<bo(this)?this.g.status:-1}catch(e){return-1}},Jn.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Jn.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),co(t)}},Jn.Da=function(){return this.m},Jn.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Jn=Eo.prototype).ma=8,Jn.G=1,Jn.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Jn.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new na(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Sr(n=xr(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ro(this,t,r),ja(i=Ca(this.F),"RID",e),ja(i,"CVER",22),this.D&&ja(i,"X-HTTP-Session-Id",this.D),Po(this,i),this.o&&n&&Co(i,this.o,n),Ya(this.i,t),this.Ra&&ja(i,"TYPE","init"),this.ja?(ja(i,"$req",r),ja(i,"SID","null"),t.$=!0,sa(t,i,null)):sa(t,i,r),this.G=2}}else 3==this.G&&(e?Do(this,e):0==this.l.length||Ja(this.i)||Do(this))},Jn.Ga=function(){if(this.u=null,Uo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Wi(or(this.bb,this),e)}},Jn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gi(10),Io(this),Uo(this))},Jn.ab=function(){null!=this.v&&(this.v=null,Io(this),Lo(this),Gi(19))},Jn.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Gi(2)):(this.h.info("Failed to ping google.com"),Gi(1))},(Jn=Ho.prototype).xa=function(){},Jn.wa=function(){},Jn.va=function(){},Jn.ua=function(){},Jn.Oa=function(){},Ko.prototype.g=function(e,t){return new Jo(e,t)},ur(Jo,fi),Jo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),bi(or(e.hb,e,t))),Gi(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=qo(e,null,e.W),Ao(e)},Jo.prototype.close=function(){To(this.g)},Jo.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,No(this.g,t)}else this.v?((t={}).__data__=mi(e),No(this.g,t)):No(this.g,e)},Jo.prototype.M=function(){this.g.j=null,delete this.j,To(this.g),delete this.g,Jo.Z.M.call(this)},ur(Qo,Zi),ur($o,ea),ur(Yo,Ho),Yo.prototype.xa=function(){di(this.g,"a")},Yo.prototype.wa=function(e){di(this.g,new Qo(e))},Yo.prototype.va=function(e){di(this.g,new $o(e))},Yo.prototype.ua=function(){di(this.g,"b")},Ko.prototype.createWebChannel=Ko.prototype.g,Jo.prototype.send=Jo.prototype.u,Jo.prototype.open=Jo.prototype.m,Jo.prototype.close=Jo.prototype.close,Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,Ki.COMPLETE="complete",$i.EventType=Xi,Xi.OPEN="a",Xi.CLOSE="b",Xi.ERROR="c",Xi.MESSAGE="d",fi.prototype.listen=fi.prototype.N,ho.prototype.listenOnce=ho.prototype.O,ho.prototype.getLastError=ho.prototype.La,ho.prototype.getLastErrorCode=ho.prototype.Da,ho.prototype.getStatus=ho.prototype.ba,ho.prototype.getResponseJson=ho.prototype.Qa,ho.prototype.getResponseText=ho.prototype.ga,ho.prototype.send=ho.prototype.ea;var Xo=$n.createWebChannelTransport=function(){return new Ko},Zo=$n.getStatEventTarget=function(){return Fi()},es=$n.ErrorCode=Hi,ts=$n.EventType=Ki,ns=$n.Event=Oi,rs=$n.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},is=$n.FetchXmlHttpFactory=io,as=$n.WebChannel=$i,os=$n.XhrIo=ho,ss="@firebase/firestore",us=function(){function e(t){p(this,e),this.uid=t}return v(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();us.UNAUTHENTICATED=new us(null),us.GOOGLE_CREDENTIALS=new us("google-credentials-uid"),us.FIRST_PARTY=new us("first-party-uid"),us.MOCK_USER=new us("mock-user");var ls="9.9.2",cs=new Qt("@firebase/firestore");function hs(){return cs.logLevel}function fs(e){if(cs.logLevel<=zt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ms);cs.debug.apply(cs,["Firestore (".concat(ls,"): ").concat(e)].concat(d(i)))}}function ds(e){if(cs.logLevel<=zt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ms);cs.error.apply(cs,["Firestore (".concat(ls,"): ").concat(e)].concat(d(i)))}}function ps(e){if(cs.logLevel<=zt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ms);cs.warn.apply(cs,["Firestore (".concat(ls,"): ").concat(e)].concat(d(i)))}}function ms(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function vs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ls,") INTERNAL ASSERTION FAILED: ")+e;throw ds(t),new Error(t)}function gs(e,t){e||vs()}function ys(e,t){return e}var _s={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ks=function(e){y(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return v(n)}(yt),ws=v((function e(){var t=this;p(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),bs=v((function e(t,n){p(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),xs=function(){function e(){p(this,e)}return v(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(us.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Cs=function(){function e(t){p(this,e),this.t=t,this.currentUser=us.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new ws;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new ws,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Je(He().mark((function e(){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){fs("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(fs("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ws)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(fs("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(gs("string"==typeof n.accessToken),new bs(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return gs(null===e||"string"==typeof e),new us(e)}}]),e}(),Ss=v((function e(t,n,r){p(this,e),this.type="FirstParty",this.user=us.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Es=function(){function e(t,n,r){p(this,e),this.h=t,this.l=n,this.m=r}return v(e,[{key:"getToken",value:function(){return Promise.resolve(new Ss(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(us.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ts=v((function e(t){p(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Is=function(){function e(t){p(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&fs("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,fs("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){fs("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):fs("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(gs("string"==typeof t.token),e.p=t.token,new Ts(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function js(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ns=function(){function e(){p(this,e)}return v(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=js(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function As(e,t){return e<t?-1:e>t?1:0}function Ds(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Ps=function(){function e(t,n){if(p(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ks(_s.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ks(_s.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ks(_s.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ks(_s.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return v(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?As(this.nanoseconds,e.nanoseconds):As(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Rs=function(){function e(t){p(this,e),this.timestamp=t}return v(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ps(0,0))}},{key:"max",value:function(){return new e(new Ps(253402300799,999999999))}}]),e}(),Ms=function(){function e(t,n,r){p(this,e),void 0===n?n=0:n>t.length&&vs(),void 0===r?r=t.length-n:r>t.length-n&&vs(),this.segments=t,this.offset=n,this.len=r}return v(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ls=function(e){y(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new ks(_s.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,d(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ms),Os=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Us=function(e){y(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Os.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ks(_s.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new ks(_s.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ks(_s.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new ks(_s.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ms),Fs=function(){function e(t){p(this,e),this.path=t}return v(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Ls.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ls.fromString(t))}},{key:"fromName",value:function(t){return new e(Ls.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Ls.emptyPath())}},{key:"comparator",value:function(e,t){return Ls.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ls(t.slice()))}}]),e}(),Bs=v((function e(t,n,r,i){p(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Bs.UNKNOWN_ID=-1;function Vs(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Rs.fromTimestamp(1e9===r?new Ps(n+1,0):new Ps(n,r));return new Gs(i,Fs.empty(),t)}function zs(e){return new Gs(e.readTime,e.key,-1)}var Gs=function(){function e(t,n,r){p(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return v(e,null,[{key:"min",value:function(){return new e(Rs.min(),Fs.empty(),-1)}},{key:"max",value:function(){return new e(Rs.max(),Fs.empty(),-1)}}]),e}();function qs(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Fs.comparator(e.documentKey,t.documentKey))?n:As(e.largestBatchId,t.largestBatchId)}var Ws="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hs=function(){function e(){p(this,e),this.onCommittedListeners=[]}return v(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Ks(e){return Js.apply(this,arguments)}function Js(){return Js=Je(He().mark((function e(t){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===_s.FAILED_PRECONDITION&&t.message===Ws){e.next=2;break}throw t;case 2:fs("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}var Qs=function(){function e(t){var n=this;p(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return v(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&vs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=T(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function $s(e){return"IndexedDbTransactionError"===e.name}var Ys=function(){function e(t,n){var r=this;p(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return v(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function Xs(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zs(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function eu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Ys.ot=-1;var tu=function(){function e(t,n){p(this,e),this.comparator=t,this.root=n||ru.EMPTY}return v(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ru.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ru.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new nu(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new nu(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new nu(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new nu(this.root,e,this.comparator,!0)}}]),e}(),nu=function(){function e(t,n,r,i){p(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return v(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ru=function(){function e(t,n,r,i,a){p(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return v(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw vs();if(this.right.isRed())throw vs();var e=this.left.check();if(e!==this.right.check())throw vs();return e+(this.isRed()?0:1)}}]),e}();ru.EMPTY=null,ru.RED=!0,ru.BLACK=!1,ru.EMPTY=new(function(){function e(){p(this,e),this.size=0}return v(e,[{key:"key",get:function(){throw vs()}},{key:"value",get:function(){throw vs()}},{key:"color",get:function(){throw vs()}},{key:"left",get:function(){throw vs()}},{key:"right",get:function(){throw vs()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ru(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var iu=function(){function e(t){p(this,e),this.comparator=t,this.data=new tu(this.comparator)}return v(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new au(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new au(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),au=function(){function e(t){p(this,e),this.iter=t}return v(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var ou=function(){function e(t){p(this,e),this.fields=t,t.sort(Us.comparator)}return v(e,[{key:"unionWith",value:function(t){var n,r=new iu(Us.comparator),i=T(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=T(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=T(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ds(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var su=function(e){function t(e){p(this,t),this.binaryString=e}return v(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return As(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();su.EMPTY_BYTE_STRING=new su("");var uu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lu(e){if(gs(!!e),"string"==typeof e){var t=0,n=uu.exec(e);if(gs(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:cu(e.seconds),nanos:cu(e.nanos)}}function cu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hu(e){return"string"==typeof e?su.fromBase64String(e):su.fromUint8Array(e)}function fu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function du(e){var t=e.mapValue.fields.__previous_value__;return fu(t)?du(t):t}function pu(e){var t=lu(e.mapValue.fields.__local_write_time__.timestampValue);return new Ps(t.seconds,t.nanos)}var mu=v((function e(t,n,r,i,a,o,s,u){p(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),vu=function(){function e(t,n){p(this,e),this.projectId=t,this.database=n||"(default)"}return v(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function gu(e){return null==e}function yu(e){return 0===e&&1/e==-1/0}function _u(e){return"number"==typeof e&&Number.isInteger(e)&&!yu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ku={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fu(e)?4:Mu(e)?9007199254740991:10:vs()}function bu(e,t){if(e===t)return!0;var n=wu(e);if(n!==wu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return pu(e).isEqual(pu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=lu(e.timestampValue),r=lu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return hu(e.bytesValue).isEqual(hu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return cu(e.geoPointValue.latitude)===cu(t.geoPointValue.latitude)&&cu(e.geoPointValue.longitude)===cu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return cu(e.integerValue)===cu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=cu(e.doubleValue),r=cu(t.doubleValue);return n===r?yu(n)===yu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ds(e.arrayValue.values||[],t.arrayValue.values||[],bu);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Xs(n)!==Xs(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!bu(n[i],r[i])))return!1;return!0}(e,t);default:return vs()}}function xu(e,t){return void 0!==(e.values||[]).find((function(e){return bu(e,t)}))}function Cu(e,t){if(e===t)return 0;var n=wu(e),r=wu(t);if(n!==r)return As(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return As(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=cu(e.integerValue||e.doubleValue),r=cu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Su(e.timestampValue,t.timestampValue);case 4:return Su(pu(e),pu(t));case 5:return As(e.stringValue,t.stringValue);case 6:return function(e,t){var n=hu(e),r=hu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=As(n[i],r[i]);if(0!==a)return a}return As(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=As(cu(e.latitude),cu(t.latitude));return 0!==n?n:As(cu(e.longitude),cu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Cu(n[i],r[i]);if(a)return a}return As(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ku.mapValue&&t===ku.mapValue)return 0;if(e===ku.mapValue)return 1;if(t===ku.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=As(r[o],a[o]);if(0!==s)return s;var u=Cu(n[r[o]],i[a[o]]);if(0!==u)return u}return As(r.length,a.length)}(e.mapValue,t.mapValue);default:throw vs()}}function Su(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return As(e,t);var n=lu(e),r=lu(t),i=As(n.seconds,r.seconds);return 0!==i?i:As(n.nanos,r.nanos)}function Eu(e){return Tu(e)}function Tu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=lu(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?hu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Fs.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=T(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Tu(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=T(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Tu(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):vs();var t,n}function Iu(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ju(e){return!!e&&"integerValue"in e}function Nu(e){return!!e&&"arrayValue"in e}function Au(e){return!!e&&"nullValue"in e}function Du(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Pu(e){return!!e&&"mapValue"in e}function Ru(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Zs(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ru(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ru(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Mu(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Lu=function(){function e(t){p(this,e),this.value=t}return v(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Pu(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ru(t)}},{key:"setAll",value:function(e){var t=this,n=Us.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ru(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Pu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return bu(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Pu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Zs(t,(function(t,n){return e[t]=n}));var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ru(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ou(e){var t=[];return Zs(e.fields,(function(e,n){var r=new Us([e]);if(Pu(n)){var i=Ou(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=T(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new ou(t)}var Uu=function(){function e(t,n,r,i,a,o){p(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return v(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Lu.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Lu.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Rs.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Rs.min(),Rs.min(),Lu.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Rs.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Rs.min(),Lu.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Rs.min(),Lu.empty(),2)}}]),e}(),Fu=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;p(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ut=null}));function Bu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Fu(e,t,n,r,i,a,o)}function Vu(e){var t=ys(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Eu(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),gu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Eu(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Eu(e)})).join(",")),t.ut=n}return t.ut}function zu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!tl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!bu(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rl(e.startAt,t.startAt)&&rl(e.endAt,t.endAt)}function Gu(e){return Fs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var qu=function(e){y(n,e);var t=C(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Cu(t,this.value)):null!==t&&wu(this.value)===wu(t)&&this.at(Cu(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vs()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new Wu(e,t,r):"array-contains"===t?new Qu(e,r):"in"===t?new $u(e,r):"not-in"===t?new Yu(e,r):"array-contains-any"===t?new Xu(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new Hu(e,n):new Ku(e,n)}}]),n}(function(){return v((function e(){p(this,e)}))}()),Wu=function(e){y(n,e);var t=C(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,i)).key=Fs.fromName(i.referenceValue),a}return v(n,[{key:"matches",value:function(e){var t=Fs.comparator(e.key,this.key);return this.at(t)}}]),n}(qu),Hu=function(e){y(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"in",r)).keys=Ju("in",r),i}return v(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(qu),Ku=function(e){y(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"not-in",r)).keys=Ju("not-in",r),i}return v(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(qu);function Ju(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Fs.fromName(e.referenceValue)}))}var Qu=function(e){y(n,e);var t=C(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Nu(t)&&xu(t.arrayValue,this.value)}}]),n}(qu),$u=function(e){y(n,e);var t=C(n);function n(e,r){return p(this,n),t.call(this,e,"in",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&xu(this.value.arrayValue,t)}}]),n}(qu),Yu=function(e){y(n,e);var t=C(n);function n(e,r){return p(this,n),t.call(this,e,"not-in",r)}return v(n,[{key:"matches",value:function(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!xu(this.value.arrayValue,t)}}]),n}(qu),Xu=function(e){y(n,e);var t=C(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains-any",r)}return v(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Nu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return xu(t.value.arrayValue,e)}))}}]),n}(qu),Zu=v((function e(t,n){p(this,e),this.position=t,this.inclusive=n})),el=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";p(this,e),this.field=t,this.dir=n}));function tl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function nl(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Fs.comparator(Fs.fromName(o.referenceValue),n.key):Cu(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function rl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!bu(e.position[n],t.position[n]))return!1;return!0}var il=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt}));function al(e,t,n,r,i,a,o,s){return new il(e,t,n,r,i,a,o,s)}function ol(e){return new il(e)}function sl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ul(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ll(e){var t,n=T(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function cl(e){return null!==e.collectionGroup}function hl(e){var t=ys(e);if(null===t.lt){t.lt=[];var n=ll(t),r=ul(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new el(n)),t.lt.push(new el(Us.keyField(),"asc"));else{var i,a=!1,o=T(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.lt.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new el(Us.keyField(),u))}}}return t.lt}function fl(e){var t=ys(e);if(!t.ft)if("F"===t.limitType)t.ft=Bu(t.path,t.collectionGroup,hl(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=T(hl(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new el(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new Zu(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Zu(t.startAt.position,t.startAt.inclusive):null;t.ft=Bu(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.ft}function dl(e,t,n){return new il(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pl(e,t){return zu(fl(e),fl(t))&&e.limitType===t.limitType}function ml(e){return"".concat(Vu(fl(e)),"|lt:").concat(e.limitType)}function vl(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Eu(t.value));var t})).join(", "),"]")),gu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Eu(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Eu(e)})).join(",")),"Target(".concat(t,")")}(fl(e)),"; limitType=").concat(e.limitType,")")}function gl(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Fs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=T(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=T(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=nl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,hl(e),t))&&!(e.endAt&&!function(e,t,n){var r=nl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,hl(e),t))}(e,t)}function yl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _l(e){return function(t,n){var r,i=!1,a=T(hl(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=kl(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function kl(e,t,n){var r=e.field.isKeyField()?Fs.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Cu(r,i):vs()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return vs()}}function wl(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yu(t)?"-0":t}}function bl(e){return{integerValue:""+e}}function xl(e,t){return _u(t)?bl(t):wl(e,t)}var Cl=v((function e(){p(this,e),this._=void 0}));function Sl(e,t,n){return e instanceof Il?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof jl?Nl(e,t):e instanceof Al?Dl(e,t):function(e,t){var n=Tl(e,t),r=Rl(n)+Rl(e._t);return ju(n)&&ju(e._t)?bl(r):wl(e.wt,r)}(e,t)}function El(e,t,n){return e instanceof jl?Nl(e,t):e instanceof Al?Dl(e,t):n}function Tl(e,t){return e instanceof Pl?ju(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Il=function(e){y(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n)}(Cl),jl=function(e){y(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return v(n)}(Cl);function Nl(e,t){var n,r=Ml(t),i=T(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return bu(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Al=function(e){y(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return v(n)}(Cl);function Dl(e,t){var n,r=Ml(t),i=T(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!bu(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Pl=function(e){y(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).wt=e,i._t=r,i}return v(n)}(Cl);function Rl(e){return cu(e.integerValue||e.doubleValue)}function Ml(e){return Nu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ll=v((function e(t,n){p(this,e),this.field=t,this.transform=n}));var Ol=v((function e(t,n){p(this,e),this.version=t,this.transformResults=n})),Ul=function(){function e(t,n){p(this,e),this.updateTime=t,this.exists=n}return v(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Fl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Bl=v((function e(){p(this,e)}));function Vl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Zl(e.key,Ul.none()):new Hl(e.key,e.data,Ul.none());var n,r=e.data,i=Lu.empty(),a=new iu(Us.comparator),o=T(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new Kl(e.key,i,new ou(a.toArray()),Ul.none())}function zl(e,t,n){e instanceof Hl?function(e,t,n){var r=e.value.clone(),i=Ql(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Kl?function(e,t,n){if(Fl(e.precondition,t)){var r=Ql(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Jl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Gl(e,t,n,r){return e instanceof Hl?function(e,t,n,r){if(!Fl(e.precondition,t))return n;var i=e.value.clone(),a=$l(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Kl?function(e,t,n,r){if(!Fl(e.precondition,t))return n;var i=$l(e.fieldTransforms,r,t),a=t.data;return a.setAll(Jl(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Fl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ql(e,t){var n,r=null,i=T(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Tl(a.transform,o||null);null!=s&&(null===r&&(r=Lu.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Wl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ds(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof jl&&t instanceof jl||e instanceof Al&&t instanceof Al?Ds(e.elements,t.elements,bu):e instanceof Pl&&t instanceof Pl?bu(e._t,t._t):e instanceof Il&&t instanceof Il}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Hl=function(e){y(n,e);var t=C(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return p(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Bl),Kl=function(e){y(n,e);var t=C(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return p(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return v(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Bl);function Jl(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ql(e,t,n){var r=new Map;gs(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,El(o,s,n[i]))}return r}function $l(e,t,n){var r,i=new Map,a=T(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Sl(s,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Yl,Xl,Zl=function(e){y(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Bl),ec=function(e){y(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Bl),tc=v((function e(t){p(this,e),this.count=t}));function nc(e){switch(e){default:return vs();case _s.CANCELLED:case _s.UNKNOWN:case _s.DEADLINE_EXCEEDED:case _s.RESOURCE_EXHAUSTED:case _s.INTERNAL:case _s.UNAVAILABLE:case _s.UNAUTHENTICATED:return!1;case _s.INVALID_ARGUMENT:case _s.NOT_FOUND:case _s.ALREADY_EXISTS:case _s.PERMISSION_DENIED:case _s.FAILED_PRECONDITION:case _s.ABORTED:case _s.OUT_OF_RANGE:case _s.UNIMPLEMENTED:case _s.DATA_LOSS:return!0}}function rc(e){if(void 0===e)return ds("GRPC error has no .code"),_s.UNKNOWN;switch(e){case Yl.OK:return _s.OK;case Yl.CANCELLED:return _s.CANCELLED;case Yl.UNKNOWN:return _s.UNKNOWN;case Yl.DEADLINE_EXCEEDED:return _s.DEADLINE_EXCEEDED;case Yl.RESOURCE_EXHAUSTED:return _s.RESOURCE_EXHAUSTED;case Yl.INTERNAL:return _s.INTERNAL;case Yl.UNAVAILABLE:return _s.UNAVAILABLE;case Yl.UNAUTHENTICATED:return _s.UNAUTHENTICATED;case Yl.INVALID_ARGUMENT:return _s.INVALID_ARGUMENT;case Yl.NOT_FOUND:return _s.NOT_FOUND;case Yl.ALREADY_EXISTS:return _s.ALREADY_EXISTS;case Yl.PERMISSION_DENIED:return _s.PERMISSION_DENIED;case Yl.FAILED_PRECONDITION:return _s.FAILED_PRECONDITION;case Yl.ABORTED:return _s.ABORTED;case Yl.OUT_OF_RANGE:return _s.OUT_OF_RANGE;case Yl.UNIMPLEMENTED:return _s.UNIMPLEMENTED;case Yl.DATA_LOSS:return _s.DATA_LOSS;default:return vs()}}(Xl=Yl||(Yl={}))[Xl.OK=0]="OK",Xl[Xl.CANCELLED=1]="CANCELLED",Xl[Xl.UNKNOWN=2]="UNKNOWN",Xl[Xl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xl[Xl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xl[Xl.NOT_FOUND=5]="NOT_FOUND",Xl[Xl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xl[Xl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xl[Xl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xl[Xl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xl[Xl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xl[Xl.ABORTED=10]="ABORTED",Xl[Xl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xl[Xl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xl[Xl.INTERNAL=13]="INTERNAL",Xl[Xl.UNAVAILABLE=14]="UNAVAILABLE",Xl[Xl.DATA_LOSS=15]="DATA_LOSS";var ic=function(){function e(t,n){p(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return v(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Zs(this.inner,(function(t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return eu(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ac=new tu(Fs.comparator);function oc(){return ac}var sc=new tu(Fs.comparator);function uc(){for(var e=sc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function lc(e){var t=sc;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function cc(){return fc()}function hc(){return fc()}function fc(){return new ic((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var dc=new tu(Fs.comparator),pc=new iu(Fs.comparator);function mc(){for(var e=pc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var vc=new iu(As);function gc(){return vc}var yc=function(){function e(t,n,r,i,a){p(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return v(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,_c.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Rs.min(),r,gc(),oc(),mc())}}]),e}(),_c=function(){function e(t,n,r,i,a){p(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return v(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(su.EMPTY_BYTE_STRING,n,mc(),mc(),mc())}}]),e}(),kc=v((function e(t,n,r,i){p(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),wc=v((function e(t,n){p(this,e),this.targetId=t,this.It=n})),bc=v((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:su.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),xc=function(){function e(){p(this,e),this.Tt=0,this.Et=Ec(),this.At=su.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return v(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=mc(),t=mc(),n=mc();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:vs()}})),new _c(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=Ec()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Mt",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),Cc=function(){function e(t){p(this,e),this.Ot=t,this.Ft=new Map,this.$t=oc(),this.Bt=Sc(),this.Lt=new iu(As)}return v(e,[{key:"Ut",value:function(e){var t,n=T(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(s){n.e(s)}finally{n.f()}var i,a=T(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:vs()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(Gu(i))if(0===n){var a=new Fs(i.path);this.Kt(t,a,Uu.newNoDocument(a,Rs.min()))}else gs(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&Gu(a.target)){var o=new Fs(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,Uu.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=mc();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new yc(e,n,this.Lt,this.$t,r);return this.$t=oc(),this.Bt=Sc(),this.Lt=new iu(As),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new xc,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new iu(As),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||fs("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new xc),this.Ot.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}]),e}();function Sc(){return new tu(Fs.comparator)}function Ec(){return new tu(Fs.comparator)}var Tc={asc:"ASCENDING",desc:"DESCENDING"},Ic={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jc=v((function e(t,n){p(this,e),this.databaseId=t,this.dt=n}));function Nc(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ac(e,t){return e.dt?t.toBase64():t.toUint8Array()}function Dc(e,t){return Nc(e,t.toTimestamp())}function Pc(e){return gs(!!e),Rs.fromTimestamp(function(e){var t=lu(e);return new Ps(t.seconds,t.nanos)}(e))}function Rc(e,t){return function(e){return new Ls(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Mc(e){var t=Ls.fromString(e);return gs(th(t)),t}function Lc(e,t){return Rc(e.databaseId,t.path)}function Oc(e,t){var n=Mc(t);if(n.get(1)!==e.databaseId.projectId)throw new ks(_s.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ks(_s.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Fs(Vc(n))}function Uc(e,t){return Rc(e.databaseId,t)}function Fc(e){var t=Mc(e);return 4===t.length?Ls.emptyPath():Vc(t)}function Bc(e){return new Ls(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Vc(e){return gs(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function zc(e,t,n){return{name:Lc(e,t),fields:n.value.mapValue.fields}}function Gc(e,t){var n;if(t instanceof Hl)n={update:zc(e,t.key,t.value)};else if(t instanceof Zl)n={delete:Lc(e,t.key)};else if(t instanceof Kl)n={update:zc(e,t.key,t.data),updateMask:eh(t.fieldMask)};else{if(!(t instanceof ec))return vs();n={verify:Lc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Il)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof jl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Al)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Pl)return{fieldPath:t.field.canonicalString(),increment:n._t};throw vs()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Dc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:vs()}(e,t.precondition)),n}function qc(e,t){return{documents:[Uc(e,t.path)]}}function Wc(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Uc(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Uc(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Du(e.value))return{unaryFilter:{field:$c(e.field),op:"IS_NAN"}};if(Au(e.value))return{unaryFilter:{field:$c(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Du(e.value))return{unaryFilter:{field:$c(e.field),op:"IS_NOT_NAN"}};if(Au(e.value))return{unaryFilter:{field:$c(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$c(e.field),op:Qc(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:$c(e.field),direction:Jc(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.dt||gu(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Hc(e){var t=Fc(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){gs(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Kc(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new el(Yc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return gu(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new Zu(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new Zu(n,t)}(n.endAt)),al(t,i,s,o,u,"F",l,c)}function Kc(e){return e?void 0!==e.unaryFilter?[Zc(e)]:void 0!==e.fieldFilter?[Xc(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Kc(e)})).reduce((function(e,t){return e.concat(t)})):vs():[]}function Jc(e){return Tc[e]}function Qc(e){return Ic[e]}function $c(e){return{fieldPath:e.canonicalString()}}function Yc(e){return Us.fromServerFormat(e.fieldPath)}function Xc(e){return qu.create(Yc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vs()}}(e.fieldFilter.op),e.fieldFilter.value)}function Zc(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Yc(e.unaryFilter.field);return qu.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Yc(e.unaryFilter.field);return qu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Yc(e.unaryFilter.field);return qu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Yc(e.unaryFilter.field);return qu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return vs()}}function eh(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function th(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var nh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),rh=([].concat(d(nh),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),ih=rh;[].concat(ih,["indexConfiguration","indexState","indexEntries"]);var ah=function(){function e(t,n,r,i){p(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return v(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&zl(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=T(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Gl(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=T(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Gl(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=hc();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Vl(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Rs.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),mc())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ds(this.mutations,e.mutations,(function(e,t){return Wl(e,t)}))&&Ds(this.baseMutations,e.baseMutations,(function(e,t){return Wl(e,t)}))}}]),e}(),oh=function(){function e(t,n,r,i){p(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return v(e,null,[{key:"from",value:function(t,n,r){gs(t.mutations.length===r.length);for(var i=dc,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),sh=function(){function e(t,n){p(this,e),this.largestBatchId=t,this.mutation=n}return v(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),uh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Rs.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Rs.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:su.EMPTY_BYTE_STRING;p(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return v(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),lh=v((function e(t){p(this,e),this.ne=t}));function ch(e){var t=Hc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?dl(t,t.limit,"L"):t}var hh=function(){function e(){p(this,e)}return v(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(cu(e.integerValue));else if("doubleValue"in e){var n=cu(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),yu(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(hu(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?Mu(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):vs()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),Fs.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();hh.ye=new hh;var fh=function(){function e(){p(this,e),this.ze=new dh}return v(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),Qs.resolve()}},{key:"getCollectionParents",value:function(e,t){return Qs.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Qs.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Qs.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Qs.resolve(null)}},{key:"getIndexType",value:function(e,t){return Qs.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Qs.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Qs.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Qs.resolve(Gs.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Qs.resolve(Gs.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Qs.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Qs.resolve()}}]),e}(),dh=function(){function e(){p(this,e),this.index={}}return v(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new iu(Ls.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new iu(Ls.comparator)).toArray()}}]),e}();new Uint8Array(0);var ph=function(){function e(t,n,r){p(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return v(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();ph.DEFAULT_COLLECTION_PERCENTILE=10,ph.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ph.DEFAULT=new ph(41943040,ph.DEFAULT_COLLECTION_PERCENTILE,ph.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ph.DISABLED=new ph(-1,0,0);var mh=function(){function e(t){p(this,e),this.En=t}return v(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}();var vh=function(){function e(){p(this,e),this.changes=new ic((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return v(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Uu.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Qs.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var gh=v((function e(t,n){p(this,e),this.overlayedDocument=t,this.mutatedFields=n})),yh=function(){function e(t,n,r,i){p(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return v(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Gl(r.mutation,e,ou.empty(),Ps.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,mc()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mc(),i=cc();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=uc();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=cc();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,mc())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=oc(),a=fc(),o=fc();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Kl)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Gl(o.mutation,t,o.mutation.getFieldMask(),Ps.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new gh(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=fc(),i=new tu((function(e,t){return e-t})),a=mc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=T(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ou.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||mc()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,l=i.value,c=hc();l.forEach((function(e){if(!a.has(e)){var n=Vl(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return Qs.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Fs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Qs.resolve(cc()),s=-1,u=a;return o.next((function(t){return Qs.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Qs.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,mc())})).next((function(e){return{batchId:s,changes:lc(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Fs(t)).next((function(e){var t=uc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=uc();return this.indexManager.getCollectionParents(e,i).next((function(o){return Qs.forEach(o,(function(o){var s=function(e,t){return new il(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Uu.newInvalidDocument(n)))}));var n=uc();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Gl(a.mutation,i,ou.empty(),Ps.now()),gl(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Qs.resolve(Uu.newInvalidDocument(t))}}]),e}(),_h=function(){function e(t){p(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return v(e,[{key:"getBundleMetadata",value:function(e,t){return Qs.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:Pc(n.createTime)}),Qs.resolve()}},{key:"getNamedQuery",value:function(e,t){return Qs.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:ch(e.bundledQuery),readTime:Pc(e.readTime)}}(t)),Qs.resolve()}}]),e}(),kh=function(){function e(){p(this,e),this.overlays=new tu(Fs.comparator),this.Xn=new Map}return v(e,[{key:"getOverlay",value:function(e,t){return Qs.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=cc();return Qs.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),Qs.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),Qs.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=cc(),i=t.length+1,a=new Fs(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Qs.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new tu((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=cc(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=cc(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Qs.resolve(u)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new sh(t,n));var a=this.Xn.get(t);void 0===a&&(a=mc(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),wh=function(){function e(){p(this,e),this.Zn=new iu(bh.ts),this.es=new iu(bh.ns)}return v(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new bh(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new bh(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Fs(new Ls([])),r=new bh(n,e),i=new bh(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new Fs(new Ls([])),n=new bh(t,e),r=new bh(t,e+1),i=mc();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new bh(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),bh=function(){function e(t,n){p(this,e),this.key=t,this.ls=n}return v(e,null,[{key:"ts",value:function(e,t){return Fs.comparator(e.key,t.key)||As(e.ls,t.ls)}},{key:"ns",value:function(e,t){return As(e.ls,t.ls)||Fs.comparator(e.key,t.key)}}]),e}(),xh=function(){function e(t,n){p(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new iu(bh.ts)}return v(e,[{key:"checkEmpty",value:function(e){return Qs.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new ah(i,t,n,r);this.mutationQueue.push(a);var o,s=T(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ds=this.ds.add(new bh(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return Qs.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Qs.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return Qs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Qs.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return Qs.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new bh(t,0),i=new bh(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),Qs.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new iu(As);return t.forEach((function(e){var t=new bh(e,0),i=new bh(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),Qs.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Fs.isDocumentKey(i)||(i=i.child(""));var a=new bh(new Fs(i),0),o=new iu(As);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),Qs.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;gs(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return Qs.forEach(t.mutations,(function(i){var a=new bh(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new bh(t,0),r=this.ds.firstAfterOrEqual(n);return Qs.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Qs.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Ch=function(){function e(t){p(this,e),this.ps=t,this.docs=new tu(Fs.comparator),this.size=0}return v(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Qs.resolve(n?n.document.mutableCopy():Uu.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=oc();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Uu.newInvalidDocument(e))})),Qs.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=oc(),i=new Fs(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||qs(zs(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return Qs.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){vs()}},{key:"Is",value:function(e,t){return Qs.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Sh(this)}},{key:"getSize",value:function(e){return Qs.resolve(this.size)}}]),e}(),Sh=function(e){y(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this)).zn=e,r}return v(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),Qs.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(vh),Eh=function(){function e(t){p(this,e),this.persistence=t,this.Ts=new ic((function(e){return Vu(e)}),zu),this.lastRemoteSnapshotVersion=Rs.min(),this.highestTargetId=0,this.Es=0,this.As=new wh,this.targetCount=0,this.Rs=mh.An()}return v(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),Qs.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Qs.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Qs.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),Qs.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),Qs.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new mh(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,Qs.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),Qs.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Qs.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Qs.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Qs.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return Qs.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),Qs.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Qs.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),Qs.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return Qs.resolve(n)}},{key:"containsKey",value:function(e,t){return Qs.resolve(this.As.containsKey(t))}}]),e}(),Th=function(){function e(t,n){var r=this;p(this,e),this.bs={},this.overlays={},this.Ps=new Ys(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new Eh(this),this.indexManager=new fh,this.remoteDocumentCache=new Ch((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new lh(n),this.Ds=new _h(this.wt)}return v(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new kh,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new xh(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;fs("MemoryPersistence","Starting transaction:",e);var i=new Ih(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return Qs.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Ih=function(e){y(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return v(n)}(Hs),jh=function(){function e(t){p(this,e),this.persistence=t,this.ks=new wh,this.Ms=null}return v(e,[{key:"Fs",get:function(){if(this.Ms)return this.Ms;throw vs()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),Qs.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),Qs.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),Qs.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Ms=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qs.forEach(this.Fs,(function(r){var i=Fs.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,Rs.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Qs.or([function(){return Qs.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Os",value:function(t){return new e(t)}}]),e}();var Nh=function(){function e(t,n,r,i){p(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return v(e,null,[{key:"Vi",value:function(t,n){var r,i=mc(),a=mc(),o=T(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Ah=function(){function e(){p(this,e),this.Si=!1}return v(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){var n=this;if(sl(t))return Qs.resolve(null);var r=fl(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=dl(t,null,"F"),r=fl(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=mc.apply(void 0,d(i));return n.Di.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ki(t,i);return n.Mi(t,o,a,r.readTime)?n.Ci(e,dl(t,null,"F")):n.Oi(e,o,t,r)}))}))})))}))}},{key:"xi",value:function(e,t,n,r){var i=this;return sl(t)||r.isEqual(Rs.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Mi(t,o,n,r)?i.Ni(e,t):(hs()<=zt.DEBUG&&fs("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vl(t)),i.Oi(e,o,t,Vs(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new iu(_l(e));return t.forEach((function(t,r){gl(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return hs()<=zt.DEBUG&&fs("QueryEngine","Using full collection scan to execute query:",vl(t)),this.Di.getDocumentsMatchingQuery(e,t,Gs.min())}},{key:"Oi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Dh=function(){function e(t,n,r,i){p(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new tu(As),this.Bi=new ic((function(e){return Vu(e)}),zu),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return v(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yh(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function Ph(e,t,n,r){return new Dh(e,t,n,r)}function Rh(e,t){return Mh.apply(this,arguments)}function Mh(){return Mh=Je(He().mark((function e(t,n){var r;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ys(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=mc(),u=T(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.push(l.batchId);var c,h=T(l.mutations);try{for(h.s();!(c=h.n()).done;){var f=c.value;s=s.add(f.key)}}catch(_){h.e(_)}finally{h.f()}}}catch(_){u.e(_)}finally{u.f()}var d,p=T(n);try{for(p.s();!(d=p.n()).done;){var m=d.value;o.push(m.batchId);var v,g=T(m.mutations);try{for(g.s();!(v=g.n()).done;){var y=v.value;s=s.add(y.key)}}catch(_){g.e(_)}finally{g.f()}}}catch(_){p.e(_)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Mh.apply(this,arguments)}function Lh(e,t){var n=ys(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Qs.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);gs(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=mc(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Oh(e){var t=ys(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function Uh(e,t){var n=ys(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?l=l.withResumeToken(su.EMPTY_BYTE_STRING,Rs.min()).withLastLimboFreeSnapshotVersion(Rs.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.Vs.updateTargetData(e,l))}}));var s=oc(),u=mc();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Fh(e,a,t.documentUpdates).next((function(e){s=e.Gi,u=e.Qi}))),!r.isEqual(Rs.min())){var l=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return Qs.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.$i=i,e}))}function Fh(e,t,n){var r=mc(),i=mc();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=oc();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Rs.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):fs("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function Bh(e,t){var n=ys(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Vh(e,t){var n=ys(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,Qs.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new uh(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function zh(e,t,n){return Gh.apply(this,arguments)}function Gh(){return Gh=Je(He().mark((function e(t,n,r){var i,a,o;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ys(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),$s(e.t1)){e.next=12;break}throw e.t1;case 12:fs("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Gh.apply(this,arguments)}function qh(e,t,n){var r=ys(e),i=Rs.min(),a=mc();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ys(e),i=r.Bi.get(n);return void 0!==i?Qs.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,fl(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:Rs.min(),n?a:mc())})).next((function(e){return Wh(r,yl(t),e),{documents:e,ji:a}}))}))}function Wh(e,t,n){var r=Rs.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}var Hh=function(){function e(){p(this,e),this.activeTargetIds=gc()}return v(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Kh=function(){function e(){p(this,e),this.Fr=new Hh,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return v(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new Hh,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Jh=function(){function e(){p(this,e)}return v(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Qh=function(){function e(){var t=this;p(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return v(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){fs("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=T(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){fs("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=T(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),$h={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Yh=function(){function e(t){p(this,e),this.jr=t.jr,this.Wr=t.Wr}return v(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),Xh=function(e){y(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return v(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new os;o.listenOnce(ts.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case es.NO_ERROR:var t=o.getResponseJson();fs("Connection","XHR received:",JSON.stringify(t)),i(t);break;case es.TIMEOUT:fs("Connection",'RPC "'+e+'" timed out'),a(new ks(_s.DEADLINE_EXCEEDED,"Request time out"));break;case es.HTTP_ERROR:var n=o.getStatus();if(fs("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(_s).indexOf(t)>=0?t:_s.UNKNOWN}(r.status);a(new ks(s,r.message))}else a(new ks(_s.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ks(_s.UNAVAILABLE,"Connection failed."));break;default:vs()}}finally{fs("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Xo(),a=Zo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new is({})),this.uo(o.initMessageHeaders,t,n),ft()||pt()||ht().indexOf("Electron/")>=0||function(){var e=ht();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||ht().indexOf("MSAppHost/")>=0||dt()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");fs("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),l=!1,c=!1,h=new Yh({jr:function(e){c?fs("Connection","Not sending because WebChannel is closed:",e):(l||(fs("Connection","Opening WebChannel transport."),u.open(),l=!0),fs("Connection","WebChannel sending:",e),u.send(e))},Wr:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,as.EventType.OPEN,(function(){c||fs("Connection","WebChannel transport opened.")})),f(u,as.EventType.CLOSE,(function(){c||(c=!0,fs("Connection","WebChannel transport closed"),h.eo())})),f(u,as.EventType.ERROR,(function(e){c||(c=!0,ps("Connection","WebChannel transport errored:",e),h.eo(new ks(_s.UNAVAILABLE,"The operation could not be completed")))})),f(u,as.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];gs(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){fs("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Yl[e];if(void 0!==t)return rc(t)}(a),s=i.message;void 0===o&&(o=_s.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),c=!0,h.eo(new ks(o,s)),u.close()}else fs("Connection","WebChannel received:",n),h.no(n)}})),f(a,ns.STAT_EVENT,(function(e){e.stat===rs.PROXY?fs("Connection","Detected buffering proxy"):e.stat===rs.NOPROXY&&fs("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Zr()}),0),h}}]),n}(function(){function e(t){p(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return v(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);fs("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return fs("RestConnection","Received: ",e),e}),(function(t){throw ps("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ls,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=$h[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function Zh(){return"undefined"!=typeof document?document:null}function ef(e){return new jc(e,!0)}var tf=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;p(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return v(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&fs("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),nf=function(){function e(t,n,r,i,a,o,s,u){p(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new tf(t,n)}return v(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Je(He().mark((function e(){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Je(He().mark((function e(){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Je(He().mark((function e(t,n){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===_s.RESOURCE_EXHAUSTED?(ds(n.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===_s.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new ks(_s.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Je(He().mark((function t(){return He().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return fs("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(fs("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),rf=function(e){y(n,e);var t=C(n);function n(e,r,i,a,o,s){var u;return p(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).wt=o,u}return v(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:vs()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(gs(void 0===t||"string"==typeof t),su.fromBase64String(t||"")):(gs(void 0===t||t instanceof Uint8Array),su.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?_s.UNKNOWN:rc(e.code);return new ks(t,e.message||"")}(o);n=new bc(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=Oc(e,u.document.name),c=Pc(u.document.updateTime),h=new Lu({mapValue:{fields:u.document.fields}}),f=Uu.newFoundDocument(l,c,h),d=u.targetIds||[],p=u.removedTargetIds||[];n=new kc(d,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var v=Oc(e,m.document),g=m.readTime?Pc(m.readTime):Rs.min(),y=Uu.newNoDocument(v,g),_=m.removedTargetIds||[];n=new kc([],_,y.key,y)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=Oc(e,k.document),b=k.removedTargetIds||[];n=new kc([],b,w,null)}else{if(!("filter"in t))return vs();t.filter;var x=t.filter;x.targetId;var C=x.count||0,S=new tc(C),E=x.targetId;n=new wc(E,S)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Rs.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Rs.min():t.readTime?Pc(t.readTime):Rs.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Bc(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=Gu(r)?{documents:qc(e,r)}:{query:Wc(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ac(e,t.resumeToken):t.snapshotVersion.compareTo(Rs.min())>0&&(n.readTime=Nc(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vs()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=Bc(this.wt),t.removeTarget=e,this.Oo(t)}}]),n}(nf),af=function(e){y(n,e);var t=C(n);function n(e,r,i,a,o,s){var u;return p(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).wt=o,u.Wo=!1,u}return v(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,$e(_(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(gs(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(gs(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Pc(e.updateTime):Pc(t);return n.isEqual(Rs.min())&&(n=Pc(t)),new Ol(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Pc(e.commitTime);return this.listener.Jo(n,t)}return gs(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Bc(this.wt),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Gc(t.wt,e)}))};this.Oo(n)}}]),n}(nf),of=function(e){y(n,e);var t=C(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return v(n,[{key:"tu",value:function(){if(this.Zo)throw new ks(_s.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.bo.ro(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_s.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ks(_s.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=u(a,2),s=o[0],l=o[1];return i.bo.ao(e,t,n,s,l,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_s.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new ks(_s.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return v((function e(){p(this,e)}))}()),sf=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return v(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(ds(t),this.su=!1):fs("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),uf=v((function e(t,n,r,i,a){var o=this;p(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Je(He().mark((function e(){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=_f(o),!e.t0){e.next=5;break}return fs("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Je(He().mark((function e(t){var n;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ys(t)).lu.add(4),e.next=4,hf(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,lf(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new sf(r,i)}));function lf(e){return cf.apply(this,arguments)}function cf(){return cf=Je(He().mark((function e(t){var n,r,i;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_f(t)){e.next=18;break}n=T(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),cf.apply(this,arguments)}function hf(e){return ff.apply(this,arguments)}function ff(){return ff=Je(He().mark((function e(t){var n,r,i;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=T(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),ff.apply(this,arguments)}function df(e,t){var n=ys(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),yf(n)?gf(n):Jf(n).Co()&&mf(n,t))}function pf(e,t){var n=ys(e),r=Jf(n);n.hu.delete(t),r.Co()&&vf(n,t),0===n.hu.size&&(r.Co()?r.ko():_f(n)&&n._u.set("Unknown"))}function mf(e,t){e.wu.Nt(t.targetId),Jf(e).Qo(t)}function vf(e,t){e.wu.Nt(t),Jf(e).jo(t)}function gf(e){e.wu=new Cc({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),Jf(e).start(),e._u.iu()}function yf(e){return _f(e)&&!Jf(e).Do()&&e.hu.size>0}function _f(e){return 0===ys(e).lu.size}function kf(e){e.wu=void 0}function wf(e){return bf.apply(this,arguments)}function bf(){return bf=Je(He().mark((function e(t){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){mf(t,e)}));case 1:case"end":return e.stop()}}),e)}))),bf.apply(this,arguments)}function xf(e,t){return Cf.apply(this,arguments)}function Cf(){return Cf=Je(He().mark((function e(t,n){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kf(t),yf(t)?(t._u.uu(n),gf(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Cf.apply(this,arguments)}function Sf(e,t,n){return Ef.apply(this,arguments)}function Ef(){return Ef=Je(He().mark((function e(t,n,r){var i;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof bc&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Je(He().mark((function e(t,n){var r,i,a,o;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=T(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),fs("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Tf(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof kc?t.wu.Ut(n):n instanceof wc?t.wu.zt(n):t.wu.Gt(n),r.isEqual(Rs.min())){e.next=29;break}return e.prev=14,e.next=17,Oh(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(su.EMPTY_BYTE_STRING,n.snapshotVersion)),vf(e,t);var r=new uh(n.target,t,1,n.sequenceNumber);mf(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),fs("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Tf(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Ef.apply(this,arguments)}function Tf(e,t,n){return If.apply(this,arguments)}function If(){return If=Je(He().mark((function e(t,n,r){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($s(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,hf(t);case 5:t._u.set("Offline"),r||(r=function(){return Oh(t.localStore)}),t.asyncQueue.enqueueRetryable(Je(He().mark((function e(){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fs("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,lf(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),If.apply(this,arguments)}function jf(e,t){return t().catch((function(n){return Tf(e,n,t)}))}function Nf(e){return Af.apply(this,arguments)}function Af(){return Af=Je(He().mark((function e(t){var n,r,i,a;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ys(t),r=Qf(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!Df(n)){e.next=19;break}return e.prev=3,e.next=6,Bh(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,Pf(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Tf(n,e.t0);case 17:e.next=2;break;case 19:Rf(n)&&Mf(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Af.apply(this,arguments)}function Df(e){return _f(e)&&e.au.length<10}function Pf(e,t){e.au.push(t);var n=Qf(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function Rf(e){return _f(e)&&!Qf(e).Do()&&e.au.length>0}function Mf(e){Qf(e).start()}function Lf(e){return Of.apply(this,arguments)}function Of(){return Of=Je(He().mark((function e(t){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Qf(t).Xo();case 1:case"end":return e.stop()}}),e)}))),Of.apply(this,arguments)}function Uf(e){return Ff.apply(this,arguments)}function Ff(){return Ff=Je(He().mark((function e(t){var n,r,i,a;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Qf(t),r=T(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Ff.apply(this,arguments)}function Bf(e,t,n){return Vf.apply(this,arguments)}function Vf(){return Vf=Je(He().mark((function e(t,n,r){var i,a;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=oh.from(i,n,r),e.next=3,jf(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Nf(t);case 5:case"end":return e.stop()}}),e)}))),Vf.apply(this,arguments)}function zf(e,t){return Gf.apply(this,arguments)}function Gf(){return Gf=Je(He().mark((function e(t,n){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Qf(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Je(He().mark((function e(t,n){var r,i;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!nc(i=n.code)||i===_s.ABORTED){e.next=7;break}return r=t.au.shift(),Qf(t).No(),e.next=5,jf(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Nf(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Rf(t)&&Mf(t);case 5:case"end":return e.stop()}}),e)}))),Gf.apply(this,arguments)}function qf(e,t){return Wf.apply(this,arguments)}function Wf(){return Wf=Je(He().mark((function e(t,n){var r,i;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ys(t)).asyncQueue.verifyOperationInProgress(),fs("RemoteStore","RemoteStore received new credentials"),i=_f(r),r.lu.add(3),e.next=6,hf(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,lf(r);case 12:case"end":return e.stop()}}),e)}))),Wf.apply(this,arguments)}function Hf(e,t){return Kf.apply(this,arguments)}function Kf(){return Kf=Je(He().mark((function e(t,n){var r;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ys(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,lf(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,hf(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Kf.apply(this,arguments)}function Jf(e){return e.mu||(e.mu=function(e,t,n){var r=ys(e);return r.tu(),new rf(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:wf.bind(null,e),Jr:xf.bind(null,e),Go:Sf.bind(null,e)}),e.fu.push(function(){var t=Je(He().mark((function t(n){return He().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),yf(e)?gf(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:kf(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function Qf(e){return e.gu||(e.gu=function(e,t,n){var r=ys(e);return r.tu(),new af(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Lf.bind(null,e),Jr:zf.bind(null,e),Yo:Uf.bind(null,e),Jo:Bf.bind(null,e)}),e.fu.push(function(){var t=Je(He().mark((function t(n){return He().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,Nf(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(fs("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var $f=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return v(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ks(_s.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Yf(e,t){if(ds("AsyncQueue","".concat(t,": ").concat(e)),$s(e))return new ks(_s.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Xf=function(){function e(t){p(this,e),this.comparator=t?function(e,n){return t(e,n)||Fs.comparator(e.key,n.key)}:function(e,t){return Fs.comparator(e.key,t.key)},this.keyedMap=uc(),this.sortedSet=new tu(this.comparator)}return v(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Zf=function(){function e(){p(this,e),this.yu=new tu(Fs.comparator)}return v(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):vs():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),ed=function(){function e(t,n,r,i,a,o,s,u){p(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return v(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Xf.emptySet(n),a,r,i,!0,!1)}}]),e}(),td=v((function e(){p(this,e),this.Iu=void 0,this.listeners=[]})),nd=v((function e(){p(this,e),this.queries=new ic((function(e){return ml(e)}),pl),this.onlineState="Unknown",this.Tu=new Set}));function rd(e,t){return id.apply(this,arguments)}function id(){return id=Je(He().mark((function e(t,n){var r,i,a,o,s;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ys(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new td),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Yf(e.t0,"Initialization of query '".concat(vl(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&ld(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),id.apply(this,arguments)}function ad(e,t){return od.apply(this,arguments)}function od(){return od=Je(He().mark((function e(t,n){var r,i,a,o,s;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ys(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),od.apply(this,arguments)}function sd(e,t){var n,r=ys(e),i=!1,a=T(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var l,c=T(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Au(o)&&(i=!0)}}catch(h){c.e(h)}finally{c.f()}u.Iu=o}}}catch(h){a.e(h)}finally{a.f()}i&&ld(r)}function ud(e,t,n){var r=ys(e),i=r.queries.get(t);if(i){var a,o=T(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function ld(e){e.Tu.forEach((function(e){e.next()}))}var cd=function(){function e(t,n,r){p(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return v(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=T(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new ed(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=ed.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}();var hd=v((function e(t){p(this,e),this.key=t})),fd=v((function e(t){p(this,e),this.key=t})),dd=function(){function e(t,n){p(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=mc(),this.mutatedKeys=mc(),this.Lu=_l(t),this.Uu=new Xf(this.Lu)}return v(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new Zf,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),h=gl(n.query,t)?t:null,f=!!c&&n.mutatedKeys.has(c.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Qu(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Lu(h,u)>0||l&&n.Lu(h,l)<0)&&(s=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Uu:o,Gu:r,Mi:s,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vs()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],s=0===this.Bu.size&&this.current?1:0,u=s!==this.$u;return this.$u=s,0!==a.length||u?{snapshot:new ed(this.query,e.Uu,i,a,e.mutatedKeys,0===s,u,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Zf,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=mc(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new fd(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new hd(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=mc();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return ed.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),pd=v((function e(t,n,r){p(this,e),this.query=t,this.targetId=n,this.view=r})),md=v((function e(t){p(this,e),this.key=t,this.Xu=!1})),vd=function(){function e(t,n,r,i,a,o){p(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new ic((function(e){return ml(e)}),pl),this.ec=new Map,this.nc=new Set,this.sc=new tu(Fs.comparator),this.ic=new Map,this.rc=new wh,this.oc={},this.uc=new Map,this.cc=mh.Rn(),this.onlineState="Unknown",this.ac=void 0}return v(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function gd(e,t){return yd.apply(this,arguments)}function yd(){return yd=Je(He().mark((function e(t,n){var r,i,a,o,s,u;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hd(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,Vh(r.localStore,fl(n));case 8:return s=e.sent,r.isPrimaryClient&&df(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,_d(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),yd.apply(this,arguments)}function _d(e,t,n,r){return kd.apply(this,arguments)}function kd(){return kd=Je(He().mark((function e(t,n,r,i){var a,o,s,u,l,c;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Je(He().mark((function e(t,n,r,i){var a,o,s;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,qh(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Ud(t,n.targetId,s.zu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,qh(t.localStore,n,!0);case 3:return a=e.sent,o=new dd(n,a.ji),s=o.Ku(a.documents),u=_c.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=o.applyChanges(s,t.isPrimaryClient,u),Ud(t,r,l.zu),c=new pd(n,r,o),e.abrupt("return",(t.tc.set(n,c),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),kd.apply(this,arguments)}function wd(e,t){return bd.apply(this,arguments)}function bd(){return bd=Je(He().mark((function e(t,n){var r,i,a;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ys(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!pl(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,zh(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),pf(r.remoteStore,i.targetId),Ld(r,i.targetId)})).catch(Ks);case 9:e.next=14;break;case 11:return Ld(r,i.targetId),e.next=14,zh(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),bd.apply(this,arguments)}function xd(e,t,n){return Cd.apply(this,arguments)}function Cd(){return Cd=Je(He().mark((function e(t,n,r){var i,a,o;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Kd(t),e.prev=1,e.next=4,function(e,t){var n,r,i=ys(e),a=Ps.now(),o=t.reduce((function(e,t){return e.add(t.key)}),mc());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=oc(),u=mc();return i.Ui.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=T(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=ql(l,n.get(l.key).overlayedDocument);null!=c&&s.push(new Kl(l.key,c,Ou(c.value.mapValue),Ul.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:lc(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new tu(As)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Vd(i,a.changes);case 9:return e.next=11,Nf(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Yf(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Cd.apply(this,arguments)}function Sd(e,t){return Ed.apply(this,arguments)}function Ed(){return Ed=Je(He().mark((function e(t,n){var r,i;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ys(t),e.prev=1,e.next=4,Uh(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(gs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?gs(n.Xu):e.removedDocuments.size>0&&(gs(n.Xu),n.Xu=!1))})),e.next=8,Vd(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Ks(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Ed.apply(this,arguments)}function Td(e,t,n){var r=ys(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ys(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=T(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&ld(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Id(e,t,n){return jd.apply(this,arguments)}function jd(){return jd=Je(He().mark((function e(t,n,r){var i,a,o,s,u,l;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=ys(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new tu(Fs.comparator)).insert(o,Uu.newNoDocument(o,Rs.min())),u=mc().add(o),l=new yc(Rs.min(),new Map,new iu(As),s,u),e.next=9,Sd(i,l);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),Bd(i),e.next=16;break;case 14:return e.next=16,zh(i.localStore,n,!1).then((function(){return Ld(i,n,r)})).catch(Ks);case 16:case"end":return e.stop()}}),e)}))),jd.apply(this,arguments)}function Nd(e,t){return Ad.apply(this,arguments)}function Ad(){return Ad=Je(He().mark((function e(t,n){var r,i,a;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ys(t),i=n.batch.batchId,e.prev=1,e.next=4,Lh(r.localStore,n);case 4:return a=e.sent,Md(r,i,null),Rd(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Vd(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ks(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ad.apply(this,arguments)}function Dd(e,t,n){return Pd.apply(this,arguments)}function Pd(){return Pd=Je(He().mark((function e(t,n,r){var i,a;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ys(t),e.prev=1,e.next=4,function(e,t){var n=ys(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return gs(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Md(i,n,r),Rd(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Vd(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ks(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Pd.apply(this,arguments)}function Rd(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function Md(e,t,n){var r=ys(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function Ld(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=T(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||Od(e,t)}))}function Od(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(pf(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),Bd(e))}function Ud(e,t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof hd?(e.rc.addReference(a.key,t),Fd(e,a)):a instanceof fd?(fs("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||Od(e,a.key)):vs()}}catch(o){i.e(o)}finally{i.f()}}function Fd(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(fs("SyncEngine","New document in limbo: "+n),e.nc.add(r),Bd(e))}function Bd(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new Fs(Ls.fromString(t)),r=e.cc.next();e.ic.set(r,new md(n)),e.sc=e.sc.insert(n,r),df(e.remoteStore,new uh(fl(ol(n.path)),r,2,Ys.ot))}}function Vd(e,t,n){return zd.apply(this,arguments)}function zd(){return zd=Je(He().mark((function e(t,n,r){var i,a,o,s;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ys(t),a=[],o=[],s=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){s.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Nh.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Je(He().mark((function e(t,n){var r,i,a,o,s,u,l,c;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ys(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Qs.forEach(n,(function(t){return Qs.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Qs.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),$s(e.t0)){e.next=10;break}throw e.t0;case 10:fs("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=T(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.$i.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),r.$i=r.$i.insert(s,c))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),zd.apply(this,arguments)}function Gd(e,t){return qd.apply(this,arguments)}function qd(){return qd=Je(He().mark((function e(t,n){var r,i;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ys(t)).currentUser.isEqual(n)){e.next=11;break}return fs("SyncEngine","User change. New user:",n.toKey()),e.next=5,Rh(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new ks(_s.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Vd(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),qd.apply(this,arguments)}function Wd(e,t){var n=ys(e),r=n.ic.get(t);if(r&&r.Xu)return mc().add(r.key);var i=mc(),a=n.ec.get(t);if(!a)return i;var o,s=T(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n.tc.get(u);i=i.unionWith(l.view.qu)}}catch(c){s.e(c)}finally{s.f()}return i}function Hd(e){var t=ys(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Sd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Id.bind(null,t),t.Zu.Go=sd.bind(null,t.eventManager),t.Zu.lc=ud.bind(null,t.eventManager),t}function Kd(e){var t=ys(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Nd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Dd.bind(null,t),t}var Jd=function(){function e(){p(this,e),this.synchronizeTabs=!1}return v(e,[{key:"initialize",value:function(){var e=Je(He().mark((function e(t){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=ef(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return Ph(this.persistence,new Ah,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new Th(jh.Os,this.wt)}},{key:"dc",value:function(e){return new Kh}},{key:"terminate",value:function(){var e=Je(He().mark((function e(){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Qd=function(){function e(){p(this,e)}return v(e,[{key:"initialize",value:function(){var e=Je(He().mark((function e(t,n){var r=this;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Td(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Gd.bind(null,this.syncEngine),e.next=12,Hf(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new nd}},{key:"createDatastore",value:function(e){var t,n=ef(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Xh(t));return function(e,t,n,r){return new of(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Td(o.syncEngine,e,0)},a=Qh.V()?new Qh:new Jh,new uf(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new vd(e,t,n,r,i,a);return o&&(s.ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Je(He().mark((function e(t){var n;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ys(t),fs("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,hf(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var $d=function(){function e(t){p(this,e),this.observer=t,this.muted=!1}return v(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Yd=function(){function e(t,n,r,i){var a=this;p(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=us.UNAUTHENTICATED,this.clientId=Ns.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Je(He().mark((function e(t){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fs("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return fs("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return v(e,[{key:"getConfiguration",value:function(){var e=Je(He().mark((function e(){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ks(_s.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Je(He().mark((function n(){var r;return He().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Yf(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Xd(e,t){return Zd.apply(this,arguments)}function Zd(){return Zd=Je(He().mark((function e(t,n){var r,i;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),fs("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Je(He().mark((function e(t){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Rh(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Zd.apply(this,arguments)}function ep(e,t){return tp.apply(this,arguments)}function tp(){return tp=Je(He().mark((function e(t,n){var r,i;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,np(t);case 3:return r=e.sent,fs("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return qf(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return qf(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),tp.apply(this,arguments)}function np(e){return rp.apply(this,arguments)}function rp(){return rp=Je(He().mark((function e(t){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return fs("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Xd(t,new Jd);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),rp.apply(this,arguments)}function ip(e){return ap.apply(this,arguments)}function ap(){return ap=Je(He().mark((function e(t){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return fs("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,ep(t,new Qd);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),ap.apply(this,arguments)}function op(e){return ip(e).then((function(e){return e.syncEngine}))}function sp(e){return up.apply(this,arguments)}function up(){return up=Je(He().mark((function e(t){var n,r;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ip(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=gd.bind(null,n.syncEngine),r.onUnlisten=wd.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),up.apply(this,arguments)}function lp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ws;return e.asyncQueue.enqueueAndForget(Je(He().mark((function i(){return He().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new $d({next:function(n){t.enqueueAndForget((function(){return ad(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ks(_s.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new cd(n,a,{includeMetadataChanges:!0,Du:!0});return rd(e,o)},i.next=3,sp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var cp=new Map;function hp(e,t,n){if(!n)throw new ks(_s.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function fp(e){if(!Fs.isDocumentKey(e))throw new ks(_s.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function dp(e){if(Fs.isDocumentKey(e))throw new ks(_s.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function pp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":vs()}function mp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ks(_s.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=pp(e);throw new ks(_s.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var vp=function(){function e(t){var n;if(p(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ks(_s.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ks(_s.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new ks(_s.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return v(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),gp=function(){function e(t,n,r){p(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vp({}),this._settingsFrozen=!1,t instanceof vu?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ks(_s.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(e.options.projectId)}(t))}return v(e,[{key:"app",get:function(){if(!this._app)throw new ks(_s.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ks(_s.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new xs;switch(e.type){case"gapi":var t=e.client;return gs(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Es(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ks(_s.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=cp.get(e);t&&(fs("ComponentProvider","Removing Datastore"),cp.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var yp=function(){function e(t,n,r){p(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return v(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new kp(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),_p=function(){function e(t,n,r){p(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return v(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),kp=function(e){y(n,e);var t=C(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,ol(i)))._path=i,a.type="collection",a}return v(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new yp(this.firestore,null,new Fs(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(_p);function wp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ot(e),hp("collection","path",t),e instanceof gp){var a=Ls.fromString.apply(Ls,[t].concat(r));return dp(a),new kp(e,null,a)}if(!(e instanceof yp||e instanceof kp))throw new ks(_s.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ls.fromString.apply(Ls,[t].concat(r)));return dp(o),new kp(e.firestore,null,o)}function bp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ot(e),1===arguments.length&&(t=Ns.I()),hp("doc","path",t),e instanceof gp){var a=Ls.fromString.apply(Ls,[t].concat(r));return fp(a),new yp(e,null,new Fs(a))}if(!(e instanceof yp||e instanceof kp))throw new ks(_s.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ls.fromString.apply(Ls,[t].concat(r)));return fp(o),new yp(e.firestore,e instanceof kp?e.converter:null,new Fs(o))}var xp=function(){function e(){var t=this;p(this,e),this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new tf(this,"async_queue_retry"),this.Kc=function(){var e=Zh();e&&fs("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=Zh();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return v(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=Zh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new ws;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Oc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=Je(He().mark((function e(){var t=this;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Oc.length){e.next=14;break}return e.prev=1,e.next=4,this.Oc[0]();case 4:this.Oc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),$s(e.t0)){e.next=12;break}throw e.t0;case 12:fs("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Oc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Mc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ds("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=$f.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&vs()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Je(He().mark((function e(){var t;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Mc,e.next=3,t;case 3:if(t!==this.Mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=T(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=T(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function Cp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=T(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Sp=function(e){y(n,e);var t=C(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new xp,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return v(n,[{key:"_terminate",value:function(){return this._firestoreClient||Tp(this),this._firestoreClient.terminate()}}]),n}(gp);function Ep(e){return e._firestoreClient||Tp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Tp(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new mu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Yd(e._authCredentials,e._appCheckCredentials,e._queue,r)}var Ip=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ks(_s.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Us(n)}return v(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var jp=function(){function e(t){p(this,e),this._byteString=t}return v(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(su.fromBase64String(t))}catch(t){throw new ks(_s.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(su.fromUint8Array(t))}}]),e}(),Np=v((function e(t){p(this,e),this._methodName=t})),Ap=function(){function e(t,n){if(p(this,e),!isFinite(t)||t<-90||t>90)throw new ks(_s.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ks(_s.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return v(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return As(this._lat,e._lat)||As(this._long,e._long)}}]),e}(),Dp=/^__.*__$/,Pp=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Kl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hl(e,this.data,t,this.fieldTransforms)}}]),e}(),Rp=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return new Kl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Mp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vs()}}var Lp=function(){function e(t,n,r,i,a,o){p(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return v(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return Xp(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(Mp(this.Zc)&&Dp.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),Op=function(){function e(t,n,r){p(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||ef(t)}return v(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Lp({Zc:e,methodName:t,ca:n,path:Us.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function Up(e){var t=e._freezeSettings(),n=ef(e._databaseId);return new Op(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Fp(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);Jp("Data must be an object, but it was:",o,r);var s,u,l=Hp(r,o);if(a.merge)s=new ou(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,h=[],f=T(a.mergeFields);try{for(f.s();!(c=f.n()).done;){var d=c.value,p=Qp(t,d,n);if(!o.contains(p))throw new ks(_s.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Zp(h,p)||h.push(p)}}catch(m){f.e(m)}finally{f.f()}s=new ou(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Pp(new Lu(l),s,u)}var Bp=function(e){y(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Np);var Vp=function(e){y(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n,[{key:"_toFieldTransform",value:function(e){return new Ll(e.path,new Il)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Np);function zp(e,t,n,r){var i=e.aa(1,t,n);Jp("Data must be an object, but it was:",i,r);var a=[],o=Lu.empty();Zs(r,(function(e,r){var s=Yp(t,e,n);r=Ot(r);var u=i.ia(s);if(r instanceof Bp)a.push(s);else{var l=Wp(r,u);null!=l&&(a.push(s),o.set(s,l))}}));var s=new ou(a);return new Rp(o,s,i.fieldTransforms)}function Gp(e,t,n,r,i,a){var o=e.aa(1,t,n),s=[Qp(t,r,n)],u=[i];if(a.length%2!=0)throw new ks(_s.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)s.push(Qp(t,a[l])),u.push(a[l+1]);for(var c=[],h=Lu.empty(),f=s.length-1;f>=0;--f)if(!Zp(c,s[f])){var d=s[f],p=u[f];p=Ot(p);var m=o.ia(d);if(p instanceof Bp)c.push(d);else{var v=Wp(p,m);null!=v&&(c.push(d),h.set(d,v))}}var g=new ou(c);return new Rp(h,g,o.fieldTransforms)}function qp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Wp(n,e.aa(r?4:3,t))}function Wp(e,t){if(Kp(e=Ot(e)))return Jp("Unsupported field value:",t,e),Hp(e,t);if(e instanceof Np)return function(e,t){if(!Mp(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=T(e);try{for(a.s();!(n=a.n()).done;){var o=Wp(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ot(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xl(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ps.fromDate(e);return{timestampValue:Nc(t.wt,n)}}if(e instanceof Ps){var r=new Ps(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Nc(t.wt,r)}}if(e instanceof Ap)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof jp)return{bytesValue:Ac(t.wt,e._byteString)};if(e instanceof yp){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Rc(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(pp(e)))}(e,t)}function Hp(e,t){var n={};return eu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zs(e,(function(e,r){var i=Wp(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Kp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ps||e instanceof Ap||e instanceof jp||e instanceof yp||e instanceof Np)}function Jp(e,t,n){if(!Kp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=pp(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function Qp(e,t,n){if((t=Ot(t))instanceof Ip)return t._internalPath;if("string"==typeof t)return Yp(e,t);throw Xp("Field path arguments must be of type string or ",e,!1,void 0,n)}var $p=new RegExp("[~\\*/\\[\\]]");function Yp(e,t,n){if(t.search($p)>=0)throw Xp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return S(Ip,d(t.split(".")))._internalPath}catch(r){throw Xp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Xp(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new ks(_s.INVALID_ARGUMENT,s+e+u)}function Zp(e,t){return e.some((function(e){return e.isEqual(t)}))}var em=function(){function e(t,n,r,i,a){p(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return v(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new yp(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new tm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(nm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),tm=function(e){y(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){return $e(_(n.prototype),"data",this).call(this)}}]),n}(em);function nm(e,t){return"string"==typeof t?Yp(e,t):t instanceof Ip?t._internalPath:t._delegate._internalPath}var rm=function(){function e(t,n){p(this,e),this.hasPendingWrites=t,this.fromCache=n}return v(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),im=function(e){y(n,e);var t=C(n);function n(e,r,i,a,o,s){var u;return p(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return v(n,[{key:"exists",value:function(){return $e(_(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new am(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(nm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(em),am=function(e){y(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $e(_(n.prototype),"data",this).call(this,e)}}]),n}(im),om=function(){function e(t,n,r,i){p(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new rm(i.hasPendingWrites,i.fromCache),this.query=r}return v(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new am(n._firestore,n._userDataWriter,r.key,r,new rm(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ks(_s.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new am(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new am(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:sm(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function sm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vs()}}function um(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ks(_s.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lm=v((function e(){p(this,e)}));function cm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var hm=function(e){y(n,e);var t=C(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return v(n,[{key:"_apply",value:function(e){var t=Up(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ks(_s.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){vm(o,a);var u,l=[],c=T(o);try{for(c.s();!(u=c.n()).done;){var h=u.value;l.push(mm(r,e,h))}}catch(d){c.e(d)}finally{c.f()}s={arrayValue:{values:l}}}else s=mm(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||vm(o,a),s=qp(n,"where",o,"in"===a||"not-in"===a);var f=qu.create(i,a,s);return function(e,t){if(t.ht()){var n=ll(e);if(null!==n&&!n.isEqual(t.field))throw new ks(_s.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=ul(e);null!==r&&gm(e,t.field,r)}var i=function(e,t){var n,r=T(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new ks(_s.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ks(_s.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new _p(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new il(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(lm);function fm(e,t,n){var r=t,i=nm("where",e);return new hm(i,r,n)}var dm=function(e){y(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return v(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ks(_s.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ks(_s.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new el(t,n);return function(e,t){if(null===ul(e)){var n=ll(e);null!==n&&gm(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new _p(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new il(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(lm);function pm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=nm("orderBy",e);return new dm(r,n)}function mm(e,t,n){if("string"==typeof(n=Ot(n))){if(""===n)throw new ks(_s.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cl(t)&&-1!==n.indexOf("/"))throw new ks(_s.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ls.fromString(n));if(!Fs.isDocumentKey(r))throw new ks(_s.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Iu(e,new Fs(r))}if(n instanceof yp)return Iu(e,n._key);throw new ks(_s.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(pp(n),"."))}function vm(e,t){if(!Array.isArray(e)||0===e.length)throw new ks(_s.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new ks(_s.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function gm(e,t,n){if(!n.isEqual(t))throw new ks(_s.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var ym=function(){function e(){p(this,e)}return v(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(wu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vs()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Zs(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Ap(cu(e.latitude),cu(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=du(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(pu(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=lu(e);return new Ps(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ls.fromString(e);gs(th(n));var r=new vu(n.get(1),n.get(3)),i=new Fs(n.popFirst(5));return r.isEqual(t)||ds("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function _m(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var km=function(e){y(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new jp(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new yp(this.firestore,null,t)}}]),n}(ym);function wm(e){e=mp(e,_p);var t=mp(e.firestore,Sp),n=Ep(t),r=new km(t);return um(e._query),lp(n,e._query).then((function(n){return new om(t,r,e,n)}))}function bm(e,t,n){e=mp(e,yp);for(var r=mp(e.firestore,Sp),i=Up(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Sm(r,[("string"==typeof(t=Ot(t))||t instanceof Ip?Gp(i,"updateDoc",e._key,t,n,o):zp(i,"updateDoc",e._key,t)).toMutation(e._key,Ul.exists(!0))])}function xm(e,t){var n=mp(e.firestore,Sp),r=bp(e),i=_m(e.converter,t);return Sm(n,[Fp(Up(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ul.exists(!1))]).then((function(){return r}))}function Cm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ot(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Cp(n[u])||(s=n[u],u++);var l,c,h,f={includeMetadataChanges:s.includeMetadataChanges};if(Cp(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof yp)c=mp(e.firestore,Sp),h=ol(e._key.path),l={next:function(t){n[u]&&n[u](Em(c,e,t))},error:n[u+1],complete:n[u+2]};else{var p=mp(e,_p);c=mp(p.firestore,Sp),h=p._query;var m=new km(c);l={next:function(e){n[u]&&n[u](new om(c,m,p,e))},error:n[u+1],complete:n[u+2]},um(e._query)}return function(e,t,n,r){var i=new $d(r),a=new cd(t,i,n);return e.asyncQueue.enqueueAndForget(Je(He().mark((function t(){return He().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rd,t.next=3,sp(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(Je(He().mark((function t(){return He().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ad,t.next=3,sp(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Ep(c),h,f,l)}function Sm(e,t){return function(e,t){var n=new ws;return e.asyncQueue.enqueueAndForget(Je(He().mark((function r(){return He().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=xd,r.next=3,op(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Ep(e),t)}function Em(e,t,n){var r=n.docs.get(t._key),i=new km(e);return new im(e,i,t._key,r,new rm(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ls="9.9.3",En(new Ut("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Sp(i,new Cs(e.getProvider("auth-internal")),new Is(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Pn(ss,"3.4.14",e),Pn(ss,"3.4.14","esm2017")}();Pn("firebase","9.9.3","app");var Tm="@firebase/database",Im="0.13.5",jm="";var Nm=function(){function e(t){p(this,e),this.domStorage_=t,this.prefix_="firebase:"}return v(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),xt(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:bt(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Am=function(){function e(){p(this,e),this.cache_={},this.isInMemoryStorage=!0}return v(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return St(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Dm=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Nm(t)}}catch(n){}return new Am},Pm=Dm("localStorage"),Rm=Dm("sessionStorage"),Mm=new Qt("@firebase/database"),Lm=function(){var e=1;return function(){return e++}}(),Om=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,tt(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Dt;n.update(t);var r=n.digest();return it.encodeByteArray(r)},Um=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?xt(r):r,t+=" "}return t},Fm=null,Bm=!0,Vm=function(e,t){tt(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Mm.logLevel=zt.VERBOSE,Fm=Mm.log.bind(Mm),t&&Rm.set("logging_enabled",!0)):"function"===typeof e?Fm=e:(Fm=null,Rm.remove("logging_enabled"))},zm=function(){if(!0===Bm&&(Bm=!1,null===Fm&&!0===Rm.get("logging_enabled")&&Vm(!0)),Fm){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Um.apply(null,t);Fm(r)}},Gm=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];zm.apply(void 0,[e].concat(n))}},qm=function(){var e="FIREBASE INTERNAL ERROR: "+Um.apply(void 0,arguments);Mm.error(e)},Wm=function(){var e="FIREBASE FATAL ERROR: ".concat(Um.apply(void 0,arguments));throw Mm.error(e),new Error(e)},Hm=function(){var e="FIREBASE WARNING: "+Um.apply(void 0,arguments);Mm.warn(e)},Km=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Jm="[MIN_NAME]",Qm="[MAX_NAME]",$m=function(e,t){if(e===t)return 0;if(e===Jm||t===Qm)return-1;if(t===Jm||e===Qm)return 1;var n=ov(e),r=ov(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Ym=function(e,t){return e===t?0:e<t?-1:1},Xm=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+xt(t))},Zm=function e(t){if("object"!==typeof t||null===t)return xt(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=xt(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},ev=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function tv(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var nv=function(e){tt(!Km(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var rv=new RegExp("^-?(0*)\\d{1,10}$"),iv=-2147483648,av=2147483647,ov=function(e){if(rv.test(e)){var t=Number(e);if(t>=iv&&t<=av)return t}return null},sv=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw Hm("Exception was thrown by user callback.",e),t}),Math.floor(0))}},uv=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},lv=function(){function e(t,n){var r=this;p(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return v(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Hm('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),cv=function(){function e(t,n,r){var i=this;p(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return v(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(zm("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Hm(e)}}]),e}(),hv=function(){function e(t){p(this,e),this.accessToken=t}return v(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();hv.OWNER="owner";var fv="5",dv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pv="websocket",mv="long_polling",vv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];p(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pm.get("host:"+t)||this._host}return v(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Pm.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function gv(e,t,n){var r;if(tt("string"===typeof t,"typeof type must == string"),tt("object"===typeof n,"typeof params must == object"),t===pv)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==mv)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return tv(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var yv=function(){function e(){p(this,e),this.counters_={}}return v(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;St(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return ut(this.counters_)}}]),e}(),_v={},kv={};function wv(e){var t=e.toString();return _v[t]||(_v[t]=new yv),_v[t]}var bv=function(){function e(t){p(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return v(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&sv((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),xv="start",Cv="close",Sv=function(){function e(t,n,r,i,a,o,s){var u=this;p(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gm(t),this.stats_=wv(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),gv(n,mv,e)}}return v(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new bv(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(mt()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ev((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===xv)n.id=a,n.password=o;else{if(i!==Cv)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=fv,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&dv.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=xt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=at(t),r=ev(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!mt()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=xt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!mt()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Ev=function(){function e(t,n,r,i){if(p(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,mt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Lm(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){zm("frame writing exception"),s.stack&&zm(s.stack),zm(s)}}}return v(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;mt()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){zm("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||zm("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Tv=null;"undefined"!==typeof MozWebSocket?Tv=MozWebSocket:"undefined"!==typeof WebSocket&&(Tv=WebSocket);var Iv=function(){function e(t,n,r,i,a,o,s){p(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gm(this.connId),this.stats_=wv(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return v(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pm.set("previous_websocket_failure",!0);try{var r;if(mt()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(fv,"/").concat(jm,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/incommon",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Tv(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Pm.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=bt(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(tt(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=xt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=ev(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=fv,!mt()&&"undefined"!==typeof location&&location.hostname&&dv.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),gv(e,pv,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Tv&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Pm.isInMemoryStorage||!0===Pm.get("previous_websocket_failure")}}]),e}();Iv.responsesRequiredToBeHealthy=2,Iv.healthyTimeout=3e4;var jv=function(){function e(t){p(this,e),this.initTransports_(t)}return v(e,[{key:"initTransports_",value:function(t){var n=Iv&&Iv.isAvailable(),r=n&&!Iv.previouslyFailed();if(t.webSocketOnly&&(n||Hm("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Iv];else{var i,a=this.transports_=[],o=T(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Sv,Iv]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();jv.globalTransportInitialized_=!1;var Nv=function(){function e(t,n,r,i,a,o,s,u,l,c){p(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gm("c:"+this.id+":"),this.transportManager_=new jv(n),this.log_("Connection created"),this.start_()}return v(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=uv((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Xm("t",e),n=Xm("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Xm("t",e),n=Xm("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Xm("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?qm("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qm("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),fv!==n&&Hm("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),uv((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):uv((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Av=function(){function e(){p(this,e)}return v(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Dv=function(){function e(t){p(this,e),this.allowedEvents_=t,this.listeners_={},tt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return v(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=d(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){tt(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Pv=function(e){y(n,e);var t=C(n);function n(){var e;return p(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||ft()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return v(n,[{key:"getInitialEvent",value:function(e){return tt("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Dv),Rv=function(){function e(t,n){if(p(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return v(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Mv(){return new Rv("")}function Lv(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ov(e){return e.pieces_.length-e.pieceNum_}function Uv(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Rv(e.pieces_,t)}function Fv(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Bv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Vv(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Rv(t,0)}function zv(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Rv)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Rv(n,0)}function Gv(e){return e.pieceNum_>=e.pieces_.length}function qv(e,t){var n=Lv(e),r=Lv(t);if(null===n)return t;if(n===r)return qv(Uv(e),Uv(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Wv(e,t){if(Ov(e)!==Ov(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Hv(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ov(e)>Ov(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Kv=v((function e(t,n){p(this,e),this.errorPrefix_=n,this.parts_=Bv(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Rt(this.parts_[r]);Jv(this)}));function Jv(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Qv(e))}function Qv(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var $v=function(e){y(n,e);var t=C(n);function n(){var e,r,i;return p(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return v(n,[{key:"getInitialEvent",value:function(e){return tt("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Dv),Yv=1e3,Xv=function(e){y(n,e);var t=C(n);function n(e,r,i,a,o,s,u,l){var c;if(p(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=o,c.authTokenProvider_=s,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=n.nextPersistentConnectionId_++,c.log_=Gm("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Yv,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!mt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return $v.getInstance().on("visible",c.onVisible_,b(c)),-1===e.host.indexOf("fblocal")&&Pv.getInstance().on("online",c.onOnline_,b(c)),c}return v(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(xt(i)),tt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new ct,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),tt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),tt(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Ct(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Ct(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),tt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+xt(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):qm("Unrecognized action received from server: "+xt(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;tt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yv,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Yv,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Yv),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Je(He().mark((function e(){var t,r,i,a,o,s,l,c,h,f,d,p,m,v,g=this;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,l=null,c=function(){l?l.close():(s=!0,i())},h=function(e){tt(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)},this.realtime_={close:c,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:d=e.sent,p=u(d,2),m=p[0],v=p[1],s?zm("getToken() completed but was canceled"):(zm("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=v&&v.token,l=new Nv(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){Hm(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&Hm(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){zm("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){zm("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Tt(this.interruptReasons_)&&(this.reconnectDelay_=Yv,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Zm(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Rv(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){zm("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){zm("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=T(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=T(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";mt()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+jm.replace(/\./g,"-")]=1,ft()?e["framework.cordova"]=1:pt()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Pv.getInstance().currentlyOnline();return Tt(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&St(e,"w")){var n=Et(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Hm("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Av);Xv.nextPersistentConnectionId_=0,Xv.nextConnectionId_=0;var Zv,eg=function(){function e(t,n){p(this,e),this.name=t,this.node=n}return v(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),tg=function(){function e(){p(this,e)}return v(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new eg(Jm,e),r=new eg(Jm,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return eg.MIN}}]),e}(),ng=function(e){y(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n,[{key:"compare",value:function(e,t){return $m(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw nt("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return eg.MIN}},{key:"maxPost",value:function(){return new eg(Qm,Zv)}},{key:"makePost",value:function(e,t){return tt("string"===typeof e,"KeyIndex indexValue must always be a string."),new eg(e,Zv)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Zv},set:function(e){Zv=e}}]),n}(tg),rg=new ng,ig=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;p(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return v(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),ag=function(){function e(t,n,r,i,a){p(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:ug.EMPTY_NODE,this.right=null!=a?a:ug.EMPTY_NODE}return v(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return ug.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ug.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();ag.RED=!0,ag.BLACK=!1;var og,sg=function(){function e(){p(this,e)}return v(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ag(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),ug=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;p(this,e),this.comparator_=t,this.root_=n}return v(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ag.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ag.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new ig(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new ig(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new ig(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new ig(this.root_,null,this.comparator_,!0,e)}}]),e}();function lg(e,t){return $m(e.name,t.name)}function cg(e,t){return $m(e,t)}ug.EMPTY_NODE=new sg;var hg,fg,dg,pg=function(e){return"number"===typeof e?"number:"+nv(e):"string:"+e},mg=function(e){if(e.isLeafNode()){var t=e.val();tt("string"===typeof t||"number"===typeof t||"object"===typeof t&&St(t,".sv"),"Priority must be a string or number.")}else tt(e===og||e.isEmpty(),"priority of unexpected type.");tt(e===og||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},vg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;p(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,tt(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),mg(this.priorityNode_)}return v(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Gv(t)?this:".priority"===Lv(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Lv(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(tt(".priority"!==r||1===Ov(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Uv(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+pg(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?nv(this.value_):this.value_,this.lazyHash_=Om(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(tt(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return tt(i>=0,"Unknown leaf type: "+n),tt(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return hg},set:function(e){hg=e}}]),e}();vg.VALUE_TYPE_ORDER=["object","boolean","number","string"];var gg,yg,_g=function(e){y(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?$m(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return eg.MIN}},{key:"maxPost",value:function(){return new eg(Qm,new vg("[PRIORITY-POST]",dg))}},{key:"makePost",value:function(e,t){var n=fg(e);return new eg(t,new vg("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(tg),kg=new _g,wg=Math.log(2),bg=function(){function e(t){p(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/wg,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return v(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),xg=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new ag(o,a.node,ag.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return a=e[u],o=n?n(a):a,new ag(o,a.node,ag.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var l=i(a+1,s),c=e[a],h=n?n(c):c;u(new ag(h,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),h=Math.pow(2,t.count-(l+1));c?s(h,ag.BLACK):(s(h,ag.BLACK),s(h,ag.RED))}return a}(new bg(e.length));return new ug(r||t,a)},Cg={},Sg=function(){function e(t,n){p(this,e),this.indexes_=t,this.indexSet_=n}return v(e,[{key:"get",value:function(e){var t=Et(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ug?t:null}},{key:"hasIndex",value:function(e){return St(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){tt(t!==rg,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(eg.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?xg(i,t.getCompare()):Cg;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this,i=It(this.indexes_,(function(e,i){var a=Et(r.indexSet_,i);if(tt(a,"Missing index implementation for "+i),e===Cg){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(eg.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),xg(o,a.getCompare())}return Cg}var l=n.get(t.name),c=e;return l&&(c=c.remove(new eg(t.name,l))),c.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(It(this.indexes_,(function(e){if(e===Cg)return e;var r=n.get(t.name);return r?e.remove(new eg(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return tt(Cg&&kg,"ChildrenNode.ts has not been loaded"),gg=gg||new e({".priority":Cg},{".priority":kg})}}]),e}(),Eg=function(){function e(t,n,r){p(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&mg(this.priorityNode_),this.children_.isEmpty()&&tt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return v(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||yg}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?yg:t}},{key:"getChild",value:function(e){var t=Lv(e);return null===t?this:this.getImmediateChild(t).getChild(Uv(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(tt(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new eg(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?yg:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Lv(e);if(null===n)return t;tt(".priority"!==Lv(e)||1===Ov(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Uv(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(kg,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+pg(this.getPriority().val())+":"),this.forEachChild(kg,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Om(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new eg(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new eg(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new eg(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,eg.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,eg.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Tg?-1:0}},{key:"withIndex",value:function(t){if(t===rg||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===rg||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(kg),r=t.getIterator(kg),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===rg?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return yg||(yg=new e(new ug(cg),null,Sg.Default))}}]),e}();Eg.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Tg=new(function(e){y(n,e);var t=C(n);function n(){return p(this,n),t.call(this,new ug(cg),Eg.EMPTY_NODE,Sg.Default)}return v(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Eg.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Eg));Object.defineProperties(eg,{MIN:{value:new eg(Jm,Eg.EMPTY_NODE)},MAX:{value:new eg(Qm,Tg)}}),ng.__EMPTY_NODE=Eg.EMPTY_NODE,vg.__childrenNodeConstructor=Eg,og=Tg,function(e){dg=e}(Tg);function Ig(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Eg.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),tt(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new vg(n,Ig(t))}if(e instanceof Array){var r=Eg.EMPTY_NODE;return tv(e,(function(t,n){if(St(e,t)&&"."!==t.substring(0,1)){var i=Ig(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(Ig(t))}var i=[],a=!1,o=e;if(tv(o,(function(e,t){if("."!==e.substring(0,1)){var n=Ig(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new eg(e,n)))}})),0===i.length)return Eg.EMPTY_NODE;var s=xg(i,lg,(function(e){return e.name}),cg);if(a){var u=xg(i,kg.getCompare());return new Eg(s,Ig(t),new Sg({".priority":u},{".priority":kg}))}return new Eg(s,Ig(t),Sg.Default)}!function(e){fg=e}(Ig);var jg=function(e){y(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this)).indexPath_=e,tt(!Gv(e)&&".priority"!==Lv(e),"Can't create PathIndex with empty path or .priority key"),r}return v(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?$m(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Ig(e),r=Eg.EMPTY_NODE.updateChild(this.indexPath_,n);return new eg(t,r)}},{key:"maxPost",value:function(){var e=Eg.EMPTY_NODE.updateChild(this.indexPath_,Tg);return new eg(Qm,e)}},{key:"toString",value:function(){return Bv(this.indexPath_,0).join("/")}}]),n}(tg),Ng=function(e){y(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?$m(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return eg.MIN}},{key:"maxPost",value:function(){return eg.MAX}},{key:"makePost",value:function(e,t){var n=Ig(e);return new eg(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(tg),Ag=new Ng,Dg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function Pg(e){return{type:"value",snapshotNode:e}}function Rg(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Mg(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Lg(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Og=function(){function e(){p(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kg}return v(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return tt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return tt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jm}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return tt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return tt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qm}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return tt(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===kg}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Ug(e){var t,n={};return e.isDefault()||(e.index_===kg?t="$priority":e.index_===Ag?t="$value":e.index_===rg?t="$key":(tt(e.index_ instanceof jg,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=xt(t),e.startSet_&&(n.startAt=xt(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+xt(e.indexStartName_))),e.endSet_&&(n.endAt=xt(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+xt(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Fg(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==kg&&(t.i=e.index_.toString()),t}var Bg=function(e){y(n,e);var t=C(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Gm("p:rest:"),o.listens_={},o}return v(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var l=Ug(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Et(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Ug(e._queryParams),r=e._path.toString(),i=new ct;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=u(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var l=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+At(n);t.log_("Sending REST request for "+l);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=bt(c.responseText)}catch(n){Hm("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&Hm("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(tt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Av),Vg=function(){function e(){p(this,e),this.rootNode_=Eg.EMPTY_NODE}return v(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function zg(){return{value:null,children:new Map}}function Gg(e,t,n){if(Gv(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Lv(t);e.children.has(r)||e.children.set(r,zg()),Gg(e.children.get(r),t=Uv(t),n)}}function qg(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){qg(r,new Rv(t.toString()+"/"+e),n)}))}var Wg,Hg=function(){function e(t){p(this,e),this.collection_=t,this.last_=null}return v(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&tv(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Kg=function(){function e(t,n){p(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Hg(t);var r=1e4+2e4*Math.random();uv(this.reportStats_.bind(this),Math.floor(r))}return v(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;tv(t,(function(t,i){i>0&&St(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),uv(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Jg(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Wg||(Wg={}));var Qg,$g=function(){function e(t,n,r){p(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Wg.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return v(e,[{key:"operationForChild",value:function(t){if(Gv(this.path)){if(null!=this.affectedTree.value)return tt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Rv(t));return new e(Mv(),n,this.revert)}return tt(Lv(this.path)===t,"operationForChild called for unrelated child."),new e(Uv(this.path),this.affectedTree,this.revert)}}]),e}(),Yg=function(){function e(t,n,r){p(this,e),this.source=t,this.path=n,this.snap=r,this.type=Wg.OVERWRITE}return v(e,[{key:"operationForChild",value:function(t){return Gv(this.path)?new e(this.source,Mv(),this.snap.getImmediateChild(t)):new e(this.source,Uv(this.path),this.snap)}}]),e}(),Xg=function(){function e(t,n,r){p(this,e),this.source=t,this.path=n,this.children=r,this.type=Wg.MERGE}return v(e,[{key:"operationForChild",value:function(t){if(Gv(this.path)){var n=this.children.subtree(new Rv(t));return n.isEmpty()?null:n.value?new Yg(this.source,Mv(),n.value):new e(this.source,Mv(),n)}return tt(Lv(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Uv(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Zg=function(){function e(t,n,r){p(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return v(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Gv(e))return this.isFullyInitialized()&&!this.filtered_;var t=Lv(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function ey(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw nt("Should only compare child_ events.");var r=new eg(t.childName,t.snapshotNode),i=new eg(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function ty(e,t){return{eventCache:e,serverCache:t}}function ny(e,t,n,r){return ty(new Zg(t,n,r),e.serverCache)}function ry(e,t,n,r){return ty(e.eventCache,new Zg(t,n,r))}function iy(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ay(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var oy=function(){return Qg||(Qg=new ug(Ym)),Qg},sy=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oy();p(this,e),this.value=t,this.children=n}return v(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Mv(),value:this.value};if(Gv(e))return null;var n=Lv(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Uv(e),t);return null!=i?{path:zv(new Rv(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Gv(t))return this;var n=Lv(t),r=this.children.get(n);return null!==r?r.subtree(Uv(t)):new e(null)}},{key:"set",value:function(t,n){if(Gv(t))return new e(n,this.children);var r=Lv(t),i=(this.children.get(r)||new e(null)).set(Uv(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Gv(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Lv(t),r=this.children.get(n);if(r){var i,a=r.remove(Uv(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Gv(e))return this.value;var t=Lv(e),n=this.children.get(t);return n?n.get(Uv(e)):null}},{key:"setTree",value:function(t,n){if(Gv(t))return n;var r,i=Lv(t),a=(this.children.get(i)||new e(null)).setTree(Uv(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Mv(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(zv(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Mv(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Gv(e))return null;var i=Lv(e),a=this.children.get(i);return a?a.findOnPath_(Uv(e),zv(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Mv(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Gv(t))return this;this.value&&r(n,this.value);var i=Lv(t),a=this.children.get(i);return a?a.foreachOnPath_(Uv(t),zv(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Mv(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(zv(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return tv(t,(function(e,t){n=n.set(new Rv(e),t)})),n}}]),e}(),uy=function(){function e(t){p(this,e),this.writeTree_=t}return v(e,null,[{key:"empty",value:function(){return new e(new sy(null))}}]),e}();function ly(e,t,n){if(Gv(t))return new uy(new sy(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=qv(i,t);return a=a.updateChild(o,n),new uy(e.writeTree_.set(i,a))}var s=new sy(n),u=e.writeTree_.setTree(t,s);return new uy(u)}function cy(e,t,n){var r=e;return tv(n,(function(e,n){r=ly(r,zv(t,e),n)})),r}function hy(e,t){if(Gv(t))return uy.empty();var n=e.writeTree_.setTree(t,new sy(null));return new uy(n)}function fy(e,t){return null!=dy(e,t)}function dy(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(qv(n.path,t)):null}function py(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(kg,(function(e,n){t.push(new eg(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new eg(e,n.value))})),t}function my(e,t){if(Gv(t))return e;var n=dy(e,t);return new uy(null!=n?new sy(n):e.writeTree_.subtree(t))}function vy(e){return e.writeTree_.isEmpty()}function gy(e,t){return yy(Mv(),e.writeTree_,t)}function yy(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(tt(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=yy(zv(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(zv(e,".priority"),r)),n}function _y(e,t){return Py(t,e)}function ky(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function wy(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));tt(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&by(s,r.path)?i=!1:Hv(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Cy(e.allWrites,xy,Mv()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=hy(e.visibleWrites,r.path):tv(r.children,(function(t){e.visibleWrites=hy(e.visibleWrites,zv(r.path,t))}));return!0}return!1}function by(e,t){if(e.snap)return Hv(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Hv(zv(e.path,n),t))return!0;return!1}function xy(e){return e.visible}function Cy(e,t,n){for(var r=uy.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)Hv(n,o)?r=ly(r,s=qv(n,o),a.snap):Hv(o,n)&&(s=qv(o,n),r=ly(r,Mv(),a.snap.getChild(s)));else{if(!a.children)throw nt("WriteRecord should have .snap or .children");if(Hv(n,o))r=cy(r,s=qv(n,o),a.children);else if(Hv(o,n))if(Gv(s=qv(o,n)))r=cy(r,Mv(),a.children);else{var u=Et(a.children,Lv(s));if(u){var l=u.getChild(Uv(s));r=ly(r,Mv(),l)}}}}}return r}function Sy(e,t,n,r,i){if(r||i){var a=my(e.visibleWrites,t);if(!i&&vy(a))return n;if(i||null!=n||fy(a,Mv())){return gy(Cy(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Hv(e.path,t)||Hv(t,e.path))}),t),n||Eg.EMPTY_NODE)}return null}var o=dy(e.visibleWrites,t);if(null!=o)return o;var s=my(e.visibleWrites,t);return vy(s)?n:null!=n||fy(s,Mv())?gy(s,n||Eg.EMPTY_NODE):null}function Ey(e,t,n,r){return Sy(e.writeTree,e.treePath,t,n,r)}function Ty(e,t){return function(e,t,n){var r=Eg.EMPTY_NODE,i=dy(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(kg,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=my(e.visibleWrites,t);return n.forEachChild(kg,(function(e,t){var n=gy(my(a,new Rv(e)),t);r=r.updateImmediateChild(e,n)})),py(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return py(my(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Iy(e,t,n,r){return function(e,t,n,r,i){tt(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=zv(t,n);if(fy(e.visibleWrites,a))return null;var o=my(e.visibleWrites,a);return vy(o)?i.getChild(n):gy(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function jy(e,t){return function(e,t){return dy(e.visibleWrites,t)}(e.writeTree,zv(e.treePath,t))}function Ny(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=my(e.visibleWrites,t),l=dy(u,Mv());if(null!=l)s=l;else{if(null==n)return[];s=gy(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],h=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=f.getNext();d&&c.length<i;)0!==h(d,r)&&c.push(d),d=f.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function Ay(e,t,n){return function(e,t,n,r){var i=zv(t,n),a=dy(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?gy(my(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Dy(e,t){return Py(zv(e.treePath,t),e.writeTree)}function Py(e,t){return{treePath:e,writeTree:t}}var Ry=function(){function e(){p(this,e),this.changeMap=new Map}return v(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;tt("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),tt(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Lg(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Mg(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Rg(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw nt("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Lg(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),My=new(function(){function e(){p(this,e)}return v(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Ly=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;p(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return v(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Zg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ay(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ay(this.viewCache_),i=Ny(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Oy(e,t,n,r,i){var a,o,s=new Ry;if(n.type===Wg.OVERWRITE){var u=n;u.source.fromUser?a=By(e,t,u.path,u.snap,r,i,s):(tt(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Gv(u.path),a=Fy(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Wg.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var l=zv(n,r);Vy(t,Lv(l))&&(s=By(e,s,l,u,i,a,o))})),r.foreach((function(r,u){var l=zv(n,r);Vy(t,Lv(l))||(s=By(e,s,l,u,i,a,o))})),s}(e,t,l.path,l.children,r,i,s):(tt(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=Gy(e,t,l.path,l.children,r,i,o,s))}else if(n.type===Wg.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=jy(r,n))return t;var s,u=new Ly(r,t,i),l=t.eventCache.getNode();if(Gv(n)||".priority"===Lv(n)){var c;if(t.serverCache.isFullyInitialized())c=Ey(r,ay(t));else{var h=t.serverCache.getNode();tt(h instanceof Eg,"serverChildren would be complete if leaf node"),c=Ty(r,h)}s=e.filter.updateFullNode(l,c,a)}else{var f=Lv(n),d=Ay(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=l.getImmediateChild(f)),(s=null!=d?e.filter.updateChild(l,f,d,Uv(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(l,f,Eg.EMPTY_NODE,Uv(n),u,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Ey(r,ay(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=jy(r,Mv()),ny(t,s,o,e.filter.filtersNodes())}(e,t,c.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=jy(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Gv(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Fy(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Gv(n)){var l=new sy(null);return u.getNode().forEachChild(rg,(function(e,t){l=l.set(new Rv(e),t)})),Gy(e,t,n,l,i,a,s,o)}return t}var c=new sy(null);return r.foreach((function(e,t){var r=zv(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),Gy(e,t,n,c,i,a,s,o)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==Wg.LISTEN_COMPLETE)throw nt("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=ry(t,a.getNode(),a.isFullyInitialized()||Gv(n),a.isFiltered());return Uy(e,o,n,r,My,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=iy(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Pg(iy(t)))}}(t,a,h),{viewCache:a,changes:h}}function Uy(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=jy(r,n))return t;if(Gv(n))if(tt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=ay(t),c=Ty(r,l instanceof Eg?l:Eg.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var h=Ey(r,ay(t));o=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=Lv(n);if(".priority"===f){tt(1===Ov(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Iy(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var m,v=Uv(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var g=Iy(r,n,u.getNode(),s);m=null!=g?u.getNode().getImmediateChild(f).updateChild(v,g):u.getNode().getImmediateChild(f)}else m=Ay(r,f,t.serverCache);o=null!=m?e.filter.updateChild(u.getNode(),f,m,v,i,a):u.getNode()}}return ny(t,o,u.isFullyInitialized()||Gv(n),e.filter.filtersNodes())}function Fy(e,t,n,r,i,a,o,s){var u,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(Gv(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{var f=Lv(n);if(!l.isCompleteForPath(n)&&Ov(n)>1)return t;var d=Uv(n),p=l.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),f,p,d,My,null)}var m=ry(t,u,l.isFullyInitialized()||Gv(n),c.filtersNodes());return Uy(e,m,n,i,new Ly(i,m,a),s)}function By(e,t,n,r,i,a,o){var s,u,l=t.eventCache,c=new Ly(i,t,a);if(Gv(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=ny(t,u,!0,e.filter.filtersNodes());else{var h=Lv(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=ny(t,u,l.isFullyInitialized(),l.isFiltered());else{var f,d=Uv(n),p=l.getNode().getImmediateChild(h);if(Gv(d))f=r;else{var m=c.getCompleteChild(h);f=null!=m?".priority"===Fv(d)&&m.getChild(Vv(d)).isEmpty()?m:m.updateChild(d,r):Eg.EMPTY_NODE}if(p.equals(f))s=t;else s=ny(t,e.filter.updateChild(l.getNode(),h,f,d,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Vy(e,t){return e.eventCache.isCompleteForChild(t)}function zy(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Gy(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=Gv(n)?r:new sy(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=zy(0,t.serverCache.getNode().getImmediateChild(n),r);l=Fy(e,l,new Rv(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!u){var h=zy(0,t.serverCache.getNode().getImmediateChild(n),r);l=Fy(e,l,new Rv(n),h,i,a,o,s)}})),l}var qy;function Wy(e,t){var n=ay(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Gv(t)&&!n.getImmediateChild(Lv(t)).isEmpty())?n.getChild(t):null}function Hy(e,t,n,r){t.type===Wg.MERGE&&null!==t.source.queryId&&(tt(ay(e.viewCache_),"We should always have a full cache before handling merges"),tt(iy(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Oy(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,tt(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),tt(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),tt(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Ky(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Ky(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),ey(e,i,"child_removed",t,r,n),ey(e,i,"child_added",t,r,n),ey(e,i,"child_moved",a,r,n),ey(e,i,"child_changed",t,r,n),ey(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Jy;function Qy(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return tt(null!=a,"SyncTree gave us an op for an invalid query."),Hy(a,t,n,r)}var o,s=[],u=T(e.views.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s=s.concat(Hy(l,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return s}function $y(e,t){var n,r=null,i=T(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Wy(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var Yy=v((function e(t){p(this,e),this.listenProvider_=t,this.syncPointTree_=new sy(null),this.pendingWriteTree_={visibleWrites:uy.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Xy(e,t,n,r,i){return function(e,t,n,r,i){tt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ly(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?r_(e,new Yg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Zy(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ky(e.pendingWriteTree_,t),i=wy(e.pendingWriteTree_,t);if(i){var a=new sy(null);return null!=r.snap?a=a.set(Mv(),!0):tv(r.children,(function(e){a=a.set(new Rv(e),!0)})),r_(e,new $g(r.path,a,n))}return[]}function e_(e,t,n){return r_(e,new Yg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function t_(e,t,n,r){var i=o_(e,r);if(null!=i){var a=s_(i),o=a.path,s=a.queryId,u=qv(o,t);return u_(e,o,new Yg(Jg(s),u,n))}return[]}function n_(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=$y(n,qv(e,t));if(r)return r}));return Sy(r,t,i,n,!0)}function r_(e,t){return i_(t,e.syncPointTree_,null,_y(e.pendingWriteTree_,Mv()))}function i_(e,t,n,r){if(Gv(e.path))return a_(e,t,n,r);var i=t.get(Mv());null==n&&null!=i&&(n=$y(i,Mv()));var a=[],o=Lv(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var l=n?n.getImmediateChild(o):null,c=Dy(r,o);a=a.concat(i_(s,u,l,c))}return i&&(a=a.concat(Qy(i,e,r,n))),a}function a_(e,t,n,r){var i=t.get(Mv());null==n&&null!=i&&(n=$y(i,Mv()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Dy(r,t),u=e.operationForChild(t);u&&(a=a.concat(a_(u,i,o,s)))})),i&&(a=a.concat(Qy(i,e,r,n))),a}function o_(e,t){return e.tagToQueryMap.get(t)}function s_(e){var t=e.indexOf("$");return tt(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Rv(e.substr(0,t))}}function u_(e,t,n){var r=e.syncPointTree_.get(t);return tt(r,"Missing sync point for query tag that we're tracking"),Qy(r,n,_y(e.pendingWriteTree_,t),null)}var l_=function(){function e(t){p(this,e),this.node_=t}return v(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),c_=function(){function e(t,n){p(this,e),this.syncTree_=t,this.path_=n}return v(e,[{key:"getImmediateChild",value:function(t){var n=zv(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return n_(this.syncTree_,this.path_)}}]),e}(),h_=function(e,t,n){return e&&"object"===typeof e?(tt(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?f_(e[".sv"],t,n):"object"===typeof e[".sv"]?d_(e[".sv"],t):void tt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},f_=function(e,t,n){if("timestamp"===e)return n.timestamp;tt(!1,"Unexpected server value: "+e)},d_=function(e,t,n){e.hasOwnProperty("increment")||tt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&tt(!1,"Unexpected increment value: "+r);var i=t.node();if(tt(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},p_=function(e,t,n,r){return v_(t,new c_(n,e),r)},m_=function(e,t,n){return v_(e,new l_(t),n)};function v_(e,t,n){var r,i=e.getPriority().val(),a=h_(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=h_(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new vg(s,Ig(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new vg(a))),u.forEachChild(kg,(function(e,i){var a=v_(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var g_=v((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};p(this,e),this.name=t,this.parent=n,this.node=r}));function y_(e,t){for(var n=t instanceof Rv?t:new Rv(t),r=e,i=Lv(n);null!==i;){var a=Et(r.node.children,i)||{children:{},childCount:0};r=new g_(i,r,a),i=Lv(n=Uv(n))}return r}function __(e){return e.node.value}function k_(e,t){e.node.value=t,S_(e)}function w_(e){return e.node.childCount>0}function b_(e,t){tv(e.node.children,(function(n,r){t(new g_(n,e,r))}))}function x_(e,t,n,r){n&&!r&&t(e),b_(e,(function(e){x_(e,t,!0,r)})),n&&r&&t(e)}function C_(e){return new Rv(null===e.parent?e.name:C_(e.parent)+"/"+e.name)}function S_(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===__(e)&&!w_(e)}(n),i=St(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,S_(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,S_(e))}(e.parent,e.name,e)}var E_=/[\[\].#$\/\u0000-\u001F\u007F]/,T_=/[\[\].#$\u0000-\u001F\u007F]/,I_=10485760,j_=function(e){return"string"===typeof e&&0!==e.length&&!E_.test(e)},N_=function(e){return"string"===typeof e&&0!==e.length&&!T_.test(e)},A_=function e(t,n,r){var i=r instanceof Rv?new Kv(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Qv(i));if("function"===typeof n)throw new Error(t+"contains a function "+Qv(i)+" with contents = "+n.toString());if(Km(n))throw new Error(t+"contains "+n.toString()+" "+Qv(i));if("string"===typeof n&&n.length>I_/3&&Rt(n)>I_)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Qv(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(tv(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!j_(n)))throw new Error(t+" contains an invalid key ("+n+") "+Qv(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=Rt(u),Jv(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Rt(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Qv(i)+" in addition to actual children.")}},D_=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!j_(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),N_(e)}(n))throw new Error(Pt(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},P_=v((function e(){p(this,e),this.eventLists_=[],this.recursionDepth_=0}));function R_(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Wv(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function M_(e,t,n){R_(e,n),L_(e,(function(e){return Hv(e,t)||Hv(t,e)}))}function L_(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(O_(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function O_(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Fm&&zm("event: "+n.toString()),sv(r)}}}var U_="repo_interrupt",F_=function(){function e(t,n,r,i){p(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new P_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zg(),this.transactionQueueTree_=new g_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return v(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function B_(e,t,n){if(e.stats_=wv(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Bg(e.repoInfo_,(function(t,n,r,i){G_(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return q_(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Xv(e.repoInfo_,t,(function(t,n,r,i){G_(e,t,n,r,i)}),(function(t){q_(e,t)}),(function(t){!function(e,t){tv(t,(function(t,n){W_(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return kv[n]||(kv[n]=t()),kv[n]}(e.repoInfo_,(function(){return new Kg(e.stats_,e.server_)})),e.infoData_=new Vg,e.infoSyncTree_=new Yy({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=e_(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),W_(e,"connected",!1),e.serverSyncTree_=new Yy({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);M_(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function V_(e){var t=e.infoData_.getNode(new Rv(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function z_(e){return(t=(t={timestamp:V_(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function G_(e,t,n,r,i){e.dataUpdateCount++;var a=new Rv(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=It(n,(function(e){return Ig(e)}));o=function(e,t,n,r){var i=o_(e,r);if(i){var a=s_(i),o=a.path,s=a.queryId,u=qv(o,t),l=sy.fromObject(n);return u_(e,o,new Xg(Jg(s),u,l))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Ig(n);o=t_(e.serverSyncTree_,a,u,i)}else if(r){var l=It(n,(function(e){return Ig(e)}));o=function(e,t,n){var r=sy.fromObject(n);return r_(e,new Xg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=Ig(n);o=e_(e.serverSyncTree_,a,c)}var h=a;o.length>0&&(h=X_(e,a)),M_(e.eventQueue_,h,o)}function q_(e,t){W_(e,"connected",t),!1===t&&function(e){J_(e,"onDisconnectEvents");var t=z_(e),n=zg();qg(e.onDisconnect_,Mv(),(function(r,i){var a=p_(r,i,e.serverSyncTree_,t);Gg(n,r,a)}));var r=[];qg(n,Mv(),(function(t,n){r=r.concat(e_(e.serverSyncTree_,t,n));var i=rk(e,t);X_(e,i)})),e.onDisconnect_=zg(),M_(e.eventQueue_,Mv(),r)}(e)}function W_(e,t,n){var r=new Rv("/.info/"+t),i=Ig(n);e.infoData_.updateSnapshot(r,i);var a=e_(e.infoSyncTree_,r,i);M_(e.eventQueue_,r,a)}function H_(e){return e.nextWriteId_++}function K_(e){e.persistentConnection_&&e.persistentConnection_.interrupt(U_)}function J_(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];zm.apply(void 0,[t].concat(r))}function Q_(e,t,n){return n_(e.serverSyncTree_,t,n)||Eg.EMPTY_NODE}function $_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||nk(e,t),__(t)){var n=ek(e,t);tt(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&Y_(e,C_(t),n)}else w_(t)&&b_(t,(function(t){$_(e,t)}))}function Y_(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Q_(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];tt(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=qv(t,u.path);a=a.updateChild(l,u.currentOutputSnapshotRaw)}var c=a.val(!0),h=t;e.server_.put(h.toString(),c,(function(r){J_(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(Zy(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);nk(e,y_(e.transactionQueueTree_,t)),$_(e,e.transactionQueueTree_),M_(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)sv(a[u])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{Hm("transaction at "+h.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}X_(e,t)}}),o)}function X_(e,t){var n=Z_(e,t),r=C_(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],l=qv(n,u.path),c=!1,h=void 0;if(tt(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)c=!0,h=u.abortReason,i=i.concat(Zy(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)c=!0,h="maxretry",i=i.concat(Zy(e.serverSyncTree_,u.currentWriteId,!0));else{var f=Q_(e,u.path,o);u.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){A_("transaction failed: Data returned ",d,u.path);var p=Ig(d);"object"===typeof d&&null!=d&&St(d,".priority")||(p=p.updatePriority(f.getPriority()));var m=u.currentWriteId,v=z_(e),g=m_(p,f,v);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=g,u.currentWriteId=H_(e),o.splice(o.indexOf(m),1),i=(i=i.concat(Xy(e.serverSyncTree_,u.path,g,u.currentWriteId,u.applyLocally))).concat(Zy(e.serverSyncTree_,m,!0))}else c=!0,h="nodata",i=i.concat(Zy(e.serverSyncTree_,u.currentWriteId,!0))}M_(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===h?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(h),!1,null)}))))},u=0;u<t.length;u++)s(u);nk(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)sv(r[l]);$_(e,e.transactionQueueTree_)}(e,ek(e,n),r),r}function Z_(e,t){var n,r=e.transactionQueueTree_;for(n=Lv(t);null!==n&&void 0===__(r);)r=y_(r,n),n=Lv(t=Uv(t));return r}function ek(e,t){var n=[];return tk(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function tk(e,t,n){var r=__(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);b_(t,(function(t){tk(e,t,n)}))}function nk(e,t){var n=__(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,k_(t,n.length>0?n:void 0)}b_(t,(function(t){nk(e,t)}))}function rk(e,t){var n=C_(Z_(e,t)),r=y_(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){ik(e,t)})),ik(e,r),x_(r,(function(t){ik(e,t)})),n}function ik(e,t){var n=__(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(tt(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(tt(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Zy(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?k_(t,void 0):n.length=a+1,M_(e.eventQueue_,C_(t),i);for(var s=0;s<r.length;s++)sv(r[s])}}var ak=function(e,t){var n=ok(e),r=n.namespace;"firebase.com"===n.domain&&Wm(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Wm("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Hm("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new vv(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Rv(n.pathString)}},ok=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(c,h)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=T(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Hm("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(l=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;var d=t.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},sk=function(){function e(t,n,r,i){p(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return v(e,[{key:"key",get:function(){return Gv(this._path)?null:Fv(this._path)}},{key:"ref",get:function(){return new uk(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Fg(this._queryParams),t=Zm(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Fg(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Ot(t))instanceof e))return!1;var n=this._repo===t._repo,r=Wv(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var uk=function(e){y(n,e);var t=C(n);function n(e,r){return p(this,n),t.call(this,e,r,new Og,!1)}return v(n,[{key:"parent",get:function(){var e=Vv(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(sk);!function(e){tt(!qy,"__referenceConstructor has already been defined"),qy=e}(uk),function(e){tt(!Jy,"__referenceConstructor has already been defined"),Jy=e}(uk);var lk={},ck=!1;function hk(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Wm("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zm("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=ak(a,i),u=s.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"/incommon",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),l?(o=!0,a="http://".concat(l,"?ns=").concat(u.namespace),u=(s=ak(a,i)).repoInfo):o=!s.repoInfo.secure;var c=i&&o?new hv(hv.OWNER):new cv(e.name,e.options,t);D_("Invalid Firebase Database URL",s),Gv(s.path)||Wm("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=lk[t.name];i||(i={},lk[t.name]=i);var a=i[e.toURLString()];a&&Wm("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new F_(e,ck,n,r),i[e.toURLString()]=a,a}(u,e,c,new lv(e.name,n));return new fk(h,e)}var fk=function(){function e(t,n){p(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return v(e,[{key:"_repo",get:function(){return this._instanceStarted||(B_(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new uk(this._repo,Mv())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=lk[t];n&&n[e.key]===e||Wm("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),K_(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Wm("Cannot call "+e+" on a deleted database.")}}]),e}();Xv.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Xv.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){jm=e}(An),En(new Ut("database",(function(e,t){var n=t.instanceIdentifier;return hk(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Pn(Tm,Im,e),Pn(Tm,Im,"esm2017")}();var dk,pk;var mk=new WeakMap,vk=new WeakMap,gk=new WeakMap,yk=new WeakMap,_k=new WeakMap;var kk={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return vk.get(e);if("objectStoreNames"===t)return e.objectStoreNames||gk.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xk(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function wk(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(pk||(pk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ck(this),n),xk(mk.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xk(e.apply(Ck(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ck(this),t].concat(r));return gk.set(a,t.sort?t.sort():[t]),xk(a)}}function bk(e){return"function"===typeof e?wk(e):(e instanceof IDBTransaction&&function(e){if(!vk.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));vk.set(e,t)}}(e),t=e,(dk||(dk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,kk):e);var t}function xk(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(xk(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&mk.set(t,e)})).catch((function(){})),_k.set(t,e),t}(e);if(yk.has(e))return yk.get(e);var t=bk(e);return t!==e&&(yk.set(e,t),_k.set(t,e)),t}var Ck=function(e){return _k.get(e)};var Sk,Ek=["get","getKey","getAll","getAllKeys","count"],Tk=["put","add","delete","clear"],Ik=new Map;function jk(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ik.get(t))return Ik.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Tk.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ek.includes(n))){var a=function(){var e=Je(He().mark((function e(t){var a,o,s,u,l,c,h=arguments;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=h.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=h[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ik.set(t,a),a}}}!function(e){kk=e(kk)}((function(e){return Yt(Yt({},e),{},{get:function(t,n,r){return jk(t,n)||e.get(t,n,r)},has:function(t,n){return!!jk(t,n)||e.has(t,n)}})}));var Nk="@firebase/installations",Ak="0.5.12",Dk=1e4,Pk="w:".concat(Ak),Rk="FIS_v2",Mk=36e5,Lk=(Ye(Sk={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Ye(Sk,"not-registered","Firebase Installation is not registered."),Ye(Sk,"installation-not-found","Firebase Installation not found."),Ye(Sk,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),Ye(Sk,"app-offline","Could not process request. Application offline."),Ye(Sk,"delete-pending-registration","Can't delete installation while there is a pending registration request."),Sk),Ok=new _t("installations","Installations",Lk);function Uk(e){return e instanceof yt&&e.code.includes("request-failed")}function Fk(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Bk(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Vk(e,t){return zk.apply(this,arguments)}function zk(){return zk=Je(He().mark((function e(t,n){var r,i;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",Ok.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)}))),zk.apply(this,arguments)}function Gk(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function qk(e,t){var n=t.refreshToken,r=Gk(e);return r.append("Authorization",function(e){return"".concat(Rk," ").concat(e)}(n)),r}function Wk(e){return Hk.apply(this,arguments)}function Hk(){return Hk=Je(He().mark((function e(t){var n;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),Hk.apply(this,arguments)}function Kk(e,t){return Jk.apply(this,arguments)}function Jk(){return(Jk=Je(He().mark((function e(t,n){var r,i,a,o,s,u,l,c,h,f,d,p;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=Fk(r),s=Gk(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(l=e.sent)&&s.append("x-firebase-client",l);case 10:return c={fid:a,authVersion:Rk,appId:r.appId,sdkVersion:Pk},h={method:"POST",headers:s,body:JSON.stringify(c)},e.next=14,Wk((function(){return fetch(o,h)}));case 14:if(!(f=e.sent).ok){e.next=23;break}return e.next=18,f.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:Bk(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,Vk("Create Installation",f);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qk(e){return new Promise((function(t){setTimeout(t,e)}))}var $k=/^[cdef][\w-]{21}$/;function Yk(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return function(e){return btoa(String.fromCharCode.apply(String,d(e))).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return $k.test(t)?t:""}catch(n){return""}}function Xk(e){return"".concat(e.appName,"!").concat(e.appId)}var Zk=new Map;function ew(e,t){var n=Xk(e);tw(n,t),function(e,t){var n=rw();n&&n.postMessage({key:e,fid:t});iw()}(n,t)}function tw(e,t){var n=Zk.get(e);if(n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var nw=null;function rw(){return!nw&&"BroadcastChannel"in self&&((nw=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){tw(e.data.key,e.data.fid)}),nw}function iw(){0===Zk.size&&nw&&(nw.close(),nw=null)}var aw="firebase-installations-store",ow=null;function sw(){return ow||(ow=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=xk(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(xk(s.result),e.oldVersion,e.newVersion,xk(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(aw)}})),ow}function uw(e,t){return lw.apply(this,arguments)}function lw(){return lw=Je(He().mark((function e(t,n){var r,i,a,o,s;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xk(t),e.next=3,sw();case 3:return i=e.sent,a=i.transaction(aw,"readwrite"),o=a.objectStore(aw),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||ew(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),lw.apply(this,arguments)}function cw(e){return hw.apply(this,arguments)}function hw(){return hw=Je(He().mark((function e(t){var n,r,i;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xk(t),e.next=3,sw();case 3:return r=e.sent,i=r.transaction(aw,"readwrite"),e.next=7,i.objectStore(aw).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),hw.apply(this,arguments)}function fw(e,t){return dw.apply(this,arguments)}function dw(){return dw=Je(He().mark((function e(t,n){var r,i,a,o,s,u;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xk(t),e.next=3,sw();case 3:return i=e.sent,a=i.transaction(aw,"readwrite"),o=a.objectStore(aw),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||ew(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),dw.apply(this,arguments)}function pw(e){return mw.apply(this,arguments)}function mw(){return(mw=Je(He().mark((function e(t){var n,r;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fw(t.appConfig,(function(e){var r=vw(e),i=gw(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vw(e){return bw(e||{fid:Yk(),registrationStatus:0})}function gw(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Ok.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return yw.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:_w(e)}:{installationEntry:t}}function yw(){return(yw=Je(He().mark((function e(t,n){var r;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kk(t,n);case 3:return r=e.sent,e.abrupt("return",uw(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!Uk(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,cw(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,uw(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function _w(e){return kw.apply(this,arguments)}function kw(){return(kw=Je(He().mark((function e(t){var n,r,i,a;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ww(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,Qk(100);case 6:return e.next=8,ww(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,pw(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ww(e){return fw(e,(function(e){if(!e)throw Ok.create("installation-not-found");return bw(e)}))}function bw(e){return 1===(t=e).registrationStatus&&t.registrationTime+Dk<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function xw(e,t){return Cw.apply(this,arguments)}function Cw(){return(Cw=Je(He().mark((function e(t,n){var r,i,a,o,s,u,l,c,h,f,d;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=Sw(r,n),o=qk(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return l={installation:{sdkVersion:Pk,appId:r.appId}},c={method:"POST",headers:o,body:JSON.stringify(l)},e.next=13,Wk((function(){return fetch(a,c)}));case 13:if(!(h=e.sent).ok){e.next=22;break}return e.next=17,h.json();case 17:return f=e.sent,d=Bk(f),e.abrupt("return",d);case 22:return e.next=24,Vk("Generate Auth Token",h);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sw(e,t){var n=t.fid;return"".concat(Fk(e),"/").concat(n,"/authTokens:generate")}function Ew(e){return Tw.apply(this,arguments)}function Tw(){return Tw=Je(He().mark((function e(t){var n,r,i,a,o=arguments;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,fw(t.appConfig,(function(e){if(!Pw(e))throw Ok.create("not-registered");var i=e.authToken;if(!n&&Rw(i))return e;if(1===i.requestStatus)return r=Iw(t,n),e;if(!navigator.onLine)throw Ok.create("app-offline");var a=Mw(e);return r=Aw(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Tw.apply(this,arguments)}function Iw(e,t){return jw.apply(this,arguments)}function jw(){return(jw=Je(He().mark((function e(t,n){var r,i;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nw(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,Qk(100);case 6:return e.next=8,Nw(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",Ew(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nw(e){return fw(e,(function(e){if(!Pw(e))throw Ok.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+Dk<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function Aw(e,t){return Dw.apply(this,arguments)}function Dw(){return(Dw=Je(He().mark((function e(t,n){var r,i,a;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xw(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,uw(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!Uk(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,cw(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,uw(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Pw(e){return void 0!==e&&2===e.registrationStatus}function Rw(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Mk}(e)}function Mw(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Lw(){return(Lw=Je(He().mark((function e(t){var n,r,i,a;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,pw(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):Ew(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ow(){return Ow=Je(He().mark((function e(t){var n,r,i,a=arguments;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,Uw(r);case 4:return e.next=6,Ew(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),Ow.apply(this,arguments)}function Uw(e){return Fw.apply(this,arguments)}function Fw(){return(Fw=Je(He().mark((function e(t){var n,r;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pw(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bw(e){return Ok.create("missing-app-config-values",{valueName:e})}var Vw,zw="installations",Gw=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Bw("App Configuration");if(!e.name)throw Bw("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Bw(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Tn(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},qw=function(e){var t=Tn(e.getProvider("app").getImmediate(),zw).getImmediate(),n={getId:function(){return function(e){return Lw.apply(this,arguments)}(t)},getToken:function(e){return function(e){return Ow.apply(this,arguments)}(t,e)}};return n};En(new Ut(zw,Gw,"PUBLIC")),En(new Ut("installations-internal",qw,"PRIVATE")),Pn(Nk,Ak),Pn(Nk,Ak,"esm2017");var Ww="analytics",Hw=6e4,Kw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jw="https://www.googletagmanager.com/gtag/js",Qw=new Qt("@firebase/analytics");function $w(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function Yw(e,t){var n=document.createElement("script");n.src="".concat(Jw,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function Xw(e,t,n,r,i,a){return Zw.apply(this,arguments)}function Zw(){return Zw=Je(He().mark((function e(t,n,r,i,a,o){var s,u,l;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,$w(r);case 9:if(u=e.sent,l=u.find((function(e){return e.measurementId===a})),!l){e.next=14;break}return e.next=14,n[l.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),Qw.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),Zw.apply(this,arguments)}function eb(e,t,n,r,i){return tb.apply(this,arguments)}function tb(){return tb=Je(He().mark((function e(t,n,r,i,a){var o,s,u,l,c,h;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,$w(r);case 7:u=e.sent,l=T(s),e.prev=9,h=function(){var e=c.value,t=u.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},l.s();case 12:if((c=l.n()).done){e.next=18;break}if("break"!==h()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),l.e(e.t0);case 23:return e.prev=23,l.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),Qw.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),tb.apply(this,arguments)}function nb(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return i=Je(He().mark((function i(a,o,s){return He().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,eb(e,t,n,o,s);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,Xw(e,t,n,r,o,s);case 9:i.next=12;break;case 11:"consent"===a?e("consent","update",s):e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),Qw.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])}))),i.apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function rb(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(Jw))return r}return null}var ib=(Ye(Vw={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),Ye(Vw,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),Ye(Vw,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),Ye(Vw,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),Ye(Vw,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),Ye(Vw,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),Ye(Vw,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),Ye(Vw,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),Ye(Vw,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),Ye(Vw,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),Vw),ab=new _t("analytics","Analytics",ib),ob=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;p(this,e),this.throttleMetadata=t,this.intervalMillis=n}return v(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),sb=new ob;function ub(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function lb(e){return cb.apply(this,arguments)}function cb(){return cb=Je(He().mark((function e(t){var n,r,i,a,o,s,u,l;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:ub(i)},o=Kw.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:l=e.sent,(null===(n=l.error)||void 0===n?void 0:n.message)&&(u=l.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw ab.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),cb.apply(this,arguments)}function hb(e){return fb.apply(this,arguments)}function fb(){return fb=Je(He().mark((function e(t){var n,r,i,a,o,s,u,l,c=arguments;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:sb,r=c.length>2?c[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw ab.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw ab.create("no-api-key");case 9:return u=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new _b,setTimeout(Je(He().mark((function e(){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:Hw),e.abrupt("return",db({appId:a,apiKey:o,measurementId:s},u,l,n));case 13:case"end":return e.stop()}}),e)}))),fb.apply(this,arguments)}function db(e,t,n){return pb.apply(this,arguments)}function pb(){return pb=Je(He().mark((function e(t,n,r){var i,a,o,s,u,l,c,h,f,d,p,m=arguments;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=m.length>3&&void 0!==m[3]?m[3]:sb,l=t.appId,c=t.measurementId,e.prev=3,e.next=6,mb(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!c){e.next=13;break}return Qw.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===(s=e.t0)||void 0===s?void 0:s.message,"]")),e.abrupt("return",{appId:l,measurementId:c});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,lb(t);case 17:return h=e.sent,o.deleteThrottleMetadata(l),e.abrupt("return",h);case 22:if(e.prev=22,e.t1=e.catch(14),vb(f=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(l),!c){e.next=32;break}return Qw.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===f||void 0===f?void 0:f.message,"]")),e.abrupt("return",{appId:l,measurementId:c});case 32:throw e.t1;case 33:return d=503===Number(null===(u=null===f||void 0===f?void 0:f.customData)||void 0===u?void 0:u.httpStatus)?Lt(a,o.intervalMillis,30):Lt(a,o.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:a+1},o.setThrottleMetadata(l,p),Qw.debug("Calling attemptFetch again in ".concat(d," millis")),e.abrupt("return",db(t,p,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),pb.apply(this,arguments)}function mb(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(ab.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function vb(e){if(!(e instanceof yt)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var gb,yb,_b=function(){function e(){p(this,e),this.listeners=[]}return v(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function kb(){return(kb=Je(He().mark((function e(t,n,r,i,a){var o,s;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,s=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wb(e){yb=e}function bb(e){gb=e}function xb(){return Cb.apply(this,arguments)}function Cb(){return Cb=Je(He().mark((function e(){var t;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vt()){e.next=5;break}return Qw.warn(ab.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,gt();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),Qw.warn(ab.create("indexeddb-unavailable",{errorInfo:null===(t=e.t0)||void 0===t?void 0:t.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])}))),Cb.apply(this,arguments)}function Sb(){return Sb=Je(He().mark((function e(t,n,r,i,a,o,s){var l,c,h,f,d,p,m,v;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=hb(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Qw.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Qw.error(e)})),n.push(c),h=xb().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([c,h]);case 6:return f=e.sent,d=u(f,2),p=d[0],m=d[1],rb()||Yw(o,p.measurementId),yb&&(a("consent","default",yb),wb(void 0)),a("js",new Date),(v=null!==(l=null===s||void 0===s?void 0:s.config)&&void 0!==l?l:{}).origin="firebase",v.update=!0,null!=m&&(v.firebase_id=m),a("config",p.measurementId,v),gb&&(a("set",gb),bb(void 0)),e.abrupt("return",p.measurementId);case 20:case"end":return e.stop()}}),e)}))),Sb.apply(this,arguments)}var Eb,Tb,Ib=function(){function e(t){p(this,e),this.app=t}return v(e,[{key:"_delete",value:function(){return delete jb[this.app.options.appId],Promise.resolve()}}]),e}(),jb={},Nb=[],Ab={},Db="dataLayer",Pb="gtag",Rb=!1;function Mb(){var e=[];if(dt()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=ab.create("invalid-analytics-context",{errorInfo:t});Qw.warn(n.message)}}function Lb(e,t,n){Mb();var r=e.options.appId;if(!r)throw ab.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ab.create("no-api-key");Qw.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=jb[r])throw ab.create("already-exists",{id:r});if(!Rb){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Db);var i=nb(jb,Nb,Ab,Db,Pb),a=i.wrappedGtag,o=i.gtagCore;Tb=a,Eb=o,Rb=!0}return jb[r]=function(e,t,n,r,i,a,o){return Sb.apply(this,arguments)}(e,Nb,Ab,t,Eb,Db,n),new Ib(e)}function Ob(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Tn(e,Ww);if(n.isInitialized()){var r=n.getImmediate();if(jt(t,n.getOptions()))return r;throw ab.create("already-initialized")}var i=n.initialize({options:t});return i}function Ub(e,t,n,r){e=Ot(e),function(e,t,n,r,i){return kb.apply(this,arguments)}(Tb,jb[e.app.options.appId],t,n,r).catch((function(e){return Qw.error(e)}))}var Fb="@firebase/analytics",Bb="0.8.0";En(new Ut(Ww,(function(e,t){var n=t.options;return Lb(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),En(new Ut("analytics-internal",(function(e){try{var t=e.getProvider(Ww).getImmediate();return{logEvent:function(e,n,r){return Ub(t,e,n,r)}}}catch(n){throw ab.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),Pn(Fb,Bb),Pn(Fb,Bb,"esm2017");var Vb=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:wn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw jn.create("bad-app-name",{appName:String(i)});var a=xn.get(i);if(a){if(jt(e,a.options)&&jt(r,a.config))return a;throw jn.create("duplicate-app",{appName:i})}var o,s=new Gt(i),u=T(Cn.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s.addComponent(l)}}catch(h){u.e(h)}finally{u.f()}var c=new Nn(e,r,s);return xn.set(i,c),c}({apiKey:"AIzaSyBdLzhc6y-wl1WgUGZtLM-KwEVMJzGLXUg",authDomain:"incommon-5a80d.firebaseapp.com",projectId:"incommon-5a80d",storageBucket:"incommon-5a80d.appspot.com",messagingSenderId:"628109166184",appId:"1:628109166184:web:c32f3050c96227bcfb9ddd",measurementId:"G-1DGT55E1YT"}),zb=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn(),t=Tn(e=Ot(e),Ww);t.isInitialized()?t.getImmediate():Ob(e)}(Vb),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn();return Tn(e,"firestore").getImmediate()}()),Gb=JSON.parse('[{"name":"Dwayne Johnson","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/11/Dwayne_%22The_Rock%22_Johnson_Visits_the_Pentagon_%2841%29_%28cropped%29.jpg/220px-Dwayne_%22The_Rock%22_Johnson_Visits_the_Pentagon_%2841%29_%28cropped%29.jpg"},{"name":"Taylor Swift","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Taylor_Swift_at_the_2023_MTV_Video_Music_Awards_%283%29.png/220px-Taylor_Swift_at_the_2023_MTV_Video_Music_Awards_%283%29.png"},{"name":"Beyonc\xe9","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/Beyonc%C3%A9_-_Tottenham_Hotspur_Stadium_-_1st_June_2023_%2810_of_118%29_%2852946364598%29_%28best_crop%29.jpg/220px-Beyonc%C3%A9_-_Tottenham_Hotspur_Stadium_-_1st_June_2023_%2810_of_118%29_%2852946364598%29_%28best_crop%29.jpg"},{"name":"Leonardo DiCaprio","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Leonardo_Dicaprio_Cannes_2019.jpg/220px-Leonardo_Dicaprio_Cannes_2019.jpg"},{"name":"Kim Kardashian","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/Kim_Kardashian_West_2014.jpg/220px-Kim_Kardashian_West_2014.jpg"},{"name":"Oprah Winfrey","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/Pre_Inaugural_Reception_%2852639556983%29_%28cropped%29.jpg/220px-Pre_Inaugural_Reception_%2852639556983%29_%28cropped%29.jpg"},{"name":"Brad Pitt","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Brad_Pitt_2019_by_Glenn_Francis.jpg/220px-Brad_Pitt_2019_by_Glenn_Francis.jpg"},{"name":"Rihanna","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Rihanna_Fenty_2018.png/220px-Rihanna_Fenty_2018.png"},{"name":"Justin Bieber","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Justin_Bieber_in_2015.jpg/220px-Justin_Bieber_in_2015.jpg"},{"name":"Ellen DeGeneres","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/Ellen_DeGeneres_2011.jpg/220px-Ellen_DeGeneres_2011.jpg"},{"name":"Kanye West","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Kanye_West_at_the_2009_Tribeca_Film_Festival_%28crop_2%29.jpg/220px-Kanye_West_at_the_2009_Tribeca_Film_Festival_%28crop_2%29.jpg"},{"name":"Ariana Grande","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Ariana_Grande_during_The_Honeymoon_Tour_in_Jakarta_2015.jpg/220px-Ariana_Grande_during_The_Honeymoon_Tour_in_Jakarta_2015.jpg"},{"name":"Jennifer Lopez","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/210120-D-WD757-1975_%2850860511978%29_%28cropped%29.jpg/220px-210120-D-WD757-1975_%2850860511978%29_%28cropped%29.jpg"},{"name":"Lady Gaga","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0e/Lady_Gaga_at_Joe_Biden%27s_inauguration_%28cropped_5%29.jpg/220px-Lady_Gaga_at_Joe_Biden%27s_inauguration_%28cropped_5%29.jpg"},{"name":"Tom Hanks","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Tom_Hanks_TIFF_2019.jpg/220px-Tom_Hanks_TIFF_2019.jpg"},{"name":"Kylie Jenner","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/Kylie_Jenner_in_2021.jpg/220px-Kylie_Jenner_in_2021.jpg"},{"name":"Will Smith","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/TechCrunch_Disrupt_2019_%2848834434641%29_%28cropped%29.jpg/220px-TechCrunch_Disrupt_2019_%2848834434641%29_%28cropped%29.jpg"},{"name":"Angelina Jolie","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Angelina_Jolie_at_the_U.S._Department_of_State_in_Washington%2C_D.C._in_2022.jpg/220px-Angelina_Jolie_at_the_U.S._Department_of_State_in_Washington%2C_D.C._in_2022.jpg"},{"name":"Katy Perry","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Katy_Perry_for_Vogue_Magazine%2C_2023.png/220px-Katy_Perry_for_Vogue_Magazine%2C_2023.png"},{"name":"Chris Hemsworth","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Chris_Hemsworth_by_Gage_Skidmore_2_%28cropped%29.jpg/220px-Chris_Hemsworth_by_Gage_Skidmore_2_%28cropped%29.jpg"},{"name":"Robert Downey Jr.","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/94/Robert_Downey_Jr_2014_Comic_Con_%28cropped%29.jpg/220px-Robert_Downey_Jr_2014_Comic_Con_%28cropped%29.jpg"},{"name":"Scarlett Johansson","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Scarlett_Johansson_by_Gage_Skidmore_2_%28cropped%2C_2%29.jpg/220px-Scarlett_Johansson_by_Gage_Skidmore_2_%28cropped%2C_2%29.jpg"},{"name":"Jennifer Aniston","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/16/JenniferAnistonHWoFFeb2012.jpg/220px-JenniferAnistonHWoFFeb2012.jpg"},{"name":"Michael B. Jordan","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cd/2018-05-12-_Cannes-L%27acteur_Michael_B._Jordan-2721_%2842075892224%29.jpg/220px-2018-05-12-_Cannes-L%27acteur_Michael_B._Jordan-2721_%2842075892224%29.jpg"},{"name":"Selena Gomez","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Selena_Gomez_at_the_2024_Golden_Globes_%281%29.png/220px-Selena_Gomez_at_the_2024_Golden_Globes_%281%29.png"},{"name":"Cardi B","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Cardi_B_2021_02.jpg/220px-Cardi_B_2021_02.jpg"},{"name":"Billie Eilish","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/78/BillieEilishO2160622_%2811_of_45%29_%2852152972296%29_%28cropped_2%29.jpg/220px-BillieEilishO2160622_%2811_of_45%29_%2852152972296%29_%28cropped_2%29.jpg"},{"name":"Kevin Hart","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/Kevin_Hart_2014_%28cropped_2%29.jpg/220px-Kevin_Hart_2014_%28cropped_2%29.jpg"},{"name":"Sandra Bullock","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/Sandra_Bullock_in_July_2013.jpg/220px-Sandra_Bullock_in_July_2013.jpg"},{"name":"Mark Wahlberg","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/26/Mark_Wahlberg_2021.jpg/220px-Mark_Wahlberg_2021.jpg"},{"name":"Meryl Streep","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Meryl_Streep_December_2018_%28cropped%29.jpg/220px-Meryl_Streep_December_2018_%28cropped%29.jpg"},{"name":"Shawn Mendes","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/191125_Shawn_Mendes_at_the_2019_American_Music_Awards.png/220px-191125_Shawn_Mendes_at_the_2019_American_Music_Awards.png"},{"name":"Jimmy Fallon","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Jimmy_Fallon%2C_Montclair_Film_Festival%2C_2013.jpg/220px-Jimmy_Fallon%2C_Montclair_Film_Festival%2C_2013.jpg"},{"name":"Denzel Washington","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/Denzel_Washington_2018.jpg/220px-Denzel_Washington_2018.jpg"},{"name":"Jennifer Lawrence","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/54/Jennifer_Lawrence_in_2016.jpg/220px-Jennifer_Lawrence_in_2016.jpg"},{"name":"Adam Sandler","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/Adam_Sandler_Cannes_2017.jpg/220px-Adam_Sandler_Cannes_2017.jpg"},{"name":"Morgan Freeman","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/Morgan_Freeman_at_The_Pentagon_on_2_August_2023_-_230802-D-PM193-3363_%28cropped%29.jpg/220px-Morgan_Freeman_at_The_Pentagon_on_2_August_2023_-_230802-D-PM193-3363_%28cropped%29.jpg"},{"name":"Harry Styles","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/HarryStylesWembley170623_%2865_of_93%29_%2852982678051%29_%28cropped_2%29.jpg/220px-HarryStylesWembley170623_%2865_of_93%29_%2852982678051%29_%28cropped_2%29.jpg"},{"name":"Reese Witherspoon","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/Reese_Witherspoon_at_TIFF_2014.jpg/220px-Reese_Witherspoon_at_TIFF_2014.jpg"},{"name":"Lizzo","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Glasto2023_%28181_of_468%29_%2853009327490%29_%28cropped%29.jpg/220px-Glasto2023_%28181_of_468%29_%2853009327490%29_%28cropped%29.jpg"},{"name":"Margot Robbie","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/SYDNEY%2C_AUSTRALIA_-_JANUARY_23_Margot_Robbie_arrives_at_the_Australian_Premiere_of_%27I%2C_Tonya%27_on_January_23%2C_2018_in_Sydney%2C_Australia_%2828074883999%29_%28cropped%29.jpg/220px-thumbnail.jpg"},{"name":"Ryan Reynolds","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/Deadpool_2_Japan_Premiere_Red_Carpet_Ryan_Reynolds_%28cropped%29.jpg/220px-Deadpool_2_Japan_Premiere_Red_Carpet_Ryan_Reynolds_%28cropped%29.jpg"},{"name":"Gigi Hadid","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/Gigi_Hadid_Maybelline_Director_Cut_2_%28cropped%29.png/220px-Gigi_Hadid_Maybelline_Director_Cut_2_%28cropped%29.png"},{"name":"Stephen Curry","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Steph_Curry_P20230117AS-1347_%28cropped%29.jpg/220px-Steph_Curry_P20230117AS-1347_%28cropped%29.jpg"},{"name":"Gal Gadot","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Gal_Gadot_at_the_2018_Comic-Con_International_13_%28cropped%29.jpg/220px-Gal_Gadot_at_the_2018_Comic-Con_International_13_%28cropped%29.jpg"},{"name":"Tom Cruise","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Tom_Cruise_by_Gage_Skidmore_2.jpg/220px-Tom_Cruise_by_Gage_Skidmore_2.jpg"},{"name":"Johnny Depp","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Johnny_Depp_2020.jpg/220px-Johnny_Depp_2020.jpg"},{"name":"Bruno Mars","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b0/BrunoMars24KMagicWorldTourLive_%28cropped%29.jpg/220px-BrunoMars24KMagicWorldTourLive_%28cropped%29.jpg"},{"name":"Emma Stone","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Emma_Stone_%282018%29.jpg/220px-Emma_Stone_%282018%29.jpg"},{"name":"Blake Lively","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Blake_Lively_Cannes_2016_3.jpg/220px-Blake_Lively_Cannes_2016_3.jpg"},{"name":"Hugh Jackman","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/77/Logan_Japan_Premiere_Red_Carpet-_Hugh_Jackman_%2838445328406%29_%28rotated%29.jpg/220px-Logan_Japan_Premiere_Red_Carpet-_Hugh_Jackman_%2838445328406%29_%28rotated%29.jpg"},{"name":"Zac Efron","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7b/Zac_Efron_at_the_Baywatch_Red_Carpet_Premiere_Sydney_Australia.jpg/220px-Zac_Efron_at_the_Baywatch_Red_Carpet_Premiere_Sydney_Australia.jpg"},{"name":"Sofia Vergara","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/Sof%C3%ADa_Vergara_2019_by_Glenn_Francis.jpg/220px-Sof%C3%ADa_Vergara_2019_by_Glenn_Francis.jpg"},{"name":"Jason Momoa","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Jason_Momoa_%2843055621224%29_%28cropped%29.jpg/220px-Jason_Momoa_%2843055621224%29_%28cropped%29.jpg"},{"name":"Charlize Theron","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Charlize-theron-IMG_6045.jpg/220px-Charlize-theron-IMG_6045.jpg"},{"name":"The Weeknd","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/95/The_Weeknd_Cannes_2023.png/220px-The_Weeknd_Cannes_2023.png"},{"name":"Nicole Kidman","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Nicole_Kidman_2_%2829900987478%29.jpg/220px-Nicole_Kidman_2_%2829900987478%29.jpg"},{"name":"Ed Sheeran","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Ed_Sheeran-6886_%28cropped%29.jpg/220px-Ed_Sheeran-6886_%28cropped%29.jpg"},{"name":"Viola Davis","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/Viola_Davis_by_Gage_Skidmore.jpg/220px-Viola_Davis_by_Gage_Skidmore.jpg"},{"name":"Daniel Radcliffe","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a2/Daniel_Radcliffe_SDCC_2014.jpg/220px-Daniel_Radcliffe_SDCC_2014.jpg"},{"name":"Emma Watson","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7f/Emma_Watson_2013.jpg/220px-Emma_Watson_2013.jpg"},{"name":"George Clooney","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/George_Clooney_2016.jpg/220px-George_Clooney_2016.jpg"},{"name":"Halle Berry","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Halle_Berry_by_Gage_Skidmore_2.jpg/220px-Halle_Berry_by_Gage_Skidmore_2.jpg"},{"name":"Matt Damon","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f5/Matt_Damon%2C_Berlinale_2023_%28cropped%29.jpg/220px-Matt_Damon%2C_Berlinale_2023_%28cropped%29.jpg"},{"name":"Zendaya","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/28/Zendaya_-_2019_by_Glenn_Francis.jpg/220px-Zendaya_-_2019_by_Glenn_Francis.jpg"},{"name":"Cristiano Ronaldo","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d7/Cristiano_Ronaldo_playing_for_Al_Nassr_FC_against_Persepolis%2C_September_2023_%28cropped%29.jpg/220px-Cristiano_Ronaldo_playing_for_Al_Nassr_FC_against_Persepolis%2C_September_2023_%28cropped%29.jpg"},{"name":"Demi Lovato","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/17/Demi_Lovato_at_the_2023_MTV_Video_Music_Awards.jpg/220px-Demi_Lovato_at_the_2023_MTV_Video_Music_Awards.jpg"},{"name":"Elon Musk","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Elon_Musk_Colorado_2022_%28cropped2%29.jpg/220px-Elon_Musk_Colorado_2022_%28cropped2%29.jpg"},{"name":"James Corden","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/James_Corden_at_2015_PaleyFest_%28cropped%29.jpg/220px-James_Corden_at_2015_PaleyFest_%28cropped%29.jpg"},{"name":"John Legend","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/John_Legend_2019_by_Glenn_Francis_%28cropped%29.jpg/220px-John_Legend_2019_by_Glenn_Francis_%28cropped%29.jpg"},{"name":"Keanu Reeves","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Reuni%C3%A3o_com_o_ator_norte-americano_Keanu_Reeves_%2846806576944%29_%28cropped%29.jpg/220px-Reuni%C3%A3o_com_o_ator_norte-americano_Keanu_Reeves_%2846806576944%29_%28cropped%29.jpg"},{"name":"Miley Cyrus","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/52/Miley_Cyrus_Primavera19_-226_%2848986293772%29_%28cropped%29.jpg/220px-Miley_Cyrus_Primavera19_-226_%2848986293772%29_%28cropped%29.jpg"},{"name":"Naomi Osaka","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d6/NaomiOsaka-smile-2020_%28cropped_tight%29.png/220px-NaomiOsaka-smile-2020_%28cropped_tight%29.png"},{"name":"Serena Williams","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4b/Serena_Williams_at_2013_US_Open.jpg/220px-Serena_Williams_at_2013_US_Open.jpg"},{"name":"Trevor Noah","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/00/Trevor_Noah_June_2021_%28cropped%29_wider.png/220px-Trevor_Noah_June_2021_%28cropped%29_wider.png"},{"name":"Dave Chappelle","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/23/Dave_Chappelle_%2842791297960%29_%28cropped%29.jpg/220px-Dave_Chappelle_%2842791297960%29_%28cropped%29.jpg"},{"name":"Idris Elba","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/Idris_Elba-5272_%28cropped%29.jpg/220px-Idris_Elba-5272_%28cropped%29.jpg"},{"name":"Lionel Messi","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b4/Lionel-Messi-Argentina-2022-FIFA-World-Cup_%28cropped%29.jpg/220px-Lionel-Messi-Argentina-2022-FIFA-World-Cup_%28cropped%29.jpg"},{"name":"Matthew McConaughey","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/Matthew_McConaughey_2019_%2848648344772%29.jpg/220px-Matthew_McConaughey_2019_%2848648344772%29.jpg"},{"name":"Oscar Isaac","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Oscar_Isaac_by_Gage_Skidmore.jpg/220px-Oscar_Isaac_by_Gage_Skidmore.jpg"},{"name":"Samuel L. Jackson","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/SamuelLJackson.jpg/220px-SamuelLJackson.jpg"},{"name":"Seth Rogen","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/ee/Seth_Rogen_at_Collision_2019_-_SM0_1823_%2847106936404%29_%28cropped%29.jpg/220px-Seth_Rogen_at_Collision_2019_-_SM0_1823_%2847106936404%29_%28cropped%29.jpg"},{"name":"Simone Biles","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/74/Simone_Biles_Rio_2016e.jpg/220px-Simone_Biles_Rio_2016e.jpg"},{"name":"Tyler Perry","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/74/Tyler_Perry_Interview_2016.jpg/220px-Tyler_Perry_Interview_2016.jpg"},{"name":"Adele","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/52/Adele_for_Vogue_in_2021.png/220px-Adele_for_Vogue_in_2021.png"},{"name":"Amy Schumer","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Amy_Schumer_by_Mario_Santor.jpg/220px-Amy_Schumer_by_Mario_Santor.jpg"},{"name":"Brie Larson","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/Captain_Marvel_trailer_at_the_National_Air_and_Space_Museum_4_%28cropped%29.jpg/220px-Captain_Marvel_trailer_at_the_National_Air_and_Space_Museum_4_%28cropped%29.jpg"},{"name":"Camila Cabello","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0d/Camila_Cabello_Vogue_2.jpg/220px-Camila_Cabello_Vogue_2.jpg"},{"name":"Chadwick Boseman","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Chadwick_Boseman_by_Gage_Skidmore_July_2017_%28cropped%29.jpg/220px-Chadwick_Boseman_by_Gage_Skidmore_July_2017_%28cropped%29.jpg"},{"name":"Chris Pratt","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Chris_Pratt_2018.jpg/220px-Chris_Pratt_2018.jpg"},{"name":"Conan O\'Brien","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/59/Conan_O%27Brien_by_Gage_Skidmore_2.jpg/220px-Conan_O%27Brien_by_Gage_Skidmore_2.jpg"},{"name":"Dakota Johnson","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d7/Dakota_Johnson_Venice_2018_%28cropped%29.jpg/220px-Dakota_Johnson_Venice_2018_%28cropped%29.jpg"},{"name":"Emily Blunt","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/23/Emily_Blunt_SAG_Awards_2019.png/220px-Emily_Blunt_SAG_Awards_2019.png"},{"name":"Gordon Ramsay","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Gordon_Ramsay.jpg/220px-Gordon_Ramsay.jpg"},{"name":"J.K. Rowling","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/J._K._Rowling_2010.jpg/220px-J._K._Rowling_2010.jpg"},{"name":"Jake Gyllenhaal","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0e/Jake_Gyllenhaal_2019_by_Glenn_Francis.jpg/220px-Jake_Gyllenhaal_2019_by_Glenn_Francis.jpg"},{"name":"Jared Leto","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/77/Jared_Leto%2C_San_Diego_Comic_Con_2016_%282%29_%28cropped%29.jpg/220px-Jared_Leto%2C_San_Diego_Comic_Con_2016_%282%29_%28cropped%29.jpg"},{"name":"Jessica Chastain","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Jessica_Chastain_Cannes_2016_4_%28cropped%29.jpg/220px-Jessica_Chastain_Cannes_2016_4_%28cropped%29.jpg"},{"name":"JoJo Siwa","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/JoJo_Siwa_2_%28cropped%29.jpg/220px-JoJo_Siwa_2_%28cropped%29.jpg"},{"name":"John Krasinski","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/13/John_Krasinski_2018.png/220px-John_Krasinski_2018.png"},{"name":"Julia Roberts","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Julia_Roberts_2011_Shankbone_3.JPG/220px-Julia_Roberts_2011_Shankbone_3.JPG"},{"name":"LeBron James","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7a/LeBron_James_%2851959977144%29_%28cropped2%29.jpg/250px-LeBron_James_%2851959977144%29_%28cropped2%29.jpg"},{"name":"Lin-Manuel Miranda","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/Lin-Manuel_Miranda_%26_James_McAvoy_%2848383681926%29_%28cropped%29.jpg/220px-Lin-Manuel_Miranda_%26_James_McAvoy_%2848383681926%29_%28cropped%29.jpg"},{"name":"Michael Jordan","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ae/Michael_Jordan_in_2014.jpg/220px-Michael_Jordan_in_2014.jpg"}]'),qb=JSON.parse('[{"name":"Dwayne Johnson","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/11/Dwayne_%22The_Rock%22_Johnson_Visits_the_Pentagon_%2841%29_%28cropped%29.jpg/220px-Dwayne_%22The_Rock%22_Johnson_Visits_the_Pentagon_%2841%29_%28cropped%29.jpg"},{"name":"Leonardo DiCaprio","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Leonardo_Dicaprio_Cannes_2019.jpg/220px-Leonardo_Dicaprio_Cannes_2019.jpg"},{"name":"Brad Pitt","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Brad_Pitt_2019_by_Glenn_Francis.jpg/220px-Brad_Pitt_2019_by_Glenn_Francis.jpg"},{"name":"Tom Hanks","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Tom_Hanks_TIFF_2019.jpg/220px-Tom_Hanks_TIFF_2019.jpg"},{"name":"Angelina Jolie","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Angelina_Jolie_at_the_U.S._Department_of_State_in_Washington%2C_D.C._in_2022.jpg/220px-Angelina_Jolie_at_the_U.S._Department_of_State_in_Washington%2C_D.C._in_2022.jpg"},{"name":"Scarlett Johansson","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Scarlett_Johansson_by_Gage_Skidmore_2_%28cropped%2C_2%29.jpg/220px-Scarlett_Johansson_by_Gage_Skidmore_2_%28cropped%2C_2%29.jpg"},{"name":"Jennifer Aniston","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/16/JenniferAnistonHWoFFeb2012.jpg/220px-JenniferAnistonHWoFFeb2012.jpg"},{"name":"Michael B. Jordan","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cd/2018-05-12-_Cannes-L%27acteur_Michael_B._Jordan-2721_%2842075892224%29.jpg/220px-2018-05-12-_Cannes-L%27acteur_Michael_B._Jordan-2721_%2842075892224%29.jpg"},{"name":"Jennifer Lawrence","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/54/Jennifer_Lawrence_in_2016.jpg/220px-Jennifer_Lawrence_in_2016.jpg"},{"name":"Adam Sandler","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/Adam_Sandler_Cannes_2017.jpg/220px-Adam_Sandler_Cannes_2017.jpg"},{"name":"Morgan Freeman","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/Morgan_Freeman_at_The_Pentagon_on_2_August_2023_-_230802-D-PM193-3363_%28cropped%29.jpg/220px-Morgan_Freeman_at_The_Pentagon_on_2_August_2023_-_230802-D-PM193-3363_%28cropped%29.jpg"},{"name":"Reese Witherspoon","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/Reese_Witherspoon_at_TIFF_2014.jpg/220px-Reese_Witherspoon_at_TIFF_2014.jpg"},{"name":"Margot Robbie","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/SYDNEY%2C_AUSTRALIA_-_JANUARY_23_Margot_Robbie_arrives_at_the_Australian_Premiere_of_%27I%2C_Tonya%27_on_January_23%2C_2018_in_Sydney%2C_Australia_%2828074883999%29_%28cropped%29.jpg/220px-thumbnail.jpg"},{"name":"Ryan Reynolds","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/Deadpool_2_Japan_Premiere_Red_Carpet_Ryan_Reynolds_%28cropped%29.jpg/220px-Deadpool_2_Japan_Premiere_Red_Carpet_Ryan_Reynolds_%28cropped%29.jpg"},{"name":"Gal Gadot","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Gal_Gadot_at_the_2018_Comic-Con_International_13_%28cropped%29.jpg/220px-Gal_Gadot_at_the_2018_Comic-Con_International_13_%28cropped%29.jpg"},{"name":"Tom Cruise","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Tom_Cruise_by_Gage_Skidmore_2.jpg/220px-Tom_Cruise_by_Gage_Skidmore_2.jpg"},{"name":"Johnny Depp","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Johnny_Depp_2020.jpg/220px-Johnny_Depp_2020.jpg"},{"name":"Emma Stone","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Emma_Stone_%282018%29.jpg/220px-Emma_Stone_%282018%29.jpg"},{"name":"Hugh Jackman","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/77/Logan_Japan_Premiere_Red_Carpet-_Hugh_Jackman_%2838445328406%29_%28rotated%29.jpg/220px-Logan_Japan_Premiere_Red_Carpet-_Hugh_Jackman_%2838445328406%29_%28rotated%29.jpg"},{"name":"Zac Efron","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7b/Zac_Efron_at_the_Baywatch_Red_Carpet_Premiere_Sydney_Australia.jpg/220px-Zac_Efron_at_the_Baywatch_Red_Carpet_Premiere_Sydney_Australia.jpg"},{"name":"Sofia Vergara","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/Sof%C3%ADa_Vergara_2019_by_Glenn_Francis.jpg/220px-Sof%C3%ADa_Vergara_2019_by_Glenn_Francis.jpg"},{"name":"Jason Momoa","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Jason_Momoa_%2843055621224%29_%28cropped%29.jpg/220px-Jason_Momoa_%2843055621224%29_%28cropped%29.jpg"},{"name":"Charlize Theron","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Charlize-theron-IMG_6045.jpg/220px-Charlize-theron-IMG_6045.jpg"},{"name":"Nicole Kidman","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Nicole_Kidman_2_%2829900987478%29.jpg/220px-Nicole_Kidman_2_%2829900987478%29.jpg"},{"name":"Viola Davis","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/Viola_Davis_by_Gage_Skidmore.jpg/220px-Viola_Davis_by_Gage_Skidmore.jpg"},{"name":"Daniel Radcliffe","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a2/Daniel_Radcliffe_SDCC_2014.jpg/220px-Daniel_Radcliffe_SDCC_2014.jpg"},{"name":"Emma Watson","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7f/Emma_Watson_2013.jpg/220px-Emma_Watson_2013.jpg"},{"name":"George Clooney","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/George_Clooney_2016.jpg/220px-George_Clooney_2016.jpg"},{"name":"Halle Berry","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Halle_Berry_by_Gage_Skidmore_2.jpg/220px-Halle_Berry_by_Gage_Skidmore_2.jpg"},{"name":"Matt Damon","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f5/Matt_Damon%2C_Berlinale_2023_%28cropped%29.jpg/220px-Matt_Damon%2C_Berlinale_2023_%28cropped%29.jpg"},{"name":"Zendaya","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/28/Zendaya_-_2019_by_Glenn_Francis.jpg/220px-Zendaya_-_2019_by_Glenn_Francis.jpg"},{"name":"Demi Lovato","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/17/Demi_Lovato_at_the_2023_MTV_Video_Music_Awards.jpg/220px-Demi_Lovato_at_the_2023_MTV_Video_Music_Awards.jpg"},{"name":"Keanu Reeves","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Reuni%C3%A3o_com_o_ator_norte-americano_Keanu_Reeves_%2846806576944%29_%28cropped%29.jpg/220px-Reuni%C3%A3o_com_o_ator_norte-americano_Keanu_Reeves_%2846806576944%29_%28cropped%29.jpg"},{"name":"Miley Cyrus","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/52/Miley_Cyrus_Primavera19_-226_%2848986293772%29_%28cropped%29.jpg/220px-Miley_Cyrus_Primavera19_-226_%2848986293772%29_%28cropped%29.jpg"},{"name":"Dave Chappelle","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/23/Dave_Chappelle_%2842791297960%29_%28cropped%29.jpg/220px-Dave_Chappelle_%2842791297960%29_%28cropped%29.jpg"},{"name":"Idris Elba","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/Idris_Elba-5272_%28cropped%29.jpg/220px-Idris_Elba-5272_%28cropped%29.jpg"},{"name":"Matthew McConaughey","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/Matthew_McConaughey_2019_%2848648344772%29.jpg/220px-Matthew_McConaughey_2019_%2848648344772%29.jpg"},{"name":"Oscar Isaac","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Oscar_Isaac_by_Gage_Skidmore.jpg/220px-Oscar_Isaac_by_Gage_Skidmore.jpg"},{"name":"Samuel L. Jackson","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/SamuelLJackson.jpg/220px-SamuelLJackson.jpg"},{"name":"Seth Rogen","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/ee/Seth_Rogen_at_Collision_2019_-_SM0_1823_%2847106936404%29_%28cropped%29.jpg/220px-Seth_Rogen_at_Collision_2019_-_SM0_1823_%2847106936404%29_%28cropped%29.jpg"},{"name":"Tyler Perry","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/74/Tyler_Perry_Interview_2016.jpg/220px-Tyler_Perry_Interview_2016.jpg"},{"name":"Amy Schumer","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Amy_Schumer_by_Mario_Santor.jpg/220px-Amy_Schumer_by_Mario_Santor.jpg"},{"name":"Brie Larson","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/Captain_Marvel_trailer_at_the_National_Air_and_Space_Museum_4_%28cropped%29.jpg/220px-Captain_Marvel_trailer_at_the_National_Air_and_Space_Museum_4_%28cropped%29.jpg"},{"name":"Chadwick Boseman","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Chadwick_Boseman_by_Gage_Skidmore_July_2017_%28cropped%29.jpg/220px-Chadwick_Boseman_by_Gage_Skidmore_July_2017_%28cropped%29.jpg"},{"name":"Chris Pratt","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Chris_Pratt_2018.jpg/220px-Chris_Pratt_2018.jpg"},{"name":"Dakota Johnson","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d7/Dakota_Johnson_Venice_2018_%28cropped%29.jpg/220px-Dakota_Johnson_Venice_2018_%28cropped%29.jpg"},{"name":"Emily Blunt","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/23/Emily_Blunt_SAG_Awards_2019.png/220px-Emily_Blunt_SAG_Awards_2019.png"},{"name":"Jake Gyllenhaal","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0e/Jake_Gyllenhaal_2019_by_Glenn_Francis.jpg/220px-Jake_Gyllenhaal_2019_by_Glenn_Francis.jpg"},{"name":"Jared Leto","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/77/Jared_Leto%2C_San_Diego_Comic_Con_2016_%282%29_%28cropped%29.jpg/220px-Jared_Leto%2C_San_Diego_Comic_Con_2016_%282%29_%28cropped%29.jpg"},{"name":"Jessica Chastain","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Jessica_Chastain_Cannes_2016_4_%28cropped%29.jpg/220px-Jessica_Chastain_Cannes_2016_4_%28cropped%29.jpg"},{"name":"John Krasinski","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/13/John_Krasinski_2018.png/220px-John_Krasinski_2018.png"},{"name":"Julia Roberts","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Julia_Roberts_2011_Shankbone_3.JPG/220px-Julia_Roberts_2011_Shankbone_3.JPG"},{"name":"Anne Hathaway","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/87/Anne_Hathaway-68408_%28cropped%29.jpg/220px-Anne_Hathaway-68408_%28cropped%29.jpg"},{"name":"Ryan Gosling","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/GoslingBFI081223_%2822_of_30%29_%2853388157347%29_%28cropped%29.jpg/220px-GoslingBFI081223_%2822_of_30%29_%2853388157347%29_%28cropped%29.jpg"},{"name":"Sandra Bullock","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/Sandra_Bullock_in_July_2013.jpg/220px-Sandra_Bullock_in_July_2013.jpg"},{"name":"Will Ferrell","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Will_Ferrell_2012.jpg/220px-Will_Ferrell_2012.jpg"},{"name":"Robert De Niro","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/25/Robert_De_Niro_Cannes_2016_2.jpg/220px-Robert_De_Niro_Cannes_2016_2.jpg"},{"name":"Al Pacino","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Al_Pacino_2016_%2830401544240%29.jpg/220px-Al_Pacino_2016_%2830401544240%29.jpg"},{"name":"Meryl Streep","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Meryl_Streep_December_2018_%28cropped%29.jpg/220px-Meryl_Streep_December_2018_%28cropped%29.jpg"},{"name":"Natalie Portman","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Natalie_Portman_%2848470988352%29_%28cropped%29.jpg/220px-Natalie_Portman_%2848470988352%29_%28cropped%29.jpg"},{"name":"Cate Blanchett","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Cate_Blanchett_Berlinale_2023_%28cropped%29.jpg/220px-Cate_Blanchett_Berlinale_2023_%28cropped%29.jpg"},{"name":"Christian Bale","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Christian_Bale-7837.jpg/220px-Christian_Bale-7837.jpg"},{"name":"Joaquin Phoenix","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Joaquin_Phoenix_in_2018.jpg/220px-Joaquin_Phoenix_in_2018.jpg"},{"name":"Russell Crowe","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Russell_Crowe_%2833994020424%29.jpg/220px-Russell_Crowe_%2833994020424%29.jpg"},{"name":"Kate Winslet","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/Kate_Winslet_at_the_2017_Toronto_International_Film_Festival_%28cropped%29.jpg/220px-Kate_Winslet_at_the_2017_Toronto_International_Film_Festival_%28cropped%29.jpg"},{"name":"Mark Wahlberg","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/26/Mark_Wahlberg_2021.jpg/220px-Mark_Wahlberg_2021.jpg"},{"name":"Hugh Grant","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Hugh_Grant_in_2014.jpg/220px-Hugh_Grant_in_2014.jpg"},{"name":"Cameron Diaz","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/81/Cameron_Diaz_WE_2012_Shankbone_4.JPG/220px-Cameron_Diaz_WE_2012_Shankbone_4.JPG"},{"name":"Jennifer Garner","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Jennifer_Garner_at_the_Fast_Company_Innovation_Festival_-_44972951114_%28cropped%29.jpg/220px-Jennifer_Garner_at_the_Fast_Company_Innovation_Festival_-_44972951114_%28cropped%29.jpg"},{"name":"Ben Affleck","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Ben_Affleck_by_Gage_Skidmore_3.jpg/220px-Ben_Affleck_by_Gage_Skidmore_3.jpg"},{"name":"Denzel Washington","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/Denzel_Washington_2018.jpg/220px-Denzel_Washington_2018.jpg"},{"name":"Eddie Murphy","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Eddie_Murphy_by_David_Shankbone.jpg/220px-Eddie_Murphy_by_David_Shankbone.jpg"},{"name":"Jim Carrey","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8b/Jim_Carrey_2008.jpg/220px-Jim_Carrey_2008.jpg"},{"name":"Steve Carell","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/96/Steve_Carell_November_2014.jpg/220px-Steve_Carell_November_2014.jpg"},{"name":"Julianne Moore","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/07/Julianne_Moore_%2815011443428%29_%282%29.jpg/220px-Julianne_Moore_%2815011443428%29_%282%29.jpg"},{"name":"Kevin Spacey","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/Kevin_Spacey%2C_May_2013_%28cropped%29.jpg/220px-Kevin_Spacey%2C_May_2013_%28cropped%29.jpg"},{"name":"Clint Eastwood","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Clint_Eastwood_at_2010_New_York_Film_Festival.jpg/220px-Clint_Eastwood_at_2010_New_York_Film_Festival.jpg"},{"name":"Harrison Ford","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/34/Harrison_Ford_by_Gage_Skidmore_3.jpg/220px-Harrison_Ford_by_Gage_Skidmore_3.jpg"},{"name":"Sigourney Weaver","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/Sigourney_Weaver_by_Gage_Skidmore_4.jpg/220px-Sigourney_Weaver_by_Gage_Skidmore_4.jpg"},{"name":"Jamie Foxx","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/TIFF_2019_jamie_foxx_%28cropped%29.jpg/220px-TIFF_2019_jamie_foxx_%28cropped%29.jpg"},{"name":"Bill Murray","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Bill_Murray-8882.jpg/220px-Bill_Murray-8882.jpg"},{"name":"Mel Gibson","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/95/Mel_Gibson_Cannes_2016_2.jpg/220px-Mel_Gibson_Cannes_2016_2.jpg"},{"name":"Bruce Willis","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Bruce_Willis_by_Gage_Skidmore_3.jpg/220px-Bruce_Willis_by_Gage_Skidmore_3.jpg"},{"name":"Sean Penn","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/Superpower_%282023%29-60523_%28cropped%29.jpg/220px-Superpower_%282023%29-60523_%28cropped%29.jpg"},{"name":"Winona Ryder","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/89/Winona_Ryder_2010_TIFF.jpg/220px-Winona_Ryder_2010_TIFF.jpg"},{"name":"Jack Nicholson","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Jack_Nicholson_2001.jpg/220px-Jack_Nicholson_2001.jpg"},{"name":"Robin Williams","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/59/Robin_Williams_Happy_Feet_premiere.jpg/220px-Robin_Williams_Happy_Feet_premiere.jpg"},{"name":"Sylvester Stallone","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/84/Sylvester_Stallone_Cannes_2019.jpg/220px-Sylvester_Stallone_Cannes_2019.jpg"},{"name":"Arnold Schwarzenegger","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/af/Arnold_Schwarzenegger_by_Gage_Skidmore_4.jpg/220px-Arnold_Schwarzenegger_by_Gage_Skidmore_4.jpg"},{"name":"Michelle Pfeiffer","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/19/Michelle_Pfeiffer_Ant-Man_%26_The_Wasp_premiere.jpg/220px-Michelle_Pfeiffer_Ant-Man_%26_The_Wasp_premiere.jpg"},{"name":"Diane Keaton","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/Diane_Keaton_2012-1_%28cropped%29.jpg/220px-Diane_Keaton_2012-1_%28cropped%29.jpg"},{"name":"Glenn Close","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Glenn_Close_-_Guardians_of_the_Galaxy_premiere_-_July_2014_%28cropped%29.jpg/220px-Glenn_Close_-_Guardians_of_the_Galaxy_premiere_-_July_2014_%28cropped%29.jpg"},{"name":"Annette Bening","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/67/AnnetteBeningSept2013TIFF.jpg/220px-AnnetteBeningSept2013TIFF.jpg"},{"name":"Jodie Foster","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Jodie_Foster_C%C3%A9sars_2011_2_%28cropped%29.jpg/220px-Jodie_Foster_C%C3%A9sars_2011_2_%28cropped%29.jpg"},{"name":"Kirsten Dunst","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d0/Kirsten_Dunst_Cannes_2016.jpg/220px-Kirsten_Dunst_Cannes_2016.jpg"},{"name":"Nicolas Cage","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Nicolas_Cage_2011_CC.jpg/220px-Nicolas_Cage_2011_CC.jpg"},{"name":"John Travolta","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/John_Travolta_Cannes_2018_%28cropped%29.jpg/220px-John_Travolta_Cannes_2018_%28cropped%29.jpg"},{"name":"Dustin Hoffman","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Dustin_Hoffman_Quartet_avp_2013_2.jpg/220px-Dustin_Hoffman_Quartet_avp_2013_2.jpg"},{"name":"Richard Gere","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/39/Richard_Gere%2C_December_2017.jpg/220px-Richard_Gere%2C_December_2017.jpg"},{"name":"Julia Louis-Dreyfus","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Julia_Louis-Dreyfus_2019_%28cropped%29.jpg/220px-Julia_Louis-Dreyfus_2019_%28cropped%29.jpg"},{"name":"Michael Douglas","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/Michael_Douglas_C%C3%A9sar_2016_3.jpg/220px-Michael_Douglas_C%C3%A9sar_2016_3.jpg"},{"name":"Goldie Hawn","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d8/Goldie_Hawn_at_TED_2008_cropped.jpg/220px-Goldie_Hawn_at_TED_2008_cropped.jpg"},{"name":"Sharon Stone","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Sharon_Stone_%2833374127422%29_%28cropped%29.jpg/220px-Sharon_Stone_%2833374127422%29_%28cropped%29.jpg"},{"name":"Danny DeVito","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Danny_DeVito_cropped_and_edited_for_brightness.jpg/220px-Danny_DeVito_cropped_and_edited_for_brightness.jpg"},{"name":"Steve Martin","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Steve_Martin%2C_2017-08-11_%28cropped%29.jpg/220px-Steve_Martin%2C_2017-08-11_%28cropped%29.jpg"},{"name":"Mickey Rourke","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/30/Mickey_Rourke_10_December_2010_%28cropped%29.jpeg/220px-Mickey_Rourke_10_December_2010_%28cropped%29.jpeg"},{"name":"Woody Harrelson","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Woody_Harrelson_191020-N-NU281-1028_%28cropped%29.jpg/220px-Woody_Harrelson_191020-N-NU281-1028_%28cropped%29.jpg"},{"name":"James Franco","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/James_Franco_4%2C_2013.jpg/220px-James_Franco_4%2C_2013.jpg"}]'),Wb=JSON.parse('[{"name":"Albert Einstein","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Einstein_1921_by_F_Schmutzer_-_restoration.jpg/220px-Einstein_1921_by_F_Schmutzer_-_restoration.jpg"},{"name":"Isaac Newton","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f7/Portrait_of_Sir_Isaac_Newton%2C_1689_%28brightened%29.jpg/220px-Portrait_of_Sir_Isaac_Newton%2C_1689_%28brightened%29.jpg"},{"name":"Leonardo da Vinci","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Francesco_Melzi_-_Portrait_of_Leonardo.png/220px-Francesco_Melzi_-_Portrait_of_Leonardo.png"},{"name":"Marie Curie","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c8/Marie_Curie_c._1920s.jpg/220px-Marie_Curie_c._1920s.jpg"},{"name":"William Shakespeare","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/William_Shakespeare_by_John_Taylor.jpg/220px-William_Shakespeare_by_John_Taylor.jpg"},{"name":"Mozart","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cc/Mozart_Portrait_Croce.jpg/220px-Mozart_Portrait_Croce.jpg"},{"name":"Ludwig van Beethoven","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/Joseph_Karl_Stieler%27s_Beethoven_mit_dem_Manuskript_der_Missa_solemnis.jpg/220px-Joseph_Karl_Stieler%27s_Beethoven_mit_dem_Manuskript_der_Missa_solemnis.jpg"},{"name":"Socrates","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Socrate_du_Louvre.jpg/220px-Socrate_du_Louvre.jpg"},{"name":"Julius Caesar","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/Retrato_de_Julio_C%C3%A9sar_%2826724093101%29_%28cropped%29.jpg/240px-Retrato_de_Julio_C%C3%A9sar_%2826724093101%29_%28cropped%29.jpg"},{"name":"Alexander the Great","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/84/Alexander_the_Great_mosaic_%28cropped%29.jpg/220px-Alexander_the_Great_mosaic_%28cropped%29.jpg"},{"name":"Napoleon Bonaparte","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/50/Jacques-Louis_David_-_The_Emperor_Napoleon_in_His_Study_at_the_Tuileries_-_Google_Art_Project.jpg/220px-Jacques-Louis_David_-_The_Emperor_Napoleon_in_His_Study_at_the_Tuileries_-_Google_Art_Project.jpg"},{"name":"Adolf Hitler","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/Hitler_portrait_crop.jpg/220px-Hitler_portrait_crop.jpg"},{"name":"Genghis Khan","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/35/YuanEmperorAlbumGenghisPortrait.jpg/220px-YuanEmperorAlbumGenghisPortrait.jpg"},{"name":"Cleopatra","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Kleopatra-VII.-Altes-Museum-Berlin1.jpg/220px-Kleopatra-VII.-Altes-Museum-Berlin1.jpg"},{"name":"Joan of Arc","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Joan_of_Arc_miniature_graded.jpg/220px-Joan_of_Arc_miniature_graded.jpg"},{"name":"Queen Elizabeth I","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/af/Darnley_stage_3.jpg/220px-Darnley_stage_3.jpg"},{"name":"Thomas Edison","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/Thomas_Edison2.jpg/220px-Thomas_Edison2.jpg"},{"name":"Galileo Galilei","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/Galileo_Galilei_%281564-1642%29_RMG_BHC2700.tiff/lossy-page1-220px-Galileo_Galilei_%281564-1642%29_RMG_BHC2700.tiff.jpg"},{"name":"Aristotle","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ae/Aristotle_Altemps_Inv8575.jpg/220px-Aristotle_Altemps_Inv8575.jpg"},{"name":"Plato","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Plato_Silanion_Musei_Capitolini_MC1377.jpg/220px-Plato_Silanion_Musei_Capitolini_MC1377.jpg"},{"name":"Gautama Buddha","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/f/ff/Buddha_in_Sarnath_Museum_%28Dhammajak_Mutra%29.jpg/220px-Buddha_in_Sarnath_Museum_%28Dhammajak_Mutra%29.jpg"},{"name":"Jesus Christ","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Spas_vsederzhitel_sinay.jpg/220px-Spas_vsederzhitel_sinay.jpg"},{"name":"Muhammad","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e4/Dark_vignette_Al-Masjid_AL-Nabawi_Door800x600x300.jpg/220px-Dark_vignette_Al-Masjid_AL-Nabawi_Door800x600x300.jpg"},{"name":"Confucius","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/54/Confucius_Tang_Dynasty.jpg/220px-Confucius_Tang_Dynasty.jpg"},{"name":"Martin Luther King Jr.","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Martin_Luther_King%2C_Jr..jpg/220px-Martin_Luther_King%2C_Jr..jpg"},{"name":"Nelson Mandela","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/Nelson_Mandela_1994.jpg/220px-Nelson_Mandela_1994.jpg"},{"name":"Winston Churchill","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Sir_Winston_Churchill_-_19086236948.jpg/220px-Sir_Winston_Churchill_-_19086236948.jpg"},{"name":"Mahatma Gandhi","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7a/Mahatma-Gandhi%2C_studio%2C_1931.jpg/220px-Mahatma-Gandhi%2C_studio%2C_1931.jpg"},{"name":"Mother Teresa","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d6/Mother_Teresa_1.jpg/220px-Mother_Teresa_1.jpg"},{"name":"Margaret Thatcher","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Margaret_Thatcher_stock_portrait_%28cropped%29.jpg/220px-Margaret_Thatcher_stock_portrait_%28cropped%29.jpg"},{"name":"Christopher Columbus","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Portrait_of_a_Man%2C_Said_to_be_Christopher_Columbus.jpg/220px-Portrait_of_a_Man%2C_Said_to_be_Christopher_Columbus.jpg"},{"name":"Marco Polo","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Marco_Polo_-_costume_tartare.jpg/220px-Marco_Polo_-_costume_tartare.jpg"},{"name":"Vasco da Gama","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Ignoto_portoghese%2C_ritratto_di_un_cavaliere_dell%27ordine_di_cristo%2C_1525-50_ca._02.jpg/220px-Ignoto_portoghese%2C_ritratto_di_un_cavaliere_dell%27ordine_di_cristo%2C_1525-50_ca._02.jpg"},{"name":"Neil Armstrong","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0d/Neil_Armstrong_pose.jpg/220px-Neil_Armstrong_pose.jpg"},{"name":"Yuri Gagarin","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/Yuri_Gagarin_%281961%29_-_Restoration.jpg/220px-Yuri_Gagarin_%281961%29_-_Restoration.jpg"},{"name":"Charles Darwin","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Charles_Darwin_seated_crop.jpg/220px-Charles_Darwin_seated_crop.jpg"},{"name":"Sigmund Freud","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Sigmund_Freud%2C_by_Max_Halberstadt_%28cropped%29.jpg/220px-Sigmund_Freud%2C_by_Max_Halberstadt_%28cropped%29.jpg"},{"name":"Karl Marx","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Karl_Marx_001.jpg/220px-Karl_Marx_001.jpg"},{"name":"Vladimir Lenin","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Lenin_in_1920_%28cropped%29.jpg/220px-Lenin_in_1920_%28cropped%29.jpg"},{"name":"Joseph Stalin","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/StalinCropped1943%28b%29.jpg/220px-StalinCropped1943%28b%29.jpg"},{"name":"Mao Zedong","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Mao_Zedong_in_1959_%28cropped%29.jpg/220px-Mao_Zedong_in_1959_%28cropped%29.jpg"},{"name":"Abraham Lincoln","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ab/Abraham_Lincoln_O-77_matte_collodion_print.jpg/220px-Abraham_Lincoln_O-77_matte_collodion_print.jpg"},{"name":"George Washington","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Gilbert_Stuart_Williamstown_Portrait_of_George_Washington.jpg/220px-Gilbert_Stuart_Williamstown_Portrait_of_George_Washington.jpg"},{"name":"John F. Kennedy","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/John_F._Kennedy%2C_White_House_color_photo_portrait.jpg/220px-John_F._Kennedy%2C_White_House_color_photo_portrait.jpg"},{"name":"Franklin D. Roosevelt","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/FDR_1944_Color_Portrait.jpg/220px-FDR_1944_Color_Portrait.jpg"},{"name":"Thomas Jefferson","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Official_Presidential_portrait_of_Thomas_Jefferson_%28by_Rembrandt_Peale%2C_1800%29%28cropped%29.jpg/220px-Official_Presidential_portrait_of_Thomas_Jefferson_%28by_Rembrandt_Peale%2C_1800%29%28cropped%29.jpg"},{"name":"Benjamin Franklin","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/87/Joseph_Siffrein_Duplessis_-_Benjamin_Franklin_-_Google_Art_Project.jpg/220px-Joseph_Siffrein_Duplessis_-_Benjamin_Franklin_-_Google_Art_Project.jpg"},{"name":"Alexander Graham Bell","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/10/Alexander_Graham_Bell.jpg/220px-Alexander_Graham_Bell.jpg"},{"name":"Nikola Tesla","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/79/Tesla_circa_1890.jpeg/220px-Tesla_circa_1890.jpeg"},{"name":"Steve Jobs","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/dc/Steve_Jobs_Headshot_2010-CROP_%28cropped_2%29.jpg/220px-Steve_Jobs_Headshot_2010-CROP_%28cropped_2%29.jpg"},{"name":"Bill Gates","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/Bill_Gates_-_2023_-_P062021-967902_%28cropped%29.jpg/220px-Bill_Gates_-_2023_-_P062021-967902_%28cropped%29.jpg"},{"name":"Henry Ford","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Henry_ford_1919.jpg/220px-Henry_ford_1919.jpg"},{"name":"Walt Disney","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/Walt_Disney_1946.JPG/220px-Walt_Disney_1946.JPG"},{"name":"Vincent van Gogh","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Vincent_van_Gogh_-_Self-Portrait_-_Google_Art_Project_%28454045%29.jpg/220px-Vincent_van_Gogh_-_Self-Portrait_-_Google_Art_Project_%28454045%29.jpg"},{"name":"Pablo Picasso","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/Portrait_de_Picasso%2C_1908.jpg/220px-Portrait_de_Picasso%2C_1908.jpg"},{"name":"Michelangelo","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/Michelangelo_Daniele_da_Volterra_%28dettaglio%29.jpg/220px-Michelangelo_Daniele_da_Volterra_%28dettaglio%29.jpg"},{"name":"Rembrandt","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bd/Rembrandt_van_Rijn_-_Self-Portrait_-_Google_Art_Project.jpg/220px-Rembrandt_van_Rijn_-_Self-Portrait_-_Google_Art_Project.jpg"},{"name":"Andy Warhol","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Andy_Warhol_at_the_Jewish_Museum_%28by_Bernard_Gotfryd%29_%E2%80%93_LOC.jpg/220px-Andy_Warhol_at_the_Jewish_Museum_%28by_Bernard_Gotfryd%29_%E2%80%93_LOC.jpg"},{"name":"Louis Armstrong","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0e/Louis_Armstrong_restored.jpg/257px-Louis_Armstrong_restored.jpg"},{"name":"Elvis Presley","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Elvis_Presley_promoting_Jailhouse_Rock.jpg/220px-Elvis_Presley_promoting_Jailhouse_Rock.jpg"},{"name":"Bob Dylan","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/Bob_Dylan_-_Azkena_Rock_Festival_2010_2.jpg/220px-Bob_Dylan_-_Azkena_Rock_Festival_2010_2.jpg"},{"name":"Michael Jackson","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Michael_Jackson_in_1988.jpg/220px-Michael_Jackson_in_1988.jpg"},{"name":"Madonna","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/78/MadonnaO2171023_%2897_of_133%29_%2853269593787%29_%28cropped%29.jpg/220px-MadonnaO2171023_%2897_of_133%29_%2853269593787%29_%28cropped%29.jpg"},{"name":"Frida Kahlo","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/06/Frida_Kahlo%2C_by_Guillermo_Kahlo.jpg/220px-Frida_Kahlo%2C_by_Guillermo_Kahlo.jpg"},{"name":"Jane Austen","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cc/CassandraAusten-JaneAusten%28c.1810%29_hires.jpg/200px-CassandraAusten-JaneAusten%28c.1810%29_hires.jpg"},{"name":"Charles Dickens","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/aa/Dickens_Gurney_head.jpg/220px-Dickens_Gurney_head.jpg"},{"name":"J.K. Rowling","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/J._K._Rowling_2010.jpg/220px-J._K._Rowling_2010.jpg"},{"name":"Stephen Hawking","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/Stephen_Hawking.StarChild.jpg/220px-Stephen_Hawking.StarChild.jpg"},{"name":"Homer","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1c/Homer_British_Museum.jpg/220px-Homer_British_Museum.jpg"},{"name":"Dante Alighieri","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Portrait_de_Dante.jpg/220px-Portrait_de_Dante.jpg"},{"name":"Leo Tolstoy","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/%D0%9B%D0%B5%D0%B2_%D0%A2%D0%BE%D0%BB%D1%81%D1%82%D0%BE%D0%B9_%28%D0%A7%D0%B5%D1%80%D1%82%D0%BA%D0%BE%D0%B2%2C_1910%29_-_0003600121.jpg/220px-%D0%9B%D0%B5%D0%B2_%D0%A2%D0%BE%D0%BB%D1%81%D1%82%D0%BE%D0%B9_%28%D0%A7%D0%B5%D1%80%D1%82%D0%BA%D0%BE%D0%B2%2C_1910%29_-_0003600121.jpg"},{"name":"Johann Sebastian Bach","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Johann_Sebastian_Bach.jpg/220px-Johann_Sebastian_Bach.jpg"},{"name":"Frederic Chopin","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Frederic_Chopin_photo.jpeg/220px-Frederic_Chopin_photo.jpeg"},{"name":"Albert Camus","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Albert_Camus%2C_gagnant_de_prix_Nobel%2C_portrait_en_buste%2C_pos%C3%A9_au_bureau%2C_faisant_face_%C3%A0_gauche%2C_cigarette_de_tabagisme.jpg/220px-Albert_Camus%2C_gagnant_de_prix_Nobel%2C_portrait_en_buste%2C_pos%C3%A9_au_bureau%2C_faisant_face_%C3%A0_gauche%2C_cigarette_de_tabagisme.jpg"},{"name":"Ernest Hemingway","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/28/ErnestHemingway.jpg/220px-ErnestHemingway.jpg"},{"name":"George Orwell","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/George_Orwell_press_photo.jpg/220px-George_Orwell_press_photo.jpg"},{"name":"Virginia Woolf","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/George_Charles_Beresford_-_Virginia_Woolf_in_1902_-_Restoration.jpg/220px-George_Charles_Beresford_-_Virginia_Woolf_in_1902_-_Restoration.jpg"},{"name":"Mark Twain","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Mark_Twain_by_AF_Bradley.jpg/220px-Mark_Twain_by_AF_Bradley.jpg"},{"name":"Oscar Wilde","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Oscar_Wilde_by_Napoleon_Sarony._Three-quarter-length_photograph%2C_seated.jpg/220px-Oscar_Wilde_by_Napoleon_Sarony._Three-quarter-length_photograph%2C_seated.jpg"},{"name":"Sigmund Freud","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Sigmund_Freud%2C_by_Max_Halberstadt_%28cropped%29.jpg/220px-Sigmund_Freud%2C_by_Max_Halberstadt_%28cropped%29.jpg"},{"name":"Carl Jung","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/ETH-BIB-Jung%2C_Carl_Gustav_%281875-1961%29-Portrait-Portr_14163_%28cropped%29.tif/lossy-page1-220px-ETH-BIB-Jung%2C_Carl_Gustav_%281875-1961%29-Portrait-Portr_14163_%28cropped%29.tif.jpg"},{"name":"Louis Pasteur","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Louis_Pasteur%2C_foto_av_Paul_Nadar%2C_Crisco_edit.jpg/220px-Louis_Pasteur%2C_foto_av_Paul_Nadar%2C_Crisco_edit.jpg"},{"name":"Gregor Mendel","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/ba/Gregor_Mendel_2.jpg/220px-Gregor_Mendel_2.jpg"},{"name":"Marie Antoinette","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/Marie-Antoinette%2C_1775_-_Mus%C3%A9e_Antoine_L%C3%A9cuyer.jpg/220px-Marie-Antoinette%2C_1775_-_Mus%C3%A9e_Antoine_L%C3%A9cuyer.jpg"},{"name":"Catherine the Great","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Catherine_II_by_J.B.Lampi_%281780s%2C_Kunsthistorisches_Museum%29.jpg/220px-Catherine_II_by_J.B.Lampi_%281780s%2C_Kunsthistorisches_Museum%29.jpg"},{"name":"Queen Victoria","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/Queen_Victoria_by_Bassano.jpg/220px-Queen_Victoria_by_Bassano.jpg"},{"name":"Anne Frank","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/75/Anne_Frank_passport_photo%2C_May_1942.jpg/220px-Anne_Frank_passport_photo%2C_May_1942.jpg"},{"name":"Rosa Parks","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Rosaparks.jpg/220px-Rosaparks.jpg"},{"name":"Amelia Earhart","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Amelia_Earhart_standing_under_nose_of_her_Lockheed_Model_10-E_Electra%2C_small.jpg/250px-Amelia_Earhart_standing_under_nose_of_her_Lockheed_Model_10-E_Electra%2C_small.jpg"},{"name":"Florence Nightingale","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ab/Florence_Nightingale_%28H_Hering_NPG_x82368%29.jpg/220px-Florence_Nightingale_%28H_Hering_NPG_x82368%29.jpg"},{"name":"Helen Keller","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Helen_Keller_circa_1920_-_restored.jpg/220px-Helen_Keller_circa_1920_-_restored.jpg"},{"name":"Eleanor Roosevelt","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Eleanor_Roosevelt_portrait_1933.jpg/220px-Eleanor_Roosevelt_portrait_1933.jpg"},{"name":"Coco Chanel","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Coco_Chanel_in_Los_Angeles%2C_1931_%28cropped%29.jpg/220px-Coco_Chanel_in_Los_Angeles%2C_1931_%28cropped%29.jpg"},{"name":"Malcolm X","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/69/Malcolm_X_NYWTS_2.jpg/220px-Malcolm_X_NYWTS_2.jpg"},{"name":"John Lennon","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/John_Lennon_1969_%28cropped%29.jpg/220px-John_Lennon_1969_%28cropped%29.jpg"},{"name":"Che Guevara","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/Che_Guevara_-_Guerrillero_Heroico_by_Alberto_Korda.jpg/220px-Che_Guevara_-_Guerrillero_Heroico_by_Alberto_Korda.jpg"},{"name":"Bruce Lee","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/Bruce_Lee_1973.jpg/220px-Bruce_Lee_1973.jpg"},{"name":"Marilyn Monroe","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Monroecirca1953.jpg/220px-Monroecirca1953.jpg"},{"name":"Charlie Chaplin","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/34/Charlie_Chaplin_portrait.jpg/220px-Charlie_Chaplin_portrait.jpg"},{"name":"Albert Schweitzer","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/58/Bundesarchiv_Bild_183-D0116-0041-019%2C_Albert_Schweitzer.jpg/220px-Bundesarchiv_Bild_183-D0116-0041-019%2C_Albert_Schweitzer.jpg"},{"name":"Fridtjof Nansen","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9b/Fridtjof_Nansen_LOC_03377u-3.jpg/220px-Fridtjof_Nansen_LOC_03377u-3.jpg"},{"name":"Alexander Fleming","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/Synthetic_Production_of_Penicillin_TR1468.jpg/220px-Synthetic_Production_of_Penicillin_TR1468.jpg"},{"name":"Enrico Fermi","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Enrico_Fermi_1943-49.jpg/220px-Enrico_Fermi_1943-49.jpg"},{"name":"Alan Turing","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/17/Alan_Turing_%281912-1954%29_in_1936_at_Princeton_University.jpg/220px-Alan_Turing_%281912-1954%29_in_1936_at_Princeton_University.jpg"},{"name":"Srinivasa Ramanujan","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Srinivasa_Ramanujan_-_OPC_-_2_%28cleaned%29.jpg/220px-Srinivasa_Ramanujan_-_OPC_-_2_%28cleaned%29.jpg"},{"name":"Leonhard Euler","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d7/Leonhard_Euler.jpg/220px-Leonhard_Euler.jpg"},{"name":"James Watt","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/Watt_James_von_Breda.jpg/220px-Watt_James_von_Breda.jpg"}]'),Hb=JSON.parse('[{"name":"African Elephant","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/African_Elephant_%28Loxodonta_africana%29_male_%2817289351322%29.jpg/220px-African_Elephant_%28Loxodonta_africana%29_male_%2817289351322%29.jpg"},{"name":"Bald Eagle","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/About_to_Launch_%2826075320352%29.jpg/220px-About_to_Launch_%2826075320352%29.jpg"},{"name":"Cheetah","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/TheCheethcat.jpg/220px-TheCheethcat.jpg"},{"name":"Emperor Penguin","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Aptenodytes_forsteri_-Snow_Hill_Island%2C_Antarctica_-adults_and_juvenile-8.jpg/220px-Aptenodytes_forsteri_-Snow_Hill_Island%2C_Antarctica_-adults_and_juvenile-8.jpg"},{"name":"Fennec Fox","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Fennec_Fox_Vulpes_zerda.jpg/220px-Fennec_Fox_Vulpes_zerda.jpg"},{"name":"Giraffe","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Giraffe_Mikumi_National_Park.jpg/220px-Giraffe_Mikumi_National_Park.jpg"},{"name":"Hippopotamus","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f2/Portrait_Hippopotamus_in_the_water.jpg/220px-Portrait_Hippopotamus_in_the_water.jpg"},{"name":"Iguana","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4d/Green_Iguana_In_Florida.jpg/220px-Green_Iguana_In_Florida.jpg"},{"name":"Jaguar","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Standing_jaguar.jpg/260px-Standing_jaguar.jpg"},{"name":"Koala","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Koala_climbing_tree.jpg/240px-Koala_climbing_tree.jpg"},{"name":"Lion","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/Lion_waiting_in_Namibia.jpg/220px-Lion_waiting_in_Namibia.jpg"},{"name":"Mongoose","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/39/Mongoose_collection.png/220px-Mongoose_collection.png"},{"name":"Narwhal","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/%D0%9D%D0%B0%D1%80%D0%B2%D0%B0%D0%BB_%D0%B2_%D1%80%D0%BE%D1%81%D1%81%D0%B8%D0%B9%D1%81%D0%BA%D0%BE%D0%B9_%D0%90%D1%80%D0%BA%D1%82%D0%B8%D0%BA%D0%B5.jpg/220px-%D0%9D%D0%B0%D1%80%D0%B2%D0%B0%D0%BB_%D0%B2_%D1%80%D0%BE%D1%81%D1%81%D0%B8%D0%B9%D1%81%D0%BA%D0%BE%D0%B9_%D0%90%D1%80%D0%BA%D1%82%D0%B8%D0%BA%D0%B5.jpg"},{"name":"Orangutan","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/be/Orang_Utan%2C_Semenggok_Forest_Reserve%2C_Sarawak%2C_Borneo%2C_Malaysia.JPG/220px-Orang_Utan%2C_Semenggok_Forest_Reserve%2C_Sarawak%2C_Borneo%2C_Malaysia.JPG"},{"name":"Panda","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0f/Grosser_Panda.JPG/220px-Grosser_Panda.JPG"},{"name":"Rhinoceros","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/Rhino_collage.png/260px-Rhino_collage.png"},{"name":"Sloth","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/be/Bicho-pregui%C3%A7a_3.jpg/220px-Bicho-pregui%C3%A7a_3.jpg"},{"name":"Tiger","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Walking_tiger_female.jpg/220px-Walking_tiger_female.jpg"},{"name":"Grizzly Bear","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/GrizzlyBearJeanBeaufort.jpg/220px-GrizzlyBearJeanBeaufort.jpg"},{"name":"Hammerhead Shark","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/Scalloped_Hammerhead_Shark_Sphyrna_Lewini_%28226845659%29.jpeg/220px-Scalloped_Hammerhead_Shark_Sphyrna_Lewini_%28226845659%29.jpeg"},{"name":"Kangaroo","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Kangaroo_Australia_01_11_2008_-_retouch.JPG/220px-Kangaroo_Australia_01_11_2008_-_retouch.JPG"},{"name":"Leopard","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/African_leopard_male_%28cropped%29.jpg/220px-African_leopard_male_%28cropped%29.jpg"},{"name":"Meerkat","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Meerkat_%28Suricata_suricatta%29_Tswalu.jpg/220px-Meerkat_%28Suricata_suricatta%29_Tswalu.jpg"},{"name":"Octopus","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/57/Octopus2.jpg/220px-Octopus2.jpg"},{"name":"Penguin","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Penguins_collage.png/260px-Penguins_collage.png"},{"name":"Sea Turtle","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/Chelonia_mydas_is_going_for_the_air_edit.jpg/220px-Chelonia_mydas_is_going_for_the_air_edit.jpg"},{"name":"Toucan","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Toucans_%28Ramphastidae%29.jpg/240px-Toucans_%28Ramphastidae%29.jpg"},{"name":"Vulture","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/Coragyps-atratus-001.jpg/220px-Coragyps-atratus-001.jpg"},{"name":"Wolverine","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Gulo_gulo_2.jpg/220px-Gulo_gulo_2.jpg"},{"name":"Zebra","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/Plains_Zebra_Equus_quagga.jpg/220px-Plains_Zebra_Equus_quagga.jpg"},{"name":"Armadillo","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/32/Cingulata2.jpg/220px-Cingulata2.jpg"},{"name":"Blue Whale","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1c/Anim1754_-_Flickr_-_NOAA_Photo_Library.jpg/220px-Anim1754_-_Flickr_-_NOAA_Photo_Library.jpg"},{"name":"Crocodile","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bd/Nile_crocodile_head.jpg/220px-Nile_crocodile_head.jpg"},{"name":"Deer","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/67/Cervidae1.jpg/260px-Cervidae1.jpg"},{"name":"Elephant Seal","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d8/See_elefanten_edit.jpg/220px-See_elefanten_edit.jpg"},{"name":"Flamingo","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/Flamingos_Laguna_Colorada.jpg/220px-Flamingos_Laguna_Colorada.jpg"},{"name":"Gorilla","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bb/Gorille_des_plaines_de_l%27ouest_%C3%A0_l%27Espace_Zoologique.jpg/220px-Gorille_des_plaines_de_l%27ouest_%C3%A0_l%27Espace_Zoologique.jpg"},{"name":"Heron","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Ardeidae-01.jpg/220px-Ardeidae-01.jpg"},{"name":"Jellyfish","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Jelly_cc11.jpg/220px-Jelly_cc11.jpg"},{"name":"Kingfisher","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Alcedo_azurea_-_Julatten.jpg/220px-Alcedo_azurea_-_Julatten.jpg"},{"name":"Llama","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f7/Llamas%2C_Vernagt-Stausee%2C_Italy.jpg/220px-Llamas%2C_Vernagt-Stausee%2C_Italy.jpg"},{"name":"Mandrill","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/ed/Mandrill_Albert_September_2015_Zoo_Berlin_%282%29.jpg/220px-Mandrill_Albert_September_2015_Zoo_Berlin_%282%29.jpg"},{"name":"Ostrich","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/Struthio_Diversity.jpg/220px-Struthio_Diversity.jpg"},{"name":"Peacock","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/Peacock_Plumage.jpg/220px-Peacock_Plumage.jpg"},{"name":"Rattlesnake","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Crotalus_cerastes_mesquite_springs_CA-2.jpg/220px-Crotalus_cerastes_mesquite_springs_CA-2.jpg"},{"name":"Snow Leopard","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Irbis4.JPG/220px-Irbis4.JPG"},{"name":"Tapir","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Tapiridae.png/250px-Tapiridae.png"},{"name":"Viper","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/25/Viperidae-01.jpg/220px-Viperidae-01.jpg"},{"name":"Wolf","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/68/Eurasian_wolf_2.jpg/220px-Eurasian_wolf_2.jpg"},{"name":"Yak","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0e/Bos_grunniens_at_Letdar_on_Annapurna_Circuit.jpg/220px-Bos_grunniens_at_Letdar_on_Annapurna_Circuit.jpg"},{"name":"Albatross","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/Short_tailed_Albatross1.jpg/250px-Short_tailed_Albatross1.jpg"},{"name":"Bison","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/American_bison_k5680-1.jpg/220px-American_bison_k5680-1.jpg"},{"name":"Chimpanzee","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/015_Chimpanzee_at_Kibale_forest_National_Park_Photo_by_Giles_Laurent.jpg/220px-015_Chimpanzee_at_Kibale_forest_National_Park_Photo_by_Giles_Laurent.jpg"},{"name":"Duck","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/Bucephala-albeola-010.jpg/220px-Bucephala-albeola-010.jpg"},{"name":"Fox","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/30/Vulpes_vulpes_ssp_fulvus.jpg/220px-Vulpes_vulpes_ssp_fulvus.jpg"},{"name":"Goldfish","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/25/Common_goldfish.JPG/220px-Common_goldfish.JPG"},{"name":"Hawk","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/8/81/Northern_Goshawk_ad_M2.jpg/220px-Northern_Goshawk_ad_M2.jpg"},{"name":"Ibis","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Black-headed_Ibis_%28Threskiornis_melanocephalus%29.jpg/220px-Black-headed_Ibis_%28Threskiornis_melanocephalus%29.jpg"},{"name":"Jackal","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/37/Flickr_-_Rainbirder_-_Golden_Jackal_%281%29.jpg/220px-Flickr_-_Rainbirder_-_Golden_Jackal_%281%29.jpg"},{"name":"Komodo Dragon","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/Komodo_dragon_with_tongue.jpg/220px-Komodo_dragon_with_tongue.jpg"},{"name":"Lemur","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Lemuroidea.jpg/220px-Lemuroidea.jpg"},{"name":"Moose","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/Alaska_moose.jpg/220px-Alaska_moose.jpg"},{"name":"Otter","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Fischotter%2C_Lutra_Lutra.JPG/220px-Fischotter%2C_Lutra_Lutra.JPG"},{"name":"Parrot","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Parrot_montage.jpg/300px-Parrot_montage.jpg"},{"name":"Quail","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/Brown_Quail.jpg/220px-Brown_Quail.jpg"},{"name":"Raccoon","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Raccoon_in_Central_Park_%2835264%29.jpg/220px-Raccoon_in_Central_Park_%2835264%29.jpg"},{"name":"Shark","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Corl0207_%2828225976491%29.jpg/220px-Corl0207_%2828225976491%29.jpg"},{"name":"Turtle","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Turtle_diversity.jpg/260px-Turtle_diversity.jpg"},{"name":"Walrus","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Pacific_Walrus_-_Bull_%288247646168%29.jpg/220px-Pacific_Walrus_-_Bull_%288247646168%29.jpg"},{"name":"Yellow Warbler","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Dendroica-aestiva-001.jpg/220px-Dendroica-aestiva-001.jpg"},{"name":"Anaconda","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/01-COBRA-SUCURI-3M-WAGNER-MEIER_MG_2458.JPG/220px-01-COBRA-SUCURI-3M-WAGNER-MEIER_MG_2458.JPG"},{"name":"Beaver","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/American_Beaver.jpg/220px-American_Beaver.jpg"},{"name":"Camel","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/43/07._Camel_Profile%2C_near_Silverton%2C_NSW%2C_07.07.2007.jpg/220px-07._Camel_Profile%2C_near_Silverton%2C_NSW%2C_07.07.2007.jpg"},{"name":"Eagle","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/Eagles_together.jpg/220px-Eagles_together.jpg"},{"name":"Frog","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/01/Anoures.jpg/220px-Anoures.jpg"},{"name":"Gazelle","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d6/Chinkara_-_Shreeram_M_V_-_Bikaner.jpg/220px-Chinkara_-_Shreeram_M_V_-_Bikaner.jpg"},{"name":"Horse","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/de/Nokota_Horses_cropped.jpg/220px-Nokota_Horses_cropped.jpg"},{"name":"Impala","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/Trotting_impala_ram%2C_crop.jpg/220px-Trotting_impala_ram%2C_crop.jpg"},{"name":"Jaguar","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Standing_jaguar.jpg/260px-Standing_jaguar.jpg"},{"name":"Lynx","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1f/Lynx_heads_collage.jpg/220px-Lynx_heads_collage.jpg"},{"name":"Manta Ray","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/30/Dharavandhoo_Thila_-_Manata_Black_Pearl.JPG/220px-Dharavandhoo_Thila_-_Manata_Black_Pearl.JPG"},{"name":"Dog","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Blue_merle_koolie_short_coat_heading_sheep.jpg/107px-Blue_merle_koolie_short_coat_heading_sheep.jpg"},{"name":"Owl","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0f/Portrait_of_owls.jpg/260px-Portrait_of_owls.jpg"},{"name":"Pig","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/Pig_farm_Vampula_9.jpg/220px-Pig_farm_Vampula_9.jpg"},{"name":"Quokka","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/54/Quokka_at_rottnest_%28cropped%29.jpg/220px-Quokka_at_rottnest_%28cropped%29.jpg"},{"name":"Rabbit","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1f/Oryctolagus_cuniculus_Rcdo.jpg/220px-Oryctolagus_cuniculus_Rcdo.jpg"},{"name":"Squirrel","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/68/Sciuridae.jpg/250px-Sciuridae.jpg"},{"name":"Tiger Shark","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/39/Tiger_shark.jpg/220px-Tiger_shark.jpg"},{"name":"Vampire Bat","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/32/Desmodus_rotundus_A_Catenazzi.jpg/220px-Desmodus_rotundus_A_Catenazzi.jpg"},{"name":"Warthog","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/Southern_warthog_%28Phacochoerus_africanus_sundevallii%29_male.jpg/220px-Southern_warthog_%28Phacochoerus_africanus_sundevallii%29_male.jpg"},{"name":"Tuna","imageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Tuna_assortment.png/220px-Tuna_assortment.png"}]'),Kb=[],Jb=[];function Qb(e){return e.slice(0,4).toUpperCase()}function $b(e){for(var t=0;t<26;t++)for(var n=!1;!n;){var r=Math.floor(Math.random()*e);Jb.includes(r)||(Jb.push(r),n=!0)}}function Yb(e){return $b("celebrities"===e?Gb.length:"actors"===e?qb.length:"famousPeople"===e?Wb.length:"animals"===e?Hb.length:52),Jb}function Xb(e,t){if(""===t&&Kb.length>0)return Kb;if("celebrities"===t)Kb=Gb.filter((function(t,n){return e.includes(n)}));else if("actors"===t)Kb=qb.filter((function(t,n){return e.includes(n)}));else if("famousPeople"===t)Kb=Wb.filter((function(t,n){return e.includes(n)}));else if("animals"===t)Kb=Hb.filter((function(t,n){return e.includes(n)}));else{for(var n=0;n<26;n++){var r=e[n],i="".concat(t,"-").concat(r,".jpg"),a="decks/".concat(t,"/").concat(i);Kb.push({name:"",imageUrl:a})}Kb.reverse()}return Kb}function Zb(e,t){return(10-(e+t))*(10-Math.abs(e-t))}function ex(e,t){for(var n=0,r=0;r<e.length;r++){var i=e[r];i===t[r]?n+=Zb(r,r):-1!==t.indexOf(i)&&(n+=Zb(r,t.indexOf(i)))}return n}var tx=n(184),nx=(0,e.createContext)({gameRef:null,currentPlayerName:"",currentPlayerId:null,cards:[],setGameRef:function(){},setCurrentPlayerName:function(){},setCurrentPlayerId:function(){},setCards:function(){}}),rx=function(t){var n=t.children,r=u((0,e.useState)((function(){return localStorage.getItem("currentPlayerName")||""})),2),i=r[0],a=r[1],o=u((0,e.useState)(null),2),s=o[0],l=o[1],c=u((0,e.useState)(null),2),h=c[0],f=c[1],d=u((0,e.useState)([]),2),p=d[0],m=d[1],v={gameRef:h,currentPlayerName:i,currentPlayerId:s,cards:p,setGameRef:f,setCurrentPlayerName:function(e){a(e),function(e){localStorage.setItem("currentPlayerName",e)}(e)},setCurrentPlayerId:l,setCards:m};return(0,tx.jsx)(nx.Provider,{value:v,children:n})},ix=function(e){var t=e.children,n=e.onClick,r=e.className,i=e.style,a=e.disabled,o=void 0!==a&&a,s=e.type,u=void 0===s?"button":s,l=e.buttonType,c="primary"===(void 0===l?"primary":l)?"bg-blue-500 hover:bg-blue-700 text-white":"bg-gray-100 hover:bg-gray-200 border border-gray-800 text-gray-800";return(0,tx.jsx)("button",{type:u,onClick:n,style:Yt(Yt({},i),{},{userSelect:"none"}),className:"text-xl font-bold py-2 px-4 rounded-lg shadow-lg ".concat(c," ").concat(r),disabled:o,children:t})},ax=function(e){var t=e.className,n=e.phrase,r=e.round,i=e.name;return(0,tx.jsx)("nav",{className:"bg-gray-800 text-white shadow-lg",children:(0,tx.jsxs)("div",{className:"mx-auto px-4 py-3 flex justify-between items-center ".concat(t),children:[(0,tx.jsx)(Ge,{to:"/",children:(0,tx.jsx)("h1",{className:"text-xl font-bold",children:"Incommon"})}),n&&(0,tx.jsx)("div",{children:(0,tx.jsx)("p",{className:"text-md",children:n})}),r&&(0,tx.jsx)("div",{children:(0,tx.jsxs)("p",{className:"text-md",children:["Round ",r]})}),i&&(0,tx.jsx)("div",{children:(0,tx.jsx)("p",{className:"text-md",children:i})})]})})};var ox=function(){var t=(0,e.useContext)(nx),n=t.setCurrentPlayerName,r=t.setCurrentPlayerId,i=t.setGameRef;(0,e.useEffect)((function(){var e=localStorage.getItem("currentPlayerName");e&&n(e)}),[n]);var a=u((0,e.useState)(""),2),o=a[0],s=a[1],l=u((0,e.useState)(""),2),c=l[0],h=l[1],f=ve(),d={teams:[{name:"red",players:[],roundScore:0,gameScore:0},{name:"green",players:[],roundScore:0,gameScore:0},{name:"blue",players:[],sroundScore:0,gameScore:0},{name:"orange",players:[],roundScore:0,gameScore:0}],gameState:"setup"},p=function(){var e=Je(He().mark((function e(){var t,n,r;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xm(wp(zb,"games"),d);case 2:return t=e.sent,i(t),n=t.id,r=Qb(n),e.next=8,bm(t,{shortId:r});case 8:f("/host/".concat(r));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Je(He().mark((function e(){var t,a;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&c){e.next=3;break}return alert("Please enter your name and game ID."),e.abrupt("return");case 3:return n(o),t=wp(zb,"games"),a=cm(t,fm("shortId","==",c)),e.next=8,wm(a).then((function(e){if(1===e.size){var t=e.docs[0].id,n=bp(zb,"games",t);i(n),xm(wp(n,"players"),{name:o,gameScore:0,roundScore:0,chosenCards:[],connections:{},team:"",joinedAt:new Vp("serverTimestamp")}).then((function(e){r(e.id),f("/player/".concat(c))})).catch((function(e){console.error(e)}))}else alert("Invalid game ID.")}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,tx.jsxs)("div",{className:"mx-auto",children:[(0,tx.jsx)(ax,{className:"max-w-screen-md"}),(0,tx.jsxs)("div",{className:"max-w-screen-md mx-auto p-4",children:[(0,tx.jsxs)("div",{className:"mb-6",children:[(0,tx.jsx)("p",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Create a Game"}),(0,tx.jsx)(ix,{onClick:p,children:"Create Game"})]}),(0,tx.jsx)("hr",{className:"my-6 border-0 h-px bg-gradient-to-r from-transparent via-gray-800 to-transparent"}),(0,tx.jsx)("p",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Join a Game"}),(0,tx.jsxs)("div",{className:"flex",children:[(0,tx.jsxs)("div",{className:"mb-4 w-64",children:[(0,tx.jsx)("label",{htmlFor:"playerName",className:"block text-gray-700 text-sm font-bold mb-2",children:"Your Name:"}),(0,tx.jsx)("input",{type:"text",id:"playerName",value:o,onChange:function(e){return s(e.target.value)},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,tx.jsxs)("div",{className:"ml-4 mb-4 w-24",children:[(0,tx.jsx)("label",{htmlFor:"shortId",className:"block text-gray-700 text-sm font-bold mb-2",children:"Game ID:"}),(0,tx.jsx)("input",{type:"text",id:"shortId",value:c,onChange:function(e){return t=e.target.value,void h(t.toUpperCase());var t},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]})]}),(0,tx.jsx)(ix,{onClick:m,children:"Join Game"})]})]})},sx=function(e){var t=e.gameData,n=e.players,r=t.shortId;return(0,tx.jsxs)("div",{children:[(0,tx.jsx)(ax,{className:"max-w-screen-md"}),(0,tx.jsxs)("div",{className:"max-w-screen-md mx-auto p-4 text-gray-800",children:[(0,tx.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:["Game ID: ",r]}),(0,tx.jsx)("h2",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Joined Players:"}),(0,tx.jsx)("div",{className:"overflow-x-auto",children:(0,tx.jsxs)("table",{className:"min-w-full leading-normal",children:[(0,tx.jsx)("thead",{children:(0,tx.jsx)("tr",{className:"bg-gray-100",children:(0,tx.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 text-gray-800 text-left text-sm uppercase font-normal",children:"Player Name"})})}),(0,tx.jsx)("tbody",{children:n&&n.map((function(e){return(0,tx.jsx)("tr",{className:"hover:bg-gray-100",children:(0,tx.jsx)("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.name})},e.name)}))})]})})]})]})};function ux(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var lx=Object.defineProperty,cx={};!function(e,t){for(var n in t)lx(e,n,{get:t[n],enumerable:!0})}(cx,{assign:function(){return Gx},colors:function(){return Bx},createStringInterpolator:function(){return Lx},skipAnimation:function(){return Vx},to:function(){return Ox},willAdvance:function(){return zx}});var hx=Tx(),fx=function(e){return xx(e,hx)},dx=Tx();fx.write=function(e){return xx(e,dx)};var px=Tx();fx.onStart=function(e){return xx(e,px)};var mx=Tx();fx.onFrame=function(e){return xx(e,mx)};var vx=Tx();fx.onFinish=function(e){return xx(e,vx)};var gx=[];fx.setTimeout=function(e,t){var n=fx.now()+t,r={time:n,handler:e,cancel:function e(){var t=gx.findIndex((function(t){return t.cancel==e}));~t&&gx.splice(t,1),wx-=~t?1:0}};return gx.splice(yx(n),0,r),wx+=1,Cx(),r};var yx=function(e){return~(~gx.findIndex((function(t){return t.time>e}))||~gx.length)};fx.cancel=function(e){px.delete(e),mx.delete(e),vx.delete(e),hx.delete(e),dx.delete(e)},fx.sync=function(e){bx=!0,fx.batchedUpdates(e),bx=!1},fx.throttle=function(e){var t;function n(){try{e.apply(void 0,d(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,fx.onStart(n)}return r.handler=e,r.cancel=function(){px.delete(n),t=null},r};var _x="undefined"!=typeof window?window.requestAnimationFrame:function(){};fx.use=function(e){return _x=e},fx.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,fx.batchedUpdates=function(e){return e()},fx.catch=console.error,fx.frameLoop="always",fx.advance=function(){"demand"!==fx.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Ex()};var kx=-1,wx=0,bx=!1;function xx(e,t){bx?(t.delete(e),e(0)):(t.add(e),Cx())}function Cx(){kx<0&&(kx=0,"demand"!==fx.frameLoop&&_x(Sx))}function Sx(){~kx&&(_x(Sx),fx.batchedUpdates(Ex))}function Ex(){var e=kx;kx=fx.now();var t=yx(kx);t&&(Ix(gx.splice(0,t),(function(e){return e.handler()})),wx-=t),wx?(px.flush(),hx.flush(e?Math.min(64,kx-e):16.667),mx.flush(),dx.flush(),vx.flush()):kx=-1}function Tx(){var e=new Set,t=e;return{add:function(n){wx+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return wx-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,wx-=t.size,Ix(t,(function(t){return t(n)&&e.add(t)})),wx+=e.size,t=e)}}}function Ix(e,t){e.forEach((function(e){try{t(e)}catch(n){fx.catch(n)}}))}function jx(){}var Nx={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function Ax(e,t){if(Nx.arr(e)){if(!Nx.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var Dx=function(e,t){return e.forEach(t)};function Px(e,t,n){if(Nx.arr(e))for(var r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var Rx=function(e){return Nx.und(e)?[]:Nx.arr(e)?e:[e]};function Mx(e,t){if(e.size){var n=Array.from(e);e.clear(),Dx(n,t)}}var Lx,Ox,Ux=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Mx(e,(function(e){return e.apply(void 0,n)}))},Fx=function(){return"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)},Bx=null,Vx=!1,zx=jx,Gx=function(e){e.to&&(Ox=e.to),e.now&&(fx.now=e.now),void 0!==e.colors&&(Bx=e.colors),null!=e.skipAnimation&&(Vx=e.skipAnimation),e.createStringInterpolator&&(Lx=e.createStringInterpolator),e.requestAnimationFrame&&fx.use(e.requestAnimationFrame),e.batchedUpdates&&(fx.batchedUpdates=e.batchedUpdates),e.willAdvance&&(zx=e.willAdvance),e.frameLoop&&(fx.frameLoop=e.frameLoop)},qx=new Set,Wx=[],Hx=[],Kx=0,Jx={get idle(){return!qx.size&&!Wx.length},start:function(e){Kx>e.priority?(qx.add(e),fx.onStart(Qx)):($x(e),fx(Xx))},advance:Xx,sort:function(e){if(Kx)fx.onFrame((function(){return Jx.sort(e)}));else{var t=Wx.indexOf(e);~t&&(Wx.splice(t,1),Yx(e))}},clear:function(){Wx=[],qx.clear()}};function Qx(){qx.forEach($x),qx.clear(),fx(Xx)}function $x(e){Wx.includes(e)||Yx(e)}function Yx(e){Wx.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(Wx,(function(t){return t.priority>e.priority})),0,e)}function Xx(e){for(var t=Hx,n=0;n<Wx.length;n++){var r=Wx[n];Kx=r.priority,r.idle||(zx(r),r.advance(e),r.idle||t.push(r))}return Kx=0,(Hx=Wx).length=0,(Wx=t).length>0}var Zx=function(e,t,n){return Math.min(Math.max(n,e),t)},eC="[-+]?\\d*\\.?\\d+",tC=eC+"%";function nC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var rC=new RegExp("rgb"+nC(eC,eC,eC)),iC=new RegExp("rgba"+nC(eC,eC,eC,eC)),aC=new RegExp("hsl"+nC(eC,tC,tC)),oC=new RegExp("hsla"+nC(eC,tC,tC,eC)),sC=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,uC=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,lC=/^#([0-9a-fA-F]{6})$/,cC=/^#([0-9a-fA-F]{8})$/;function hC(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fC(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,a=hC(i,r,e+1/3),o=hC(i,r,e),s=hC(i,r,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}function dC(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function pC(e){return(parseFloat(e)%360+360)%360/360}function mC(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function vC(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function gC(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=lC.exec(e))?parseInt(t[1]+"ff",16)>>>0:Bx&&void 0!==Bx[e]?Bx[e]:(t=rC.exec(e))?(dC(t[1])<<24|dC(t[2])<<16|dC(t[3])<<8|255)>>>0:(t=iC.exec(e))?(dC(t[1])<<24|dC(t[2])<<16|dC(t[3])<<8|mC(t[4]))>>>0:(t=sC.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=cC.exec(e))?parseInt(t[1],16)>>>0:(t=uC.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=aC.exec(e))?(255|fC(pC(t[1]),vC(t[2]),vC(t[3])))>>>0:(t=oC.exec(e))?(fC(pC(t[1]),vC(t[2]),vC(t[3]))|mC(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var yC=function e(t,n,r){if(Nx.fun(t))return t;if(Nx.arr(t))return e({range:t,output:n,extrapolate:r});if(Nx.str(t.output[0]))return Lx(t);var i=t,a=i.output,o=i.range||[0,1],s=i.extrapolateLeft||i.extrapolate||"extend",u=i.extrapolateRight||i.extrapolate||"extend",l=i.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,a,o,s,u){var l=u?u(e):e;if(l<t){if("identity"===o)return l;"clamp"===o&&(l=t)}if(l>n){if("identity"===s)return l;"clamp"===s&&(l=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?l=-l:n===1/0?l-=t:l=(l-t)/(n-t);l=a(l),r===-1/0?l=-l:i===1/0?l+=r:l=l*(i-r)+r;return l}(e,o[t],o[t+1],a[t],a[t+1],l,s,u,i.map)}};var _C=1.70158,kC=1.525*_C,wC=_C+1,bC=2*Math.PI/3,xC=2*Math.PI/4.5,CC=function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},SC={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-Math.pow(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-Math.pow(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-Math.pow(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},easeInCirc:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},easeInBack:function(e){return wC*e*e*e-_C*e*e},easeOutBack:function(e){return 1+wC*Math.pow(e-1,3)+_C*Math.pow(e-1,2)},easeInOutBack:function(e){return e<.5?Math.pow(2*e,2)*(7.189819*e-kC)/2:(Math.pow(2*e-2,2)*((kC+1)*(2*e-2)+kC)+2)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*bC)},easeOutElastic:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*bC)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*xC)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*xC)/2+1},easeInBounce:function(e){return 1-CC(1-e)},easeOutBounce:CC,easeInOutBounce:function(e){return e<.5?(1-CC(1-2*e))/2:(1+CC(2*e-1))/2},steps:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return function(n){var r=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e,i="end"===t?Math.floor(r):Math.ceil(r);return Zx(0,1,i/e)}}},EC=Symbol.for("FluidValue.get"),TC=Symbol.for("FluidValue.observers"),IC=function(e){return Boolean(e&&e[EC])},jC=function(e){return e&&e[EC]?e[EC]():e},NC=function(e){return e[TC]||null};function AC(e,t){var n=e[TC];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var DC=v((function e(t){if(p(this,e),!t&&!(t=this.get))throw Error("Unknown getter");PC(this,t)})),PC=function(e,t){return OC(e,EC,t)};function RC(e,t){if(e[EC]){var n=e[TC];n||OC(e,TC,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function MC(e,t){var n=e[TC];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[TC]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var LC,OC=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},UC=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,FC=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,BC=new RegExp("(".concat(UC.source,")(%|[a-z]+)"),"i"),VC=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,zC=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,GC=function e(t){var n=u(qC(t),2),r=n[0],i=n[1];if(!r||Fx())return t;var a=window.getComputedStyle(document.documentElement).getPropertyValue(r);if(a)return a.trim();if(i&&i.startsWith("--")){var o=window.getComputedStyle(document.documentElement).getPropertyValue(i);return o||t}return i&&zC.test(i)?e(i):i||t},qC=function(e){var t=zC.exec(e);if(!t)return[,];var n=u(t,3);return[n[1],n[2]]},WC=function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")},HC=function(e){LC||(LC=Bx?new RegExp("(".concat(Object.keys(Bx).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return jC(e).replace(zC,GC).replace(FC,gC).replace(LC,gC)})),n=t.map((function(e){return e.match(UC).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return yC(Yt(Yt({},e),{},{output:t}))}));return function(e){var n,i=!BC.test(t[0])&&(null===(n=t.find((function(e){return BC.test(e)})))||void 0===n?void 0:n.replace(UC,"")),a=0;return t[0].replace(UC,(function(){return"".concat(r[a++](e)).concat(i||"")})).replace(VC,WC)}},KC="react-spring: ",JC=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(KC,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},QC=JC(console.warn);function $C(){QC("".concat(KC,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var YC=JC(console.warn);function XC(e){return Nx.str(e)&&("#"==e[0]||/\d/.test(e)||!Fx()&&zC.test(e)||e in(Bx||{}))}var ZC=Fx()?e.useEffect:e.useLayoutEffect;function eS(){var t=(0,e.useState)()[1],n=function(){var t=(0,e.useRef)(!1);return ZC((function(){return t.current=!0,function(){t.current=!1}}),[]),t}();return function(){n.current&&t(Math.random())}}var tS=function(t){return(0,e.useEffect)(t,nS)},nS=[];function rS(t){var n=(0,e.useRef)();return(0,e.useEffect)((function(){n.current=t})),n.current}var iS=Symbol.for("Animated:node"),aS=function(e){return e&&e[iS]},oS=function(e,t){return n=e,r=iS,i=t,Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0});var n,r,i},sS=function(e){return e&&e[iS]&&e[iS].getPayload()},uS=function(){function e(){p(this,e),oS(this,this)}return v(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),lS=function(e){y(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this))._value=e,r.done=!0,r.durationProgress=0,Nx.num(r._value)&&(r.lastPosition=r._value),r}return v(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return Nx.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,Nx.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(uS),cS=function(e){y(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this,0))._string=null,r._toString=yC({output:[e,e]}),r}return v(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(Nx.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!$e(_(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=yC({output:[this.getValue(),e]})),this._value=0,$e(_(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(lS),hS={dependencies:null},fS=function(e){y(n,e);var t=C(n);function n(e){var r;return p(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return v(n,[{key:"getValue",value:function(e){var t={};return Px(this.source,(function(n,r){var i;(i=n)&&i[iS]===i?t[r]=n.getValue(e):IC(n)?t[r]=jC(n):e||(t[r]=n)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&Dx(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return Px(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;hS.dependencies&&IC(e)&&hS.dependencies.add(e);var n=sS(e);n&&Dx(n,(function(e){return t.add(e)}))}}]),n}(uS),dS=function(e){y(n,e);var t=C(n);function n(e){return p(this,n),t.call(this,e)}return v(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):($e(_(n.prototype),"setValue",this).call(this,e.map(pS)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(fS);function pS(e){return(XC(e)?cS:lS).create(e)}function mS(e){var t=aS(e);return t?t.constructor:Nx.arr(e)?dS:XC(e)?cS:lS}var vS=function(t,n){var r=!Nx.fun(t)||t.prototype&&t.prototype.isReactComponent;return(0,e.forwardRef)((function(i,a){var o=(0,e.useRef)(null),s=r&&(0,e.useCallback)((function(e){o.current=function(e,t){e&&(Nx.fun(e)?e(t):e.current=t);return t}(a,e)}),[a]),l=function(e,t){var n=new Set;hS.dependencies=n,e.style&&(e=Yt(Yt({},e),{},{style:t.createAnimatedStyle(e.style)}));return e=new fS(e),hS.dependencies=null,[e,n]}(i,n),c=u(l,2),h=c[0],f=c[1],d=eS(),p=function(){var e=o.current;r&&!e||!1===(!!e&&n.applyAnimatedValues(e,h.getValue(!0)))&&d()},m=new gS(p,f),v=(0,e.useRef)();ZC((function(){return v.current=m,Dx(f,(function(e){return RC(e,m)})),function(){v.current&&(Dx(v.current.deps,(function(e){return MC(e,v.current)})),fx.cancel(v.current.update))}})),(0,e.useEffect)(p,[]),tS((function(){return function(){var e=v.current;Dx(e.deps,(function(t){return MC(t,e)}))}}));var g=n.getComponentProps(h.getValue());return e.createElement(t,Yt(Yt({},g),{},{ref:s}))}))},gS=function(){function e(t,n){p(this,e),this.update=t,this.deps=n}return v(e,[{key:"eventObserved",value:function(e){"change"==e.type&&fx.write(this.update)}}]),e}();var yS=Symbol.for("AnimatedComponent"),_S=function(e){return Nx.str(e)?e:e&&Nx.str(e.displayName)?e.displayName:Nx.fun(e)&&e.name||null},kS=["children"];function wS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Nx.fun(e)?e.apply(void 0,n):e}var bS=function(e,t){return!0===e||!!(t&&e&&(Nx.fun(e)?e(t):Rx(e).includes(t)))},xS=function(e,t){return Nx.obj(e)?t&&e[t]:e},CS=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},SS=function(e){return e},ES=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:SS,n=TS;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,i={},a=T(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=t(e[o],o);Nx.und(s)||(i[o]=s)}}catch(u){a.e(u)}finally{a.f()}return i},TS=["config","onProps","onStart","onChange","onPause","onResume","onRest"],IS={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function jS(e){var t=function(e){var t={},n=0;if(Px(e,(function(e,r){IS[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return Px(e,(function(e,r){return r in t||(n[r]=e)})),n}return Yt({},e)}function NS(e){return e=jC(e),Nx.arr(e)?e.map(NS):XC(e)?cx.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function AS(e){for(var t in e)return!0;return!1}function DS(e){return Nx.fun(e)||Nx.arr(e)&&Nx.obj(e[0])}function PS(e,t){var n;null===(n=e.ref)||void 0===n||n.delete(e),null===t||void 0===t||t.delete(e)}function RS(e,t){var n;t&&e.ref!==t&&(null===(n=e.ref)||void 0===n||n.delete(e),t.add(e),e.ref=t)}var MS=Yt(Yt({},{tension:170,friction:26}),{},{mass:1,damping:1,easing:SC.linear,clamp:!1}),LS=v((function e(){p(this,e),this.velocity=0,Object.assign(this,MS)}));function OS(e,t){if(Nx.und(t.decay)){var n=!Nx.und(t.tension)||!Nx.und(t.friction);!n&&Nx.und(t.frequency)&&Nx.und(t.damping)&&Nx.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var US=[],FS=v((function e(){p(this,e),this.changed=!1,this.values=US,this.toValues=null,this.fromValues=US,this.config=new LS,this.immediate=!1}));function BS(e,t){var n=t.key,r=t.props,i=t.defaultProps,a=t.state,o=t.actions;return new Promise((function(t,s){var u,l,c,h=bS(null!==(u=r.cancel)&&void 0!==u?u:null===i||void 0===i?void 0:i.cancel,n);if(h)m();else{Nx.und(r.pause)||(a.paused=bS(r.pause,n));var f=null===i||void 0===i?void 0:i.pause;!0!==f&&(f=a.paused||bS(f,n)),l=wS(r.delay||0,n),f?(a.resumeQueue.add(p),o.pause()):(o.resume(),p())}function d(){a.resumeQueue.add(p),a.timeouts.delete(c),c.cancel(),l=c.time-fx.now()}function p(){l>0&&!cx.skipAnimation?(a.delayed=!0,c=fx.setTimeout(m,l),a.pauseQueue.add(d),a.timeouts.add(c)):m()}function m(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(d),a.timeouts.delete(c),e<=(a.cancelId||0)&&(h=!0);try{o.start(Yt(Yt({},r),{},{callId:e,cancel:h}),t)}catch(n){s(n)}}}))}var VS=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?qS(e.get()):t.every((function(e){return e.noop}))?zS(e.get()):GS(e.get(),t.every((function(e){return e.finished})))},zS=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},GS=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:n}},qS=function(e){return{value:e,cancelled:!0,finished:!1}};function WS(e,t,n,r){var i=t.callId,a=t.parentId,o=t.onRest,s=n.asyncTo,u=n.promise;return a||e!==s||t.reset?n.promise=Je(He().mark((function l(){var c,h,f,d,p,m,v,g;return He().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(n.asyncId=i,n.asyncTo=e,c=ES(t,(function(e,t){return"onRest"===t?void 0:e})),d=new Promise((function(e,t){return h=e,f=t})),p=function(e){var t=i<=(n.cancelId||0)&&qS(r)||i!==n.asyncId&&GS(r,!1);if(t)throw e.result=t,f(e),e},m=function(e,t){var a=new KS,o=new JS;return Je(He().mark((function s(){var u,l;return He().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!cx.skipAnimation){s.next=5;break}throw HS(n),o.result=GS(r,!1),f(o),o;case 5:return p(a),(u=Nx.obj(e)?Yt({},e):Yt(Yt({},t),{},{to:e})).parentId=i,Px(c,(function(e,t){Nx.und(u[t])&&(u[t]=e)})),s.next=11,r.start(u);case 11:if(l=s.sent,p(a),!n.paused){s.next=16;break}return s.next=16,new Promise((function(e){n.resumeQueue.add(e)}));case 16:return s.abrupt("return",l);case 17:case"end":return s.stop()}}),s)})))()},!cx.skipAnimation){l.next=9;break}return HS(n),l.abrupt("return",GS(r,!1));case 9:return l.prev=9,g=Nx.arr(e)?function(){var e=Je(He().mark((function e(t){var n,r,i;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=T(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,m(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(m,r.stop.bind(r))),l.next=13,Promise.all([g.then(h),d]);case 13:v=GS(r.get(),!0,!1),l.next=27;break;case 16:if(l.prev=16,l.t0=l.catch(9),!(l.t0 instanceof KS)){l.next=22;break}v=l.t0.result,l.next=27;break;case 22:if(!(l.t0 instanceof JS)){l.next=26;break}v=l.t0.result,l.next=27;break;case 26:throw l.t0;case 27:return l.prev=27,i==n.asyncId&&(n.asyncId=a,n.asyncTo=a?s:void 0,n.promise=a?u:void 0),l.finish(27);case 30:return Nx.fun(o)&&fx.batchedUpdates((function(){o(v,r,r.item)})),l.abrupt("return",v);case 32:case"end":return l.stop()}}),l,null,[[9,16,27,30]])})))():u}function HS(e,t){Mx(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var KS=function(e){y(n,e);var t=C(n);function n(){return p(this,n),t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}return v(n)}(E(Error)),JS=function(e){y(n,e);var t=C(n);function n(){return p(this,n),t.call(this,"SkipAnimationSignal")}return v(n)}(E(Error)),QS=function(e){return e instanceof YS},$S=1,YS=function(e){y(n,e);var t=C(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).id=$S++,e._priority=0,e}return v(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=aS(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cx.to(this,t)}},{key:"interpolate",value:function(){$C();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cx.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];AC(this,{type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||Jx.sort(this),AC(this,{type:"priority",parent:this,priority:e})}}]),n}(DC),XS=Symbol.for("SpringPhase"),ZS=function(e){return(1&e[XS])>0},eE=function(e){return(2&e[XS])>0},tE=function(e){return(4&e[XS])>0},nE=function(e,t){return t?e[XS]|=3:e[XS]&=-3},rE=function(e,t){return t?e[XS]|=4:e[XS]&=-5},iE=function(e){y(n,e);var t=C(n);function n(e,r){var i;if(p(this,n),(i=t.call(this)).animation=new FS,i.defaultProps={},i._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},i._pendingCalls=new Set,i._lastCallId=0,i._lastToId=0,i._memoizedDuration=0,!Nx.und(e)||!Nx.und(r)){var a=Nx.obj(e)?Yt({},e):Yt(Yt({},r),{},{from:e});Nx.und(a.default)&&(a.default=!0),i.start(a)}return i}return v(n,[{key:"idle",get:function(){return!(eE(this)||this._state.asyncTo)||tE(this)}},{key:"goal",get:function(){return jC(this.animation.to)}},{key:"velocity",get:function(){var e=aS(this);return e instanceof lS?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return ZS(this)}},{key:"isAnimating",get:function(){return eE(this)}},{key:"isPaused",get:function(){return tE(this)}},{key:"isDelayed",get:function(){return this._state.delayed}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,a=i.toValues,o=i.config,s=sS(i.to);!s&&IC(i.to)&&(a=Rx(jC(i.to))),i.values.forEach((function(u,l){if(!u.done){var c=u.constructor==cS?1:s?s[l].lastPosition:a[l],h=i.immediate,f=c;if(!h){if(f=u.lastPosition,o.tension<=0)return void(u.done=!0);var d,p=u.elapsedTime+=e,m=i.fromValues[l],v=null!=u.v0?u.v0:u.v0=Nx.arr(o.velocity)?o.velocity[l]:o.velocity,g=o.precision||(m==c?.005:Math.min(1,.001*Math.abs(c-m)));if(Nx.und(o.duration))if(o.decay){var y=!0===o.decay?.998:o.decay,_=Math.exp(-(1-y)*p);f=m+v/(1-y)*(1-_),h=Math.abs(u.lastPosition-f)<=g,d=v*_}else{d=null==u.lastVelocity?v:u.lastVelocity;for(var k=o.restVelocity||g/10,w=o.clamp?0:o.bounce,b=!Nx.und(w),x=m==c?u.v0>0:m<c,C=Math.ceil(e/1),S=0;S<C&&(Math.abs(d)>k||!(h=Math.abs(c-f)<=g));++S){b&&(f==c||f>c==x)&&(d=-d*w,f=c),f+=1*(d+=1*((1e-6*-o.tension*(f-c)+.001*-o.friction*d)/o.mass))}}else{var E=1;o.duration>0&&(t._memoizedDuration!==o.duration&&(t._memoizedDuration=o.duration,u.durationProgress>0&&(u.elapsedTime=o.duration*u.durationProgress,p=u.elapsedTime+=e)),E=(E=(o.progress||0)+p/t._memoizedDuration)>1?1:E<0?0:E,u.durationProgress=E),d=((f=m+o.easing(E)*(c-m))-u.lastPosition)/e,h=1==E}u.lastVelocity=d,Number.isNaN(f)&&(console.warn("Got NaN while animating:",t),h=!0)}s&&!s[l].done&&(h=!1),h?u.done=!0:n=!1,u.setValue(f,o.round)&&(r=!0)}}));var u=aS(this),l=u.getValue();if(n){var c=jC(i.to);l===c&&!r||o.decay?r&&o.decay&&this._onChange(l):(u.setValue(c),this._onChange(c)),this._stop()}else r&&this._onChange(l)}},{key:"set",value:function(e){var t=this;return fx.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(eE(this)){var t=this.animation,n=t.to,r=t.config;fx.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return Nx.und(e)?(n=this.queue||[],this.queue=[]):n=[Nx.obj(e)?e:Yt(Yt({},t),{},{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return VS(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),HS(this._state,e&&this._lastCallId),fx.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,r=e.from;(null==(n=Nx.obj(n)?n[t]:n)||DS(n))&&(n=void 0),null==(r=Nx.obj(r)?r[t]:r)&&(r=void 0);var i={to:n,from:r};if(!ZS(this)){if(e.reverse){var a=[r,n];n=a[0],r=a[1]}r=jC(r),Nx.und(r)?aS(this)||this._set(n):this._set(r)}return i}},{key:"_update",value:function(e,t){var n=this,r=Object.assign({},e),i=this.key,a=this.defaultProps;r.default&&Object.assign(a,ES(r,(function(e,t){return/^on/.test(t)?xS(e,i):e}))),hE(this,r,"onProps"),fE(this,"onProps",r,this);var o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var s=this._state;return BS(++this._lastCallId,{key:i,props:r,defaultProps:a,state:s,actions:{pause:function(){tE(n)||(rE(n,!0),Ux(s.pauseQueue),fE(n,"onPause",GS(n,aE(n,n.animation.to)),n))},resume:function(){tE(n)&&(rE(n,!1),eE(n)&&n._resume(),Ux(s.resumeQueue),fE(n,"onResume",GS(n,aE(n,n.animation.to)),n))},start:this._merge.bind(this,o)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var i=oE(r);if(i)return n._update(i,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r=this;if(t.cancel)return this.stop(!0),n(qS(this));var i=!Nx.und(e.to),a=!Nx.und(e.from);if(i||a){if(!(t.callId>this._lastToId))return n(qS(this));this._lastToId=t.callId}var o=this.key,s=this.defaultProps,u=this.animation,l=u.to,c=u.from,h=e.to,f=void 0===h?l:h,d=e.from,p=void 0===d?c:d;if(!a||i||t.default&&!Nx.und(f)||(f=p),t.reverse){var m=[p,f];f=m[0],p=m[1]}var v=!Ax(p,c);v&&(u.from=p),p=jC(p);var g=!Ax(f,l);g&&this._focus(f);var y=DS(t.to),_=u.config,k=_.decay,w=_.velocity;(i||a)&&(_.velocity=0),t.config&&!y&&function(e,t,n){for(var r in n&&(OS(n=Yt({},n),t),t=Yt(Yt({},n),t)),OS(e,t),Object.assign(e,t),MS)null==e[r]&&(e[r]=MS[r]);var i=e.frequency,a=e.damping,o=e.mass;Nx.und(i)||(i<.01&&(i=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/i,2)*o,e.friction=4*Math.PI*a*o/i)}(_,wS(t.config,o),t.config!==s.config?wS(s.config,o):void 0);var b=aS(this);if(!b||Nx.und(f))return n(GS(this,!0));var x=Nx.und(t.reset)?a&&!t.default:!Nx.und(p)&&bS(t.reset,o),C=x?p:this.get(),S=NS(f),E=Nx.num(S)||Nx.arr(S)||XC(S),T=!y&&(!E||bS(s.immediate||t.immediate,o));if(g){var I=mS(f);if(I!==b.constructor){if(!T)throw Error("Cannot animate between ".concat(b.constructor.name," and ").concat(I.name,', as the "to" prop suggests'));b=this._set(S)}}var j=b.constructor,N=IC(f),A=!1;if(!N){var D=x||!ZS(this)&&v;(g||D)&&(N=!(A=Ax(NS(C),S))),(Ax(u.immediate,T)||T)&&Ax(_.decay,k)&&Ax(_.velocity,w)||(N=!0)}if(A&&eE(this)&&(u.changed&&!x?N=!0:N||this._stop(l)),!y&&((N||IC(l))&&(u.values=b.getPayload(),u.toValues=IC(f)?null:j==cS?[1]:Rx(S)),u.immediate!=T&&(u.immediate=T,T||x||this._set(l)),N)){var P=u.onRest;Dx(cE,(function(e){return hE(r,t,e)}));var R=GS(this,aE(this,l));Ux(this._pendingCalls,R),this._pendingCalls.add(n),u.changed&&fx.batchedUpdates((function(){var e;(u.changed=!x,null===P||void 0===P||P(R,r),x)?wS(s.onRest,R):null===(e=u.onStart)||void 0===e||e.call(u,R,r)}))}x&&this._set(C),y?n(WS(t.to,t,this._state,this)):N?this._start():eE(this)&&!g?this._pendingCalls.add(n):n(zS(C))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&(NC(this)&&this._detach(),t.to=e,NC(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;IC(t)&&(RC(t,this),QS(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;IC(e)&&MC(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=jC(e);if(!Nx.und(r)){var i=aS(this);if(!i||!Ax(r,i.getValue())){var a=mS(r);i&&i.constructor==a?i.setValue(r):oS(this,a.create(r)),i&&fx.batchedUpdates((function(){t._onChange(r,n)}))}}return aS(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,fE(this,"onStart",GS(this,aE(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),wS(this.animation.onChange,e,this)),wS(this.defaultProps.onChange,e,this),$e(_(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;aS(this).reset(jC(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),eE(this)||(nE(this,!0),tE(this)||this._resume())}},{key:"_resume",value:function(){cx.skipAnimation?this.finish():Jx.start(this)}},{key:"_stop",value:function(e,t){if(eE(this)){nE(this,!1);var n=this.animation;Dx(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),AC(this,{type:"idle",parent:this});var r=t?qS(this.get()):GS(this.get(),aE(this,null!==e&&void 0!==e?e:n.to));Ux(this._pendingCalls,r),n.changed&&(n.changed=!1,fE(this,"onRest",r,this))}}}]),n}(YS);function aE(e,t){var n=NS(t);return Ax(NS(e.get()),n)}function oE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=wS(t);if(r){var i=!0!==r&&jS(r),a=(i||e).reverse,o=!i||i.reset;return sE(Yt(Yt({},e),{},{loop:t,default:!1,pause:void 0,to:!a||DS(n)?n:void 0,from:o?e.from:void 0,reset:o},i))}}function sE(e){var t=e=jS(e),n=t.to,r=t.from,i=new Set;return Nx.obj(n)&&lE(n,i),Nx.obj(r)&&lE(r,i),e.keys=i.size?Array.from(i):null,e}function uE(e){var t=sE(e);return Nx.und(t.default)&&(t.default=ES(t)),t}function lE(e,t){Px(e,(function(e,n){return null!=e&&t.add(n)}))}var cE=["onStart","onRest","onChange","onPause","onResume"];function hE(e,t,n){e.animation[n]=t[n]!==CS(t,n)?xS(t[n],e.key):void 0}function fE(e,t){for(var n,r,i,a,o=arguments.length,s=new Array(o>2?o-2:0),u=2;u<o;u++)s[u-2]=arguments[u];null===(n=(r=e.animation)[t])||void 0===n||n.call.apply(n,[r].concat(s)),null===(i=(a=e.defaultProps)[t])||void 0===i||i.call.apply(i,[a].concat(s))}var dE=["onStart","onChange","onRest"],pE=1,mE=function(){function e(t,n){p(this,e),this.id=pE++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(Yt({default:!0},t))}return v(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle&&!e.isDelayed&&!e.isPaused}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];Nx.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(sE(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=Rx(e).map(sE):this.queue=[],this._flush?this._flush(this,t):(xE(this,t),vE(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;Dx(Rx(t),(function(t){return n[t].stop(!!e)}))}else HS(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(Nx.und(e))this.start({pause:!0});else{var t=this.springs;Dx(Rx(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(Nx.und(e))this.start({pause:!1});else{var t=this.springs;Dx(Rx(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){Px(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,i=t.onRest,a=this._active.size>0,o=this._changed.size>0;(a&&!this._started||o&&!this._started)&&(this._started=!0,Mx(n,(function(t){var n=u(t,2),r=n[0],i=n[1];i.value=e.get(),r(i,e,e._item)})));var s=!a&&this._started,l=o||s&&i.size?this.get():null;o&&r.size&&Mx(r,(function(t){var n=u(t,2),r=n[0],i=n[1];i.value=l,r(i,e,e._item)})),s&&(this._started=!1,Mx(i,(function(t){var n=u(t,2),r=n[0],i=n[1];i.value=l,r(i,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}fx.onFrame(this._onFrame)}}]),e}();function vE(e,t){return Promise.all(t.map((function(t){return gE(e,t)}))).then((function(t){return VS(e,t)}))}function gE(e,t,n){return yE.apply(this,arguments)}function yE(){return yE=Je(He().mark((function e(t,n,r){var i,a,o,s,u,l,c,h,f,d,p,m,v;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.keys,a=n.to,o=n.from,s=n.loop,u=n.onRest,l=n.onResolve,c=Nx.obj(n.default)&&n.default,s&&(n.loop=!1),!1===a&&(n.to=null),!1===o&&(n.from=null),(h=Nx.arr(a)||Nx.fun(a)?a:void 0)?(n.to=void 0,n.onRest=void 0,c&&(c.onRest=void 0)):Dx(dE,(function(e){var r=n[e];if(Nx.fun(r)){var i=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,a=i.get(r);a?(t||(a.finished=!1),n&&(a.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},c&&(c[e]=n[e])}})),f=t._state,n.pause===!f.paused?(f.paused=n.pause,Ux(n.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(n.pause=!0),d=(i||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),p=!0===n.cancel||!0===CS(n,"cancel"),(h||p&&f.asyncId)&&d.push(BS(++t._lastAsyncId,{props:n,state:f,actions:{pause:jx,resume:jx,start:function(e,n){p?(HS(f,t._lastAsyncId),n(qS(t))):(e.onRest=u,n(WS(h,e,f,t)))}}})),!f.paused){e.next=15;break}return e.next=15,new Promise((function(e){f.resumeQueue.add(e)}));case 15:return e.t0=VS,e.t1=t,e.next=19,Promise.all(d);case 19:if(e.t2=e.sent,m=(0,e.t0)(e.t1,e.t2),!s||!m.finished||r&&m.noop){e.next=26;break}if(!(v=oE(n,s,a))){e.next=26;break}return xE(t,[v]),e.abrupt("return",gE(t,v,!0));case 26:return l&&fx.batchedUpdates((function(){return l(m,t,t.item)})),e.abrupt("return",m);case 28:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function _E(e,t){var n=Yt({},e.springs);return t&&Dx(Rx(t),(function(e){Nx.und(e.keys)&&(e=sE(e)),Nx.obj(e.to)||(e=Yt(Yt({},e),{},{to:void 0})),bE(n,e,(function(e){return wE(e)}))})),kE(e,n),n}function kE(e,t){Px(t,(function(t,n){e.springs[n]||(e.springs[n]=t,RC(t,e))}))}function wE(e,t){var n=new iE;return n.key=e,t&&RC(n,t),n}function bE(e,t,n){t.keys&&Dx(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function xE(e,t){Dx(t,(function(t){bE(e.springs,t,(function(t){return wE(t,e)}))}))}var CE=function(t){var n=t.children,r=ux(t,kS),i=(0,e.useContext)(SE),a=r.pause||!!i.pause,o=r.immediate||!!i.immediate;r=function(t,n){var r=u((0,e.useState)((function(){return{inputs:n,result:t()}})),1)[0],i=(0,e.useRef)(),a=i.current,o=a;return o?Boolean(n&&o.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(n,o.inputs))||(o={inputs:n,result:t()}):o=r,(0,e.useEffect)((function(){i.current=o,a==r&&(r.inputs=r.result=void 0)}),[o]),o.result}((function(){return{pause:a,immediate:o}}),[a,o]);var s=SE.Provider;return e.createElement(s,{value:r},n)},SE=function(t,n){return Object.assign(t,e.createContext(n)),t.Provider._context=t,t.Consumer._context=t,t}(CE,{});CE.Provider=SE.Provider,CE.Consumer=SE.Consumer;var EE=function(){var e=[],t=function(t){YC("".concat(KC,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));var r=[];return Dx(e,(function(e,i){if(Nx.und(t))r.push(e.start());else{var a=n(t,e,i);a&&r.push(e.start(a))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return Dx(e,(function(e){return e.pause.apply(e,d(t))})),this},t.resume=function(){var t=arguments;return Dx(e,(function(e){return e.resume.apply(e,d(t))})),this},t.set=function(t){Dx(e,(function(e,n){var r=Nx.fun(t)?t(n,e):t;r&&e.set(r)}))},t.start=function(t){var n=this,r=[];return Dx(e,(function(e,i){if(Nx.und(t))r.push(e.start());else{var a=n._getProps(t,e,i);a&&r.push(e.start(a))}})),r},t.stop=function(){var t=arguments;return Dx(e,(function(e){return e.stop.apply(e,d(t))})),this},t.update=function(t){var n=this;return Dx(e,(function(e,r){return e.update(n._getProps(t,e,r))})),this};var n=function(e,t,n){return Nx.fun(e)?e(n,t):e};return t._getProps=n,t};function TE(t,n,r){var i=arguments,a=Nx.fun(n)&&n;a&&!r&&(r=[]);var o=(0,e.useMemo)((function(){return a||3==i.length?EE():void 0}),[]),s=(0,e.useRef)(0),u=eS(),l=(0,e.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=_E(e,t);return s.current>0&&!l.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}))?vE(e,t):new Promise((function(r){kE(e,n),l.queue.push((function(){r(vE(e,t))})),u()}))}}}),[]),c=(0,e.useRef)(d(l.ctrls)),h=[],f=rS(t)||0;function p(e,t){for(var r=e;r<t;r++){var i=c.current[r]||(c.current[r]=new mE(null,l.flush)),o=a?a(r,i):n[r];o&&(h[r]=uE(o))}}(0,e.useMemo)((function(){Dx(c.current.slice(t,f),(function(e){PS(e,o),e.stop(!0)})),c.current.length=t,p(f,t)}),[t]),(0,e.useMemo)((function(){p(0,Math.min(f,t))}),r);var m=c.current.map((function(e,t){return _E(e,h[t])})),v=(0,e.useContext)(CE),g=rS(v),y=v!==g&&AS(v);ZC((function(){s.current++,l.ctrls=c.current;var e=l.queue;e.length&&(l.queue=[],Dx(e,(function(e){return e()}))),Dx(c.current,(function(e,t){null===o||void 0===o||o.add(e),y&&e.start({default:v});var n=h[t];n&&(RS(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),tS((function(){return function(){Dx(l.ctrls,(function(e){return e.stop(!0)}))}}));var _=m.map((function(e){return Yt({},e)}));return o?[_,o]:_}function IE(e,t){var n=Nx.fun(e),r=TE(1,n?e:[e],n?t||[]:t),i=u(r,2),a=u(i[0],1),o=a[0],s=i[1];return n||2==arguments.length?[o,s]:o}var jE=function(e){y(n,e);var t=C(n);function n(e,r){var i;p(this,n),(i=t.call(this)).source=e,i.idle=!0,i._active=new Set,i.calc=yC.apply(void 0,d(r));var a=i._get(),o=mS(a);return oS(b(i),o.create(a)),i}return v(n,[{key:"advance",value:function(e){var t=this._get();Ax(t,this.get())||(aS(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&AE(this._active)&&DE(this)}},{key:"_get",value:function(){var e=Nx.arr(this.source)?this.source.map(jC):Rx(jC(this.source));return this.calc.apply(this,d(e))}},{key:"_start",value:function(){var e=this;this.idle&&!AE(this._active)&&(this.idle=!1,Dx(sS(this),(function(e){e.done=!1})),cx.skipAnimation?(fx.batchedUpdates((function(){return e.advance()})),DE(this)):Jx.start(this))}},{key:"_attach",value:function(){var e=this,t=1;Dx(Rx(this.source),(function(n){IC(n)&&RC(n,e),QS(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;Dx(Rx(this.source),(function(t){IC(t)&&MC(t,e)})),this._active.clear(),DE(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Rx(this.source).reduce((function(e,t){return Math.max(e,(QS(t)?t.priority:0)+1)}),0))}}]),n}(YS);function NE(e){return!1!==e.idle}function AE(e){return!e.size||Array.from(e).every(NE)}function DE(e){e.idle||(e.idle=!0,Dx(sS(e),(function(e){e.done=!0})),AC(e,{type:"idle",parent:e}))}var PE=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new jE(e,n)};cx.assign({createStringInterpolator:HC,to:function(e,t){return new jE(e,t)}});Jx.advance;var RE=["style","children","scrollTop","scrollLeft","viewBox"],ME=["x","y","z"],LE=["scrollTop","scrollLeft"],OE=/^--/;function UE(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||OE.test(e)||BE.hasOwnProperty(e)&&BE[e]?(""+t).trim():t+"px"}var FE={};var BE={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VE=["Webkit","Ms","Moz","O"];BE=Object.keys(BE).reduce((function(e,t){return VE.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),BE);var zE=/^(matrix|translate|scale|rotate|skew)/,GE=/^(translate)/,qE=/^(rotate|skew)/,WE=function(e,t){return Nx.num(e)&&0!==e?e+t:e},HE=function e(t,n){return Nx.arr(t)?t.every((function(t){return e(t,n)})):Nx.num(t)?t===n:parseFloat(t)===n},KE=function(e){y(n,e);var t=C(n);function n(e){var r=e.x,i=e.y,a=e.z,o=ux(e,ME);p(this,n);var s=[],l=[];return(r||i||a)&&(s.push([r||0,i||0,a||0]),l.push((function(e){return["translate3d(".concat(e.map((function(e){return WE(e,"px")})).join(","),")"),HE(e,0)]}))),Px(o,(function(e,t){if("transform"===t)s.push([e||""]),l.push((function(e){return[e,""===e]}));else if(zE.test(t)){if(delete o[t],Nx.und(e))return;var n=GE.test(t)?"px":qE.test(t)?"deg":"";s.push(Rx(e)),l.push("rotate3d"===t?function(e){var t=u(e,4),r=t[0],i=t[1],a=t[2],o=t[3];return["rotate3d(".concat(r,",").concat(i,",").concat(a,",").concat(WE(o,n),")"),HE(o,0)]}:function(e){return["".concat(t,"(").concat(e.map((function(e){return WE(e,n)})).join(","),")"),HE(e,t.startsWith("scale")?1:0)]})}})),s.length&&(o.transform=new JE(s,l)),t.call(this,o)}return v(n)}(fS),JE=function(e){y(n,e);var t=C(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).inputs=e,i.transforms=r,i._value=null,i}return v(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return Dx(this.inputs,(function(r,i){var a=jC(r[0]),o=u(e.transforms[i](Nx.arr(a)?a:r.map(jC)),2),s=o[0],l=o[1];t+=" "+s,n=n&&l})),n?"none":t}},{key:"observerAdded",value:function(e){var t=this;1==e&&Dx(this.inputs,(function(e){return Dx(e,(function(e){return IC(e)&&RC(e,t)}))}))}},{key:"observerRemoved",value:function(e){var t=this;0==e&&Dx(this.inputs,(function(e){return Dx(e,(function(e){return IC(e)&&MC(e,t)}))}))}},{key:"eventObserved",value:function(e){"change"==e.type&&(this._value=null),AC(this,e)}}]),n}(DC);cx.assign({batchedUpdates:c.unstable_batchedUpdates,createStringInterpolator:HC,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var QE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,a=void 0===i?function(e){return new fS(e)}:i,o=t.getComponentProps,s=void 0===o?function(e){return e}:o,u={applyAnimatedValues:r,createAnimatedStyle:a,getComponentProps:s},l=function e(t){var n=_S(t)||"Anonymous";return(t=Nx.str(t)?e[t]||(e[t]=vS(t,u)):t[yS]||(t[yS]=vS(t,u))).displayName="Animated(".concat(n,")"),t};return Px(e,(function(t,n){Nx.arr(e)&&(n=_S(t)),l[n]=l(t)})),{animated:l}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t.style,i=t.children,a=t.scrollTop,o=t.scrollLeft,s=t.viewBox,u=ux(t,RE),l=Object.values(u),c=Object.keys(u).map((function(t){return n||e.hasAttribute(t)?t:FE[t]||(FE[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));for(var h in void 0!==i&&(e.textContent=i),r)if(r.hasOwnProperty(h)){var f=UE(h,r[h]);OE.test(h)?e.style.setProperty(h,f):e.style[h]=f}c.forEach((function(t,n){e.setAttribute(t,l[n])})),void 0!==a&&(e.scrollTop=a),void 0!==o&&(e.scrollLeft=o),void 0!==s&&e.setAttribute("viewBox",s)},createAnimatedStyle:function(e){return new KE(e)},getComponentProps:function(e){e.scrollTop,e.scrollLeft;return ux(e,LE)}}),$E=QE.animated,YE=n.p+"static/media/card-back.8fec901b131ffc01b12e.jpg";var XE=function(t){var n=t.deck,r=t.cardIndex,i=t.placeholder,a=t.flip,o=t.position,s=t.backToChosenCards,l=t.highlight,c=u((0,e.useState)({width:80,height:112}),2),h=c[0],f=c[1],d=o,p=u(IE((function(){return{boxShadow:"0 12.5px 10px -10px rgba(50, 50, 73, 0.4)",opacity:1,transform:"perspective(600px) rotateY(0deg) scale(1)",zIndex:0,config:{mass:5,tension:300,friction:100}}})),2),m=p[0],v=m.transform,g=m.opacity,y=m.zIndex,_=m.boxShadow,k=p[1];(0,e.useEffect)((function(){k({transform:"perspective(600px) rotateY(".concat(a?180:0,"deg) scale(").concat(a?1.3:1,") translateY(").concat(a?d:"0px",")"),zIndex:a?10:0,opacity:a?1:0,immediate:function(e){return"zIndex"===e}}),s&&k({transform:"perspective(600px) rotateY(180deg) scale(1) translateY(0px)",zIndex:0})}),[a,s,k,d]),(0,e.useEffect)((function(){l&&(k({boxShadow:"0 0 20px 10px gold",transform:"perspective(600px) rotateY(180deg) scale(1.3) translateY(".concat(d,")"),zIndex:100,immediate:function(e){return"zIndex"===e}}),setTimeout((function(){k({boxShadow:"0 12.5px 10px -10px rgba(50, 50, 73, 0.4)",transform:"perspective(600px) rotateY(180deg) scale(1) translateY(0px)",zIndex:10})}),1500))}),[l]),(0,e.useEffect)((function(){function e(){var e=Math.min(window.innerHeight/7.7,100),t=Math.min(window.innerHeight/5.5,140);f({width:e,height:t})}return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var w={position:"relative",width:h.width,height:h.height,zIndex:y},b={position:"absolute",display:"flex",borderStyle:"solid",borderWidth:"4px",borderRadius:"4px",borderColor:"white",boxShadow:_,width:"100%",height:"100%",backfaceVisibility:"hidden",backgroundImage:"url(".concat(YE,")"),opacity:g.to((function(e){return 1-e})),transform:v,transformStyle:"preserve-3d"};return i?(0,tx.jsx)("div",{style:{width:h.width,height:h.height,borderStyle:"dashed",borderWidth:"2px",borderColor:"white",borderRadius:"8px"}}):(0,tx.jsxs)($E.div,{style:w,children:[(0,tx.jsx)($E.div,{className:"card",style:Yt(Yt({},b),{},{backgroundImage:"url(".concat(YE,")"),opacity:g.to((function(e){return 1-e}))})}),(0,tx.jsx)($E.div,{className:"card "+(l?"highlight":""),style:Yt(Yt({},b),{},{backgroundImage:"url(".concat(n[r].imageUrl,")"),opacity:g,rotateY:"180deg"}),children:!1})]})},ZE=function(t){var n=t.score,r=t.onRest,i=u(IE((function(){return{transform:"scale(1)",onRest:r}})),2),a=i[0],o=i[1];return(0,e.useEffect)((function(){o({transform:"scale(1.5)"});var e=setTimeout((function(){o({transform:"scale(1)"})}),500);return function(){return clearTimeout(e)}}),[o]),(0,tx.jsx)($E.div,{style:Yt(Yt({},a),{},{position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"}),children:n})},eT=function(t){var n=t.gameData,r=t.gameRef,i=t.players,a=t.deck,o=n.currentRound,s=o%i.length,l=i[s].name,c=u((0,e.useState)(null),2),h=c[0],f=c[1],p=u((0,e.useState)(null),2),m=p[0],v=p[1],g=u((0,e.useState)({stage:"",highlightedCard:null,cardIndex:0,playerIndex:0,score:0,startPosition:{x:0,y:0},endPosition:{x:0,y:0}}),2),y=g[0],_=g[1];(0,e.useEffect)((function(){var e=wp(r,"rounds");wm(cm(e,fm("roundNumber","==",o))).then((function(t){if(1===t.size){var n=t.docs[0].id,r=bp(e,n);Cm(r,(function(e){v(r),f(e.data())}))}else console.error("Invalid short ID.")}))}),[o,r]),(0,e.useEffect)((function(){var e=y.stage,t=y.cardIndex,n=y.playerIndex;"highlight"!==e||n>=i.length||function(){var e=i[n].chosenCards[t],r=function(e){for(var t=y.cardIndex,n=y.playerIndex,r=!1,a=0,o=0;o<i.length;o++)if(o!==n){var s=i[o].chosenCards;e===s[t]?(r=!0,a+=Zb(t,t)):-1!==s.indexOf(e)&&(r=!0,a+=Zb(t,s.indexOf(e)))}return h.players[n].roundScore+=a,{match:r,score:a}}(e);r.match?setTimeout((function(){_(Yt(Yt({},y),{},{highlightedCard:e,stage:"adjustScore",score:r.score}))}),500):_(Yt(Yt({},y),{},{highlightedCard:null,stage:"nextCard",score:0}))}()}),[y]),(0,e.useEffect)((function(){var e=y.stage;y.cardIndex,y.playerIndex,y.score;"adjustScore"===e&&setTimeout((function(){_(Yt(Yt({},y),{},{stage:"animateScore"}))}),100)}),[y]),(0,e.useEffect)((function(){var e=y.stage,t=y.cardIndex,n=y.playerIndex;if("nextCard"===e){var r=t+1,i=n,a=!1;4===t&&(i=n+1,r=0,a=!0);var o=Yt(Yt({},y),{},{cardIndex:r,playerIndex:i,stage:"highlight"});setTimeout((function(){_(o)}),a?500:0)}}),[y]),(0,e.useEffect)((function(){if(h&&6===h.flippedCards){var e=function(){var e=Je(He().mark((function e(){var t,n,r,a,o;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=d(i),n=0,r=function(e){var r=t[e];r.roundScore=0;var i=h.players.find((function(e){return e.name===r.name}));r.gameScore=i.gameScore,r.connections=i.connections;for(var a=0;a<t.length;a++)if(e!==a){var o=t[a],s=ex(r.chosenCards,o.chosenCards);r.roundScore+=s,r.connections&&r.connections[o.name]?r.connections[o.name]+=s:r.connections[o.name]=s,n+=r.connections[o.name]}r.gameScore+=r.roundScore},a=0;a<t.length;a++)r(a);return o=n/(t.length*(t.length-1)),e.prev=5,e.next=8,bm(m,{players:t,scoresCalculated:!0,connectionThreshold:o});case 8:console.log("Update successful"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.error("Error updating document: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(){return e.apply(this,arguments)}}();h.scoresCalculated||e()}}),[h]);var k=function(){setTimeout((function(){_(Yt(Yt({},y),{},{stage:"nextCard"}))}),500)};if(!h)return(0,tx.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,tx.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})});return(0,tx.jsxs)("div",{children:[(0,tx.jsx)(ax,{className:"max-w-screen-xl",round:o,phrase:function(){var e=h.phrase;return e?"Phrase: "+e:(0,tx.jsxs)("span",{children:["Waiting for ",(0,tx.jsx)("span",{className:"text-blue-500",children:l})," to choose the phrase"]})}()}),(0,tx.jsx)("div",{className:"max-w-screen-xl mx-auto mt-3",children:(0,tx.jsx)("div",{className:"grid grid-cols-2 gap-3",children:i.map((function(e,t){return(0,tx.jsxs)("div",{className:"flex bg-gray-800 text-gray-100 rounded shadow px-3 pt-2",style:{boxShadow:""},children:[(0,tx.jsx)("div",{className:"flex flex-col justify-between items-start",children:(0,tx.jsxs)("div",{className:"flex flex-col items-center mb-2",children:[(0,tx.jsx)("div",{className:"text-lg font-semibold w-20 mr-2 pb-2",children:e.name}),(0,tx.jsx)("div",{className:"text-sm w-20 mr-2 border-t-2 border-gray-100 pt-2",children:"Round"}),(0,tx.jsx)("div",{className:"relative text-md font-semibold w-20 mr-2 pb-2",children:"animateScore"===y.stage&&y.playerIndex===t?(0,tx.jsx)(ZE,{score:h.players[t].roundScore,onRest:k}):(0,tx.jsx)("div",{className:"absolute text-base",children:h.players[t].roundScore})}),(0,tx.jsx)("div",{className:"text-sm w-20 mr-2 border-t-2 border-gray-100 pt-2 mt-5",children:"Game"}),(0,tx.jsx)("div",{className:"text-md font-semibold w-20 mr-2",children:h.players[t].gameScore})]})}),(0,tx.jsx)("div",{className:"flex flex-col",children:(0,tx.jsx)("div",{className:"flex items-center mb-2",children:(0,tx.jsx)("div",{className:"flex-grow grid grid-cols-5 gap-1",children:5===e.chosenCards.length?e.chosenCards.map((function(e,n){return(0,tx.jsx)("div",{className:"p-1",children:(0,tx.jsx)(XE,{deck:a,cardIndex:e,flip:h.flippedCards>n,position:(r=t,10*Math.floor(r/2)-40+"px"),backToChosenCards:n+1<h.flippedCards,highlight:e===y.highlightedCard})},e);var r})):Array(5).fill().map((function(e,t){return(0,tx.jsx)("div",{className:"p-1",children:(0,tx.jsx)(XE,{placeholder:!0})},t)}))})})})]},t)}))})})]})},tT=function(){return(0,tx.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,tx.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})})};function nT(){}function rT(e){return null==e?nT:function(){return this.querySelector(e)}}function iT(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function aT(){return[]}function oT(e){return null==e?aT:function(){return this.querySelectorAll(e)}}function sT(e){return function(){return this.matches(e)}}function uT(e){return function(t){return t.matches(e)}}var lT=Array.prototype.find;function cT(){return this.firstElementChild}var hT=Array.prototype.filter;function fT(){return Array.from(this.children)}function dT(e){return new Array(e.length)}function pT(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function mT(e){return function(){return e}}function vT(e,t,n,r,i,a){for(var o,s=0,u=t.length,l=a.length;s<l;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new pT(e,a[s]);for(;s<u;++s)(o=t[s])&&(i[s]=o)}function gT(e,t,n,r,i,a,o){var s,u,l,c=new Map,h=t.length,f=a.length,d=new Array(h);for(s=0;s<h;++s)(u=t[s])&&(d[s]=l=o.call(u,u.__data__,s,t)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<f;++s)l=o.call(e,a[s],s,a)+"",(u=c.get(l))?(r[s]=u,u.__data__=a[s],c.delete(l)):n[s]=new pT(e,a[s]);for(s=0;s<h;++s)(u=t[s])&&c.get(d[s])===u&&(i[s]=u)}function yT(e){return e.__data__}function _T(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function kT(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}pT.prototype={constructor:pT,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var wT="http://www.w3.org/1999/xhtml",bT={svg:"http://www.w3.org/2000/svg",xhtml:wT,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xT(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),bT.hasOwnProperty(t)?{space:bT[t],local:e}:e}function CT(e){return function(){this.removeAttribute(e)}}function ST(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ET(e,t){return function(){this.setAttribute(e,t)}}function TT(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function IT(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function jT(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function NT(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function AT(e){return function(){this.style.removeProperty(e)}}function DT(e,t,n){return function(){this.style.setProperty(e,t,n)}}function PT(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function RT(e,t){return e.style.getPropertyValue(t)||NT(e).getComputedStyle(e,null).getPropertyValue(t)}function MT(e){return function(){delete this[e]}}function LT(e,t){return function(){this[e]=t}}function OT(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function UT(e){return e.trim().split(/^|\s+/)}function FT(e){return e.classList||new BT(e)}function BT(e){this._node=e,this._names=UT(e.getAttribute("class")||"")}function VT(e,t){for(var n=FT(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function zT(e,t){for(var n=FT(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function GT(e){return function(){VT(this,e)}}function qT(e){return function(){zT(this,e)}}function WT(e,t){return function(){(t.apply(this,arguments)?VT:zT)(this,e)}}function HT(){this.textContent=""}function KT(e){return function(){this.textContent=e}}function JT(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function QT(){this.innerHTML=""}function $T(e){return function(){this.innerHTML=e}}function YT(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function XT(){this.nextSibling&&this.parentNode.appendChild(this)}function ZT(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function eI(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===wT&&t.documentElement.namespaceURI===wT?t.createElement(e):t.createElementNS(n,e)}}function tI(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function nI(e){var t=xT(e);return(t.local?tI:eI)(t)}function rI(){return null}function iI(){var e=this.parentNode;e&&e.removeChild(this)}function aI(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function oI(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function sI(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function uI(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function lI(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function cI(e,t,n){var r=NT(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function hI(e,t){return function(){return cI(this,e,t)}}function fI(e,t){return function(){return cI(this,e,t.apply(this,arguments))}}BT.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var dI=He().mark(pI);function pI(){var e,t,n,r,i,a,o;return He().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:e=this._groups,t=0,n=e.length;case 1:if(!(t<n)){s.next=13;break}r=e[t],i=0,a=r.length;case 3:if(!(i<a)){s.next=10;break}if(!(o=r[i])){s.next=7;break}return s.next=7,o;case 7:++i,s.next=3;break;case 10:++t,s.next=1;break;case 13:case"end":return s.stop()}}),dI,this)}var mI=[null];function vI(e,t){this._groups=e,this._parents=t}function gI(){return new vI([[document.documentElement]],mI)}vI.prototype=gI.prototype=Ye({constructor:vI,select:function(e){"function"!==typeof e&&(e=rT(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=t[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(a=s[c])&&(o=e.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),l[c]=o);return new vI(r,this._parents)},selectAll:function(e){e="function"===typeof e?function(e){return function(){return iT(e.apply(this,arguments))}}(e):oT(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,s=t[a],u=s.length,l=0;l<u;++l)(o=s[l])&&(r.push(e.call(o,o.__data__,l,s)),i.push(o));return new vI(r,i)},selectChild:function(e){return this.select(null==e?cT:function(e){return function(){return lT.call(this.children,e)}}("function"===typeof e?e:uT(e)))},selectChildren:function(e){return this.selectAll(null==e?fT:function(e){return function(){return hT.call(this.children,e)}}("function"===typeof e?e:uT(e)))},filter:function(e){"function"!==typeof e&&(e=sT(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&u.push(a);return new vI(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,yT);var n=t?gT:vT,r=this._parents,i=this._groups;"function"!==typeof e&&(e=mT(e));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],h=i[l],f=h.length,d=_T(e.call(c,c&&c.__data__,l,r)),p=d.length,m=s[l]=new Array(p),v=o[l]=new Array(p),g=u[l]=new Array(f);n(c,h,m,v,g,d,t);for(var y,_,k=0,w=0;k<p;++k)if(y=m[k]){for(k>=w&&(w=k+1);!(_=v[w])&&++w<p;);y._next=_||null}}return(o=new vI(o,r))._enter=s,o._exit=u,o},enter:function(){return new vI(this._enter||this._groups.map(dT),this._parents)},exit:function(){return new vI(this._exit||this._groups.map(dT),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),u=0;u<o;++u)for(var l,c=n[u],h=r[u],f=c.length,d=s[u]=new Array(f),p=0;p<f;++p)(l=c[p]||h[p])&&(d[p]=l);for(;u<i;++u)s[u]=n[u];return new vI(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=kT);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],u=s.length,l=i[a]=new Array(u),c=0;c<u;++c)(o=s[c])&&(l[c]=o);l.sort(t)}return new vI(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var e,t=0,n=T(this);try{for(n.s();!(e=n.n()).done;){e.value;++t}}catch(r){n.e(r)}finally{n.f()}return t},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=xT(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?ST:CT:"function"===typeof t?n.local?jT:IT:n.local?TT:ET)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?AT:"function"===typeof t?PT:DT)(e,t,null==n?"":n)):RT(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?MT:"function"===typeof t?OT:LT)(e,t)):this.node()[e]},classed:function(e,t){var n=UT(e+"");if(arguments.length<2){for(var r=FT(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?WT:t?GT:qT)(n,t))},text:function(e){return arguments.length?this.each(null==e?HT:("function"===typeof e?JT:KT)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?QT:("function"===typeof e?YT:$T)(e)):this.node().innerHTML},raise:function(){return this.each(XT)},lower:function(){return this.each(ZT)},append:function(e){var t="function"===typeof e?e:nI(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:nI(e),r=null==t?rI:"function"===typeof t?t:rT(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(iI)},clone:function(e){return this.select(e?oI:aI)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=sI(e+""),o=a.length;if(!(arguments.length<2)){for(s=t?lI:uI,r=0;r<o;++r)this.each(s(a[r],t,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<o;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(e,t){return this.each(("function"===typeof t?fI:hI)(e,t))}},Symbol.iterator,pI);var yI=gI,_I={value:function(){}};function kI(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new wI(r)}function wI(e){this._=e}function bI(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function xI(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function CI(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=_I,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}wI.prototype=kI.prototype={constructor:wI,on:function(e,t){var n,r=this._,i=bI(e+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=CI(r[n],e.name,t);else if(null==t)for(n in r)r[n]=CI(r[n],e.name,null);return this}for(;++a<o;)if((n=(e=i[a]).type)&&(n=xI(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new wI(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var SI,EI,TI=kI,II=0,jI=0,NI=0,AI=0,DI=0,PI=0,RI="object"===typeof performance&&performance.now?performance:Date,MI="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function LI(){return DI||(MI(OI),DI=RI.now()+PI)}function OI(){DI=0}function UI(){this._call=this._time=this._next=null}function FI(e,t,n){var r=new UI;return r.restart(e,t,n),r}function BI(){DI=(AI=RI.now())+PI,II=jI=0;try{!function(){LI(),++II;for(var e,t=SI;t;)(e=DI-t._time)>=0&&t._call.call(void 0,e),t=t._next;--II}()}finally{II=0,function(){var e,t,n=SI,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:SI=t);EI=e,zI(r)}(),DI=0}}function VI(){var e=RI.now(),t=e-AI;t>1e3&&(PI-=t,AI=e)}function zI(e){II||(jI&&(jI=clearTimeout(jI)),e-DI>24?(e<1/0&&(jI=setTimeout(BI,e-RI.now()-PI)),NI&&(NI=clearInterval(NI))):(NI||(AI=RI.now(),NI=setInterval(VI,1e3)),II=1,MI(BI)))}function GI(e,t,n){var r=new UI;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r}UI.prototype=FI.prototype={constructor:UI,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?LI():+n)+(null==t?0:+t),this._next||EI===this||(EI?EI._next=this:SI=this,EI=this),this._call=e,this._time=n,zI()},stop:function(){this._call&&(this._call=null,this._time=1/0,zI())}};var qI=TI("start","end","cancel","interrupt"),WI=[];function HI(e,t,n,r,i,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(a){var l,c,h,f;if(1!==n.state)return u();for(l in i)if((f=i[l]).name===n.name){if(3===f.state)return GI(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[l]):+l<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[l])}if(GI((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function s(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(u),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=FI(a,0,n.time)}(e,n,{name:t,index:r,group:i,on:qI,tween:WI,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function KI(e,t){var n=QI(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function JI(e,t){var n=QI(e,t);if(n.state>3)throw new Error("too late; already running");return n}function QI(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function $I(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var YI,XI=180/Math.PI,ZI={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ej(e,t,n,r,i,a){var o,s,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*XI,skewX:Math.atan(u)*XI,scaleX:o,scaleY:s}}function tj(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var s=[],u=[];return a=e(a),o=e(o),function(e,r,i,a,o,s){if(e!==i||r!==a){var u=o.push("translate(",null,t,null,n);s.push({i:u-4,x:$I(e,i)},{i:u-2,x:$I(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,u),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:$I(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,s,u),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:$I(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,s,u),function(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:$I(e,n)},{i:s-2,x:$I(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,u),a=o=null,function(e){for(var t,n=-1,r=u.length;++n<r;)s[(t=u[n]).i]=t.x(e);return s.join("")}}}var nj=tj((function(e){var t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ZI:ej(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),rj=tj((function(e){return null==e?ZI:(YI||(YI=document.createElementNS("http://www.w3.org/2000/svg","g")),YI.setAttribute("transform",e),(e=YI.transform.baseVal.consolidate())?ej((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):ZI)}),", ",")",")");function ij(e,t){var n,r;return function(){var i=JI(this,e),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function aj(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var a=JI(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}function oj(e,t,n){var r=e._id;return e.each((function(){var e=JI(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return QI(e,r).value[t]}}function sj(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function uj(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function lj(){}var cj=.7,hj=1/cj,fj="\\s*([+-]?\\d+)\\s*",dj="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pj="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mj=/^#([0-9a-f]{3,8})$/,vj=new RegExp("^rgb\\(".concat(fj,",").concat(fj,",").concat(fj,"\\)$")),gj=new RegExp("^rgb\\(".concat(pj,",").concat(pj,",").concat(pj,"\\)$")),yj=new RegExp("^rgba\\(".concat(fj,",").concat(fj,",").concat(fj,",").concat(dj,"\\)$")),_j=new RegExp("^rgba\\(".concat(pj,",").concat(pj,",").concat(pj,",").concat(dj,"\\)$")),kj=new RegExp("^hsl\\(".concat(dj,",").concat(pj,",").concat(pj,"\\)$")),wj=new RegExp("^hsla\\(".concat(dj,",").concat(pj,",").concat(pj,",").concat(dj,"\\)$")),bj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xj(){return this.rgb().formatHex()}function Cj(){return this.rgb().formatRgb()}function Sj(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=mj.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Ej(t):3===n?new Nj(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Tj(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Tj(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=vj.exec(e))?new Nj(t[1],t[2],t[3],1):(t=gj.exec(e))?new Nj(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=yj.exec(e))?Tj(t[1],t[2],t[3],t[4]):(t=_j.exec(e))?Tj(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=kj.exec(e))?Lj(t[1],t[2]/100,t[3]/100,1):(t=wj.exec(e))?Lj(t[1],t[2]/100,t[3]/100,t[4]):bj.hasOwnProperty(e)?Ej(bj[e]):"transparent"===e?new Nj(NaN,NaN,NaN,0):null}function Ej(e){return new Nj(e>>16&255,e>>8&255,255&e,1)}function Tj(e,t,n,r){return r<=0&&(e=t=n=NaN),new Nj(e,t,n,r)}function Ij(e){return e instanceof lj||(e=Sj(e)),e?new Nj((e=e.rgb()).r,e.g,e.b,e.opacity):new Nj}function jj(e,t,n,r){return 1===arguments.length?Ij(e):new Nj(e,t,n,null==r?1:r)}function Nj(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Aj(){return"#".concat(Mj(this.r)).concat(Mj(this.g)).concat(Mj(this.b))}function Dj(){var e=Pj(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Rj(this.r),", ").concat(Rj(this.g),", ").concat(Rj(this.b)).concat(1===e?")":", ".concat(e,")"))}function Pj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Rj(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Mj(e){return((e=Rj(e))<16?"0":"")+e.toString(16)}function Lj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Uj(e,t,n,r)}function Oj(e){if(e instanceof Uj)return new Uj(e.h,e.s,e.l,e.opacity);if(e instanceof lj||(e=Sj(e)),!e)return new Uj;if(e instanceof Uj)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new Uj(o,s,u,e.opacity)}function Uj(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Fj(e){return(e=(e||0)%360)<0?e+360:e}function Bj(e){return Math.max(0,Math.min(1,e||0))}function Vj(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function zj(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}sj(lj,Sj,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:xj,formatHex:xj,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Oj(this).formatHsl()},formatRgb:Cj,toString:Cj}),sj(Nj,jj,uj(lj,{brighter:function(e){return e=null==e?hj:Math.pow(hj,e),new Nj(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?cj:Math.pow(cj,e),new Nj(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new Nj(Rj(this.r),Rj(this.g),Rj(this.b),Pj(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Aj,formatHex:Aj,formatHex8:function(){return"#".concat(Mj(this.r)).concat(Mj(this.g)).concat(Mj(this.b)).concat(Mj(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Dj,toString:Dj})),sj(Uj,(function(e,t,n,r){return 1===arguments.length?Oj(e):new Uj(e,t,n,null==r?1:r)}),uj(lj,{brighter:function(e){return e=null==e?hj:Math.pow(hj,e),new Uj(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?cj:Math.pow(cj,e),new Uj(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Nj(Vj(e>=240?e-240:e+120,i,r),Vj(e,i,r),Vj(e<120?e+240:e-120,i,r),this.opacity)},clamp:function(){return new Uj(Fj(this.h),Bj(this.s),Bj(this.l),Pj(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=Pj(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Fj(this.h),", ").concat(100*Bj(this.s),"%, ").concat(100*Bj(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));var Gj=function(e){return function(){return e}};function qj(e,t){return function(n){return e+n*t}}function Wj(e){return 1===(e=+e)?Hj:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Gj(isNaN(t)?n:t)}}function Hj(e,t){var n=t-e;return n?qj(e,n):Gj(isNaN(e)?t:e)}var Kj=function e(t){var n=Wj(t);function r(e,t){var r=n((e=jj(e)).r,(t=jj(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=Hj(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function Jj(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=jj(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}Jj((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return zj((n-r/t)*t,o,i,a,s)}})),Jj((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return zj((n-r/t)*t,i,a,o,s)}}));var Qj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$j=new RegExp(Qj.source,"g");function Yj(e,t){var n,r,i,a=Qj.lastIndex=$j.lastIndex=0,o=-1,s=[],u=[];for(e+="",t+="";(n=Qj.exec(e))&&(r=$j.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:$I(n,r)})),a=$j.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function Xj(e,t){var n;return("number"===typeof t?$I:t instanceof Sj?Kj:(n=Sj(t))?(t=n,Kj):Yj)(e,t)}function Zj(e){return function(){this.removeAttribute(e)}}function eN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function tN(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function nN(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function rN(e,t,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttribute(e))===(s=u+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,u));this.removeAttribute(e)}}function iN(e,t,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttributeNS(e.space,e.local))===(s=u+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,u));this.removeAttributeNS(e.space,e.local)}}function aN(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function oN(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function sN(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&oN(e,i)),n}return i._value=t,i}function uN(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&aN(e,i)),n}return i._value=t,i}function lN(e,t){return function(){KI(this,e).delay=+t.apply(this,arguments)}}function cN(e,t){return t=+t,function(){KI(this,e).delay=t}}function hN(e,t){return function(){JI(this,e).duration=+t.apply(this,arguments)}}function fN(e,t){return t=+t,function(){JI(this,e).duration=t}}function dN(e,t){if("function"!==typeof t)throw new Error;return function(){JI(this,e).ease=t}}function pN(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?KI:JI;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}var mN=yI.prototype.constructor;function vN(e){return function(){this.style.removeProperty(e)}}function gN(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function yN(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&gN(e,a,n)),r}return a._value=t,a}function _N(e){return function(t){this.textContent=e.call(this,t)}}function kN(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&_N(r)),t}return r._value=e,r}var wN=0;function bN(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function xN(){return++wN}var CN=yI.prototype;bN.prototype=function(e){return yI().transition(e)}.prototype=Ye({constructor:bN,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=rT(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,u,l=r[o],c=l.length,h=a[o]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=e.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,HI(h[f],t,n,f,h,QI(s,n)));return new bN(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=oT(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,d=e.call(u,u.__data__,h,l),p=QI(u,n),m=0,v=d.length;m<v;++m)(f=d[m])&&HI(f,t,n,m,d,p);a.push(d),o.push(u)}return new bN(a,o,t,n)},selectChild:CN.selectChild,selectChildren:CN.selectChildren,filter:function(e){"function"!==typeof e&&(e=sT(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&u.push(a);return new bN(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,l=t[s],c=n[s],h=l.length,f=o[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<r;++s)o[s]=t[s];return new bN(o,this._parents,this._name,this._id)},selection:function(){return new mN(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=xN(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)if(o=s[l]){var c=QI(o,t);HI(o,e,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new bN(r,this._parents,e,n)},call:CN.call,nodes:CN.nodes,node:CN.node,size:CN.size,empty:CN.empty,each:CN.each,on:function(e,t){var n=this._id;return arguments.length<2?QI(this.node(),n).on.on(e):this.each(pN(n,e,t))},attr:function(e,t){var n=xT(e),r="transform"===n?rj:Xj;return this.attrTween(e,"function"===typeof t?(n.local?iN:rN)(n,r,oj(this,"attr."+e,t)):null==t?(n.local?eN:Zj)(n):(n.local?nN:tN)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=xT(e);return this.tween(n,(r.local?sN:uN)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?nj:Xj;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=RT(this,e),o=(this.style.removeProperty(e),RT(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}(e,r)).on("end.style."+e,vN(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var o=RT(this,e),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(e),u=s=RT(this,e)),o===u?null:o===r&&u===i?a:(i=u,a=t(r=o,s))}}(e,r,oj(this,"style."+e,t))).each(function(e,t){var n,r,i,a,o="style."+t,s="end."+o;return function(){var u=JI(this,e),l=u.on,c=null==u.value[o]?a||(a=vN(t)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var o=RT(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,yN(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(oj(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,kN(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=QI(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?ij:aj)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?lN:cN)(t,e)):QI(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?hN:fN)(t,e)):QI(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(dN(t,e)):QI(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;JI(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},u={value:function(){0===--i&&a()}};n.each((function(){var n=JI(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),n.on=t})),0===i&&a()}))}},Symbol.iterator,CN[Symbol.iterator]);var SN={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function EN(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}yI.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,r,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete e.__transition}}(this,e)}))},yI.prototype.transition=function(e){var t,n;e instanceof bN?(t=e._id,e=e._name):(t=xN(),(n=SN).time=LI(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)(o=s[l])&&HI(o,e,t,l,s,n||EN(o,t));return new bN(r,this._parents,e,t)};Math.abs,Math.max,Math.min;function TN(e){return[+e[0],+e[1]]}function IN(e){return[TN(e[0]),TN(e[1])]}["w","e"].map(jN),["n","s"].map(jN),["n","w","e","s","nw","ne","sw","se"].map(jN);function jN(e){return{type:e}}function NN(e){return"string"===typeof e?new vI([[document.querySelector(e)]],[document.documentElement]):new vI([[e]],mI)}function AN(e,t){if(e=function(e){for(var t;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}var DN={passive:!1},PN={capture:!0,passive:!1};function RN(e){e.stopImmediatePropagation()}function MN(e){e.preventDefault(),e.stopImmediatePropagation()}var LN=function(e){return function(){return e}};function ON(e,t){var n=t.sourceEvent,r=t.subject,i=t.target,a=t.identifier,o=t.active,s=t.x,u=t.y,l=t.dx,c=t.dy,h=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:h}})}function UN(e){return!e.ctrlKey&&!e.button}function FN(){return this.parentNode}function BN(e,t){return null==t?{x:e.x,y:e.y}:t}function VN(){return navigator.maxTouchPoints||"ontouchstart"in this}function zN(){var e,t,n,r,i=UN,a=FN,o=BN,s=VN,u={},l=TI("start","drag","end"),c=0,h=0;function f(e){e.on("mousedown.drag",d).filter(s).on("touchstart.drag",v).on("touchmove.drag",g,DN).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(o,s){if(!r&&i.call(this,o,s)){var u=_(this,a.call(this,o,s),o,s,"mouse");u&&(NN(o.view).on("mousemove.drag",p,PN).on("mouseup.drag",m,PN),function(e){var t=e.document.documentElement,n=NN(e).on("dragstart.drag",MN,PN);"onselectstart"in t?n.on("selectstart.drag",MN,PN):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}(o.view),RN(o),n=!1,e=o.clientX,t=o.clientY,u("start",o))}}function p(r){if(MN(r),!n){var i=r.clientX-e,a=r.clientY-t;n=i*i+a*a>h}u.mouse("drag",r)}function m(e){NN(e.view).on("mousemove.drag mouseup.drag",null),function(e,t){var n=e.document.documentElement,r=NN(e).on("dragstart.drag",null);t&&(r.on("click.drag",MN,PN),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(e.view,n),MN(e),u.mouse("end",e)}function v(e,t){if(i.call(this,e,t)){var n,r,o=e.changedTouches,s=a.call(this,e,t),u=o.length;for(n=0;n<u;++n)(r=_(this,s,e,t,o[n].identifier,o[n]))&&(RN(e),r("start",e,o[n]))}}function g(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=u[r[t].identifier])&&(MN(e),n("drag",e,r[t]))}function y(e){var t,n,i=e.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<a;++t)(n=u[i[t].identifier])&&(RN(e),n("end",e,i[t]))}function _(e,t,n,r,i,a){var s,h,d,p=l.copy(),m=AN(a||n,t);if(null!=(d=o.call(e,new ON("beforestart",{sourceEvent:n,target:f,identifier:i,active:c,x:m[0],y:m[1],dx:0,dy:0,dispatch:p}),r)))return s=d.x-m[0]||0,h=d.y-m[1]||0,function n(a,o,l){var v,g=m;switch(a){case"start":u[i]=n,v=c++;break;case"end":delete u[i],--c;case"drag":m=AN(l||o,t),v=c}p.call(a,e,new ON(a,{sourceEvent:o,subject:d,target:f,identifier:i,active:v,x:m[0]+s,y:m[1]+h,dx:m[0]-g[0],dy:m[1]-g[1],dispatch:p}),r)}}return f.filter=function(e){return arguments.length?(i="function"===typeof e?e:LN(!!e),f):i},f.container=function(e){return arguments.length?(a="function"===typeof e?e:LN(e),f):a},f.subject=function(e){return arguments.length?(o="function"===typeof e?e:LN(e),f):o},f.touchable=function(e){return arguments.length?(s="function"===typeof e?e:LN(!!e),f):s},f.on=function(){var e=l.on.apply(l,arguments);return e===l?f:e},f.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,f):Math.sqrt(h)},f}function GN(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,o,s,u,l,c,h,f,d=e._root,p={data:r},m=e._x0,v=e._y0,g=e._x1,y=e._y1;if(!d)return e._root=p,e;for(;d.length;)if((l=t>=(a=(m+g)/2))?m=a:g=a,(c=n>=(o=(v+y)/2))?v=o:y=o,i=d,!(d=d[h=c<<1|l]))return i[h]=p,e;if(s=+e._x.call(null,d.data),u=+e._y.call(null,d.data),t===s&&n===u)return p.next=d,i?i[h]=p:e._root=p,e;do{i=i?i[h]=new Array(4):e._root=new Array(4),(l=t>=(a=(m+g)/2))?m=a:g=a,(c=n>=(o=(v+y)/2))?v=o:y=o}while((h=c<<1|l)===(f=(u>=o)<<1|s>=a));return i[f]=d,i[h]=p,e}function qN(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function WN(e){return e[0]}function HN(e){return e[1]}function KN(e,t,n){var r=new JN(null==t?WN:t,null==n?HN:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function JN(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function QN(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}ON.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var $N=KN.prototype=JN.prototype;function YN(e){return function(){return e}}function XN(e){return 1e-6*(e()-.5)}function ZN(e){return e.x+e.vx}function eA(e){return e.y+e.vy}function tA(e){return e.index}function nA(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}$N.copy=function(){var e,t,n=new JN(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=QN(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=QN(t));return n},$N.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return GN(this.cover(t,n),t,n,e)},$N.addAll=function(e){var t,n,r,i,a=e.length,o=new Array(a),s=new Array(a),u=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>h&&(h=i));if(u>c||l>h)return this;for(this.cover(u,l).cover(c,h),n=0;n<a;++n)GN(this,o[n],s[n],e[n]);return this},$N.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o,s,u=i-n||1,l=this._root;n>e||e>=i||r>t||t>=a;)switch(s=(t<r)<<1|e<n,(o=new Array(4))[s]=l,l=o,u*=2,s){case 0:i=n+u,a=r+u;break;case 1:n=i-u,a=r+u;break;case 2:i=n+u,r=a-u;break;case 3:n=i-u,r=a-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},$N.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},$N.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},$N.find=function(e,t,n){var r,i,a,o,s,u,l,c=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],m=this._root;for(m&&p.push(new qN(m,c,h,f,d)),null==n?n=1/0:(c=e-n,h=t-n,f=e+n,d=t+n,n*=n);u=p.pop();)if(!(!(m=u.node)||(i=u.x0)>f||(a=u.y0)>d||(o=u.x1)<c||(s=u.y1)<h))if(m.length){var v=(i+o)/2,g=(a+s)/2;p.push(new qN(m[3],v,g,o,s),new qN(m[2],i,g,v,s),new qN(m[1],v,a,o,g),new qN(m[0],i,a,v,g)),(l=(t>=g)<<1|e>=v)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var y=e-+this._x.call(null,m.data),_=t-+this._y.call(null,m.data),k=y*y+_*_;if(k<n){var w=Math.sqrt(n=k);c=e-w,h=t-w,f=e+w,d=t+w,r=m.data}}return r},$N.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,a,o,s,u,l,c,h,f,d=this._root,p=this._x0,m=this._y0,v=this._x1,g=this._y1;if(!d)return this;if(d.length)for(;;){if((l=a>=(s=(p+v)/2))?p=s:v=s,(c=o>=(u=(m+g)/2))?m=u:g=u,t=d,!(d=d[h=c<<1|l]))return this;if(!d.length)break;(t[h+1&3]||t[h+2&3]||t[h+3&3])&&(n=t,f=h)}for(;d.data!==e;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):t?(i?t[h]=i:delete t[h],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},$N.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},$N.root=function(){return this._root},$N.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},$N.visit=function(e){var t,n,r,i,a,o,s=[],u=this._root;for(u&&s.push(new qN(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,i=t.y0,a=t.x1,o=t.y1)&&u.length){var l=(r+a)/2,c=(i+o)/2;(n=u[3])&&s.push(new qN(n,l,c,a,o)),(n=u[2])&&s.push(new qN(n,r,c,l,o)),(n=u[1])&&s.push(new qN(n,l,i,a,c)),(n=u[0])&&s.push(new qN(n,r,i,l,c))}return this},$N.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new qN(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,s=t.y0,u=t.x1,l=t.y1,c=(o+u)/2,h=(s+l)/2;(a=i[0])&&n.push(new qN(a,o,s,c,h)),(a=i[1])&&n.push(new qN(a,c,s,u,h)),(a=i[2])&&n.push(new qN(a,o,h,c,l)),(a=i[3])&&n.push(new qN(a,c,h,u,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},$N.x=function(e){return arguments.length?(this._x=e,this):this._x},$N.y=function(e){return arguments.length?(this._y=e,this):this._y};var rA=4294967296;function iA(e){return e.x}function aA(e){return e.y}var oA=Math.PI*(3-Math.sqrt(5));function sA(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,u=FI(h),l=TI("tick","end"),c=function(){var e=1;return function(){return(e=(1664525*e+1013904223)%rA)/rA}}();function h(){f(),l.call("tick",t),n<r&&(u.stop(),l.call("end",t))}function f(r){var u,l,c=e.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(a-n)*i,s.forEach((function(e){e(n)})),u=0;u<c;++u)null==(l=e[u]).fx?l.x+=l.vx*=o:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=o:(l.y=l.fy,l.vy=0);return t}function d(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+n),a=n*oA;t.x=i*Math.cos(a),t.y=i*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,c),t}return null==e&&(e=[]),d(),t={tick:f,restart:function(){return u.restart(h),t},stop:function(){return u.stop(),t},nodes:function(n){return arguments.length?(e=n,d(),s.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(a=+e,t):a},velocityDecay:function(e){return arguments.length?(o=1-e,t):1-o},randomSource:function(e){return arguments.length?(c=e,s.forEach(p),t):c},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,p(n)),t):s.get(e)},find:function(t,n,r){var i,a,o,s,u,l=0,c=e.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(o=(i=t-(s=e[l]).x)*i+(a=n-s.y)*a)<r&&(u=s,r=o);return u},on:function(e,n){return arguments.length>1?(l.on(e,n),t):l.on(e)}}}function uA(e,t,n){this.k=e,this.x=t,this.y=n}uA.prototype={constructor:uA,scale:function(e){return 1===e?this:new uA(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new uA(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new uA(1,0,0);uA.prototype;var lA=function(t){var n=t.data,r=t.strongestPlayer,i=t.strongestPair,a=(0,e.useRef)();return(0,e.useEffect)((function(){var e=20,t=20,o=40,s=20;NN(a.current).selectAll("*").remove();var u=NN(a.current).attr("width",600+s+t).attr("height",400+e+o).append("g").attr("transform","translate(".concat(s,",").concat(e,")"));function l(e){return(e-0)/330}var c=function(e){return 40*l(e.value)},h=function(){for(var e=n.nodes.reduce((function(e,t){return t.group>e?t.group:e}),0)+1,t=Math.ceil(Math.sqrt(e)),r=Math.ceil(e/t),i={},a=0;a<r;a++)for(var o=0;o<t&&a*t+o<e;o++)i[a*t+o]={x:600*(o+1)/(t+1),y:400*(a+1)/(r+1)};return i};for(var f=function(e){return e.source.id===i.source&&e.target.id===i.target||e.source.id===i.target&&e.target.id===i.source},d=sA(n.nodes).force("link",function(e){var t,n,r,i,a,o,s=tA,u=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},l=YN(30),c=1;function h(r){for(var i=0,s=e.length;i<c;++i)for(var u,l,h,f,d,p,m,v=0;v<s;++v)l=(u=e[v]).source,f=(h=u.target).x+h.vx-l.x-l.vx||XN(o),d=h.y+h.vy-l.y-l.vy||XN(o),f*=p=((p=Math.sqrt(f*f+d*d))-n[v])/p*r*t[v],d*=p,h.vx-=f*(m=a[v]),h.vy-=d*m,l.vx+=f*(m=1-m),l.vy+=d*m}function f(){if(r){var o,u,l=r.length,c=e.length,h=new Map(r.map((function(e,t){return[s(e,t,r),e]})));for(o=0,i=new Array(l);o<c;++o)(u=e[o]).index=o,"object"!==typeof u.source&&(u.source=nA(h,u.source)),"object"!==typeof u.target&&(u.target=nA(h,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(o=0,a=new Array(c);o<c;++o)u=e[o],a[o]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);t=new Array(c),d(),n=new Array(c),p()}}function d(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+u(e[n],n,e)}function p(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+l(e[t],t,e)}return null==e&&(e=[]),h.initialize=function(e,t){r=e,o=t,f()},h.links=function(t){return arguments.length?(e=t,f(),h):e},h.id=function(e){return arguments.length?(s=e,h):s},h.iterations=function(e){return arguments.length?(c=+e,h):c},h.strength=function(e){return arguments.length?(u="function"===typeof e?e:YN(+e),d(),h):u},h.distance=function(e){return arguments.length?(l="function"===typeof e?e:YN(+e),p(),h):l},h}(n.links).id((function(e){return e.id})).distance((function(e){return 1/l(e.value)*30}))).force("charge",function(){var e,t,n,r,i,a=YN(-30),o=1,s=1/0,u=.81;function l(n){var i,a=e.length,o=KN(e,iA,aA).visitAfter(h);for(r=n,i=0;i<a;++i)t=e[i],o.visit(f)}function c(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+a(n,t,e)}}function h(e){var t,n,r,a,o,s=0,u=0;if(e.length){for(r=a=o=0;o<4;++o)(t=e[o])&&(n=Math.abs(t.value))&&(s+=t.value,u+=n,r+=n*t.x,a+=n*t.y);e.x=r/u,e.y=a/u}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=i[t.data.index]}while(t=t.next)}e.value=s}function f(e,a,l,c){if(!e.value)return!0;var h=e.x-t.x,f=e.y-t.y,d=c-a,p=h*h+f*f;if(d*d/u<p)return p<s&&(0===h&&(p+=(h=XN(n))*h),0===f&&(p+=(f=XN(n))*f),p<o&&(p=Math.sqrt(o*p)),t.vx+=h*e.value*r/p,t.vy+=f*e.value*r/p),!0;if(!(e.length||p>=s)){(e.data!==t||e.next)&&(0===h&&(p+=(h=XN(n))*h),0===f&&(p+=(f=XN(n))*f),p<o&&(p=Math.sqrt(o*p)));do{e.data!==t&&(d=i[e.data.index]*r/p,t.vx+=h*d,t.vy+=f*d)}while(e=e.next)}}return l.initialize=function(t,r){e=t,n=r,c()},l.strength=function(e){return arguments.length?(a="function"===typeof e?e:YN(+e),c(),l):a},l.distanceMin=function(e){return arguments.length?(o=e*e,l):Math.sqrt(o)},l.distanceMax=function(e){return arguments.length?(s=e*e,l):Math.sqrt(s)},l.theta=function(e){return arguments.length?(u=e*e,l):Math.sqrt(u)},l}().strength((function(e){return-function(e,t){var n=t.reduce((function(t,n){return n.source.id===e.id||n.target.id===e.id?t+n.value:t}),0);return n/10}(e,n.links)}))).force("x",function(e){var t,n,r,i=YN(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vx+=(r[a]-i.x)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=YN(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:YN(+e),o(),a):i},a.x=function(t){return arguments.length?(e="function"===typeof t?t:YN(+t),o(),a):e},a}().x((function(e){return h()[e.group].x}))).force("y",function(e){var t,n,r,i=YN(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vy+=(r[a]-i.y)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=YN(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:YN(+e),o(),a):i},a.y=function(t){return arguments.length?(e="function"===typeof t?t:YN(+t),o(),a):e},a}().y((function(e){return h()[e.group].y}))).force("collide",function(e){var t,n,r,i=1,a=1;function o(){for(var e,o,u,l,c,h,f,d=t.length,p=0;p<a;++p)for(o=KN(t,ZN,eA).visitAfter(s),e=0;e<d;++e)u=t[e],h=n[u.index],f=h*h,l=u.x+u.vx,c=u.y+u.vy,o.visit(m);function m(e,t,n,a,o){var s=e.data,d=e.r,p=h+d;if(!s)return t>l+p||a<l-p||n>c+p||o<c-p;if(s.index>u.index){var m=l-s.x-s.vx,v=c-s.y-s.vy,g=m*m+v*v;g<p*p&&(0===m&&(g+=(m=XN(r))*m),0===v&&(g+=(v=XN(r))*v),g=(p-(g=Math.sqrt(g)))/g*i,u.vx+=(m*=g)*(p=(d*=d)/(f+d)),u.vy+=(v*=g)*p,s.vx-=m*(p=1-p),s.vy-=v*p)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function u(){if(t){var r,i,a=t.length;for(n=new Array(a),r=0;r<a;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=YN(null==e?1:+e)),o.initialize=function(e,n){t=e,r=n,u()},o.iterations=function(e){return arguments.length?(a=+e,o):a},o.strength=function(e){return arguments.length?(i=+e,o):i},o.radius=function(t){return arguments.length?(e="function"===typeof t?t:YN(+t),u(),o):e},o}(60)).alphaDecay(.02).velocityDecay(.4),p=0;p<150;++p)d.tick();var m=u.append("g").attr("stroke-opacity",.6).selectAll("line").data(n.links).join("line").attr("stroke",(function(e){return f(e)?"darkgreen":"#bbb"})).attr("stroke-width",(function(e){return f(e),c(e)})),v=u.append("g").selectAll("circle").data(n.nodes).join("circle").attr("r",(function(e){return e.id===r?38:30})).attr("fill",(function(e){return["#34568B","#6B5B95","#88B04B","#955251","#6A4E42","#2A4B7C","#4F644E","#3E4444"][e.group]})).attr("stroke-width",(function(e){return e.id===r?8:2})).attr("stroke",(function(e){return e.id===r?"gold":"#2c3e50"})).call(function(e){return zN().on("start",(function(t){t.active||e.alphaTarget(.3).restart(),t.subject.fx=t.subject.x,t.subject.fy=t.subject.y})).on("drag",(function(e){e.subject.fx=e.x,e.subject.fy=e.y})).on("end",(function(t){t.active||e.alphaTarget(0),t.subject.fx=null,t.subject.fy=null}))}(d)),g=u.append("g").attr("class","labels").selectAll("text").data(n.nodes).join("text").attr("x",0).attr("y",0).text((function(e){return e.id}));g.attr("text-anchor","middle").attr("dy","-0.7em").attr("fill","white").style("font-size","14px").style("pointer-events","none"),d.on("tick",(function(){m.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),v.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})),g.attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y+15}))}))}),[n]),(0,tx.jsx)("svg",{ref:a})},cA=function(e){var t=e.playersData,n=e.averageScore,r=e.strongestPlayer,i=e.strongestPair,a=d(t).sort((function(e,t){return t.gameScore-e.gameScore}));return(0,tx.jsx)("div",{className:"overflow-x-auto text-lg rounded-lg",children:(0,tx.jsxs)("table",{className:"min-w-full bg-gray-800",children:[(0,tx.jsx)("thead",{children:(0,tx.jsxs)("tr",{className:"text-left text-gray-100",children:[(0,tx.jsx)("th",{className:"py-2 px-4",children:"Player"}),(0,tx.jsx)("th",{className:"py-2 px-4",children:"Score"}),(0,tx.jsx)("th",{className:"py-2 px-4",children:"Connections"})]})}),(0,tx.jsx)("tbody",{children:a.map((function(e){return(0,tx.jsxs)("tr",{className:"".concat(e.name===r?"border border-4 border-yellow-400":"border-b border-gray-700","\n                ").concat(e.name===i.source||e.name===i.target?"bg-green-800":""),children:[(0,tx.jsx)("td",{className:"px-4 py-2 text-gray-100",children:e.name}),(0,tx.jsx)("td",{className:"px-4 py-2 text-gray-100",children:e.gameScore}),(0,tx.jsx)("td",{className:"px-4 py-2",children:(0,tx.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(e.connections).filter((function(e){var t=u(e,2);t[0];return t[1]>n})).sort((function(e,t){return t[1]-e[1]})).map((function(e){var t=u(e,2),n=t[0],r=t[1];return(0,tx.jsx)("span",{className:"text-gray-100 bg-gray-700 rounded px-2",children:"".concat(n,": ").concat(r)},n)}))})})]},e.name)}))})]})})};var hA=function(t){var n=t.gameData,r=t.gameRef,i=u((0,e.useState)(null),2),a=i[0],o=i[1],s=u((0,e.useState)({nodes:[],links:[]}),2),l=s[0],c=s[1],h=u((0,e.useState)(null),2),f=h[0],p=h[1],m=u((0,e.useState)(null),2),v=m[0],g=m[1];if((0,e.useEffect)((function(){var e=wp(r,"rounds");wm(cm(e,fm("roundNumber","==",n.gameLength))).then((function(t){if(1===t.size){var n=t.docs[0].id;Cm(bp(e,n),(function(e){o(e.data())}))}else console.error("Invalid short ID.")}))}),[n.gameLength,r]),(0,e.useEffect)((function(){if(a&&a.connectionThreshold){var e={nodes:[],links:[]},t={},n=function e(n,r){if(!Object.hasOwn(t,r.name)){t[r.name]=n;for(var i=function(){var t=u(s[o],2),r=t[0],i=t[1],l=a.players.find((function(e){return e.name===r}));i>a.connectionThreshold&&e(n,l)},o=0,s=Object.entries(r.connections);o<s.length;o++)i()}};!function(){var r=0;n(r,a.players[0]);for(var i=1;i<a.players.length;i++){var o=a.players[i];Object.hasOwn(t,o.name)||(r++,n(r,o))}for(var s=0,l=Object.entries(t);s<l.length;s++){var h=u(l[s],2),f=h[0],d=h[1];e.nodes.push({id:f,group:d})}c(e)}();!function(){for(var t=0;t<a.players.length;t++)for(var n=a.players[t],r=t+1;r<a.players.length;r++){var i=n.connections[a.players[r].name];i>a.connectionThreshold&&e.links.push({source:n.name,target:a.players[r].name,value:i})}c(e)}();var r=d(a.players).sort((function(e,t){return t.gameScore-e.gameScore}))[0];p(r),g(Object.values(r.connections).filter((function(e){return e>a.connectionThreshold})).length)}}),[a]),!n||!a||!f)return(0,tx.jsx)(tT,{});d(a.players).sort((function(e,t){return t.roundScore-e.roundScore}));var y=0,_={};return function(){for(var e=0;e<a.players.length;e++)for(var t=a.players[e],n=0,r=Object.entries(t.connections);n<r.length;n++){var i=u(r[n],2),o=i[0],s=i[1];s,s>y&&(y=s,_={source:t.name,target:o,value:s})}}(),(0,tx.jsx)("div",{children:f&&Number.isInteger(v)&&(0,tx.jsxs)("div",{children:[(0,tx.jsx)(ax,{className:"container"}),(0,tx.jsxs)("div",{className:"max-w-screen-xl mx-auto mt-3",children:[(0,tx.jsxs)("div",{className:"text-center mb-4 p-4 bg-gray-700 text-gray-100 rounded-lg",children:[(0,tx.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Game Summary"}),(0,tx.jsxs)("p",{className:"text-xl",children:[(0,tx.jsx)("span",{className:"font-bold",children:f.name})," had the most in common with the group with ",v," connections totaling ",f.gameScore," points!"]}),(0,tx.jsxs)("p",{className:"text-xl",children:[(0,tx.jsx)("span",{className:"font-bold",children:_.source})," & ",(0,tx.jsx)("span",{className:"font-bold",children:_.target})," had the most in common with each other with a score of ",y," points!"]})]}),(0,tx.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,tx.jsx)("div",{className:"md:col-span-1 rounded-lg",children:(0,tx.jsx)(cA,{playersData:a.players,averageScore:a.connectionThreshold,strongestPlayer:f.name,strongestPair:_})}),(0,tx.jsx)("div",{className:"md:col-span-1 bg-gray-100 border border-2 border-gray-800 rounded-lg",children:(0,tx.jsx)(lA,{data:l,strongestPlayer:f.name,strongestPair:_})})]})]})]})})},fA=function(){var t=u((0,e.useState)(null),2),n=t[0],r=t[1],i=u((0,e.useState)(null),2),a=i[0],o=i[1],s=u((0,e.useState)([]),2),l=s[0],c=s[1],h=ge().shortId;if((0,e.useEffect)((function(){wm(cm(wp(zb,"games"),fm("shortId","==",h))).then((function(e){if(1===e.size){var t=e.docs[0].id,n=bp(zb,"games",t);o(n),Cm(n,(function(e){r(e.data())}))}else console.error("Invalid short ID.")}))}),[h]),(0,e.useEffect)((function(){if(a){var e=Cm(cm(wp(a,"players"),pm("joinedAt","asc")),(function(e){var t=e.docs.map((function(e){return Yt({id:e.id},e.data())}));c(t)}));return function(){return e()}}}),[a]),!n)return(0,tx.jsx)(tT,{});return(0,tx.jsx)("div",{children:function(){var e=n.deckType,t=n.indexDeck,r=n.gameState;return"setup"===r?(0,tx.jsx)(sx,{gameData:n,gameRef:a,players:l}):"started"===r?(0,tx.jsx)(eT,{deck:Xb(t,e),gameData:n,gameRef:a,players:l}):"ended"===r?(0,tx.jsx)(hA,{deck:Xb(t,e),gameData:n,gameRef:a,players:l}):(0,tx.jsx)("div",{children:"Something went wrong"})}()})};function dA(e,t,n){return Math.max(t,Math.min(e,n))}var pA=function(e,t){return void 0===e&&(e=t),Array.isArray(e)?e:[e,e]},mA=function(e,t){return[e[0]+t[0],e[1]+t[1]]},vA=function(e,t){return[e[0]-t[0],e[1]-t[1]]},gA=function(e,t){e[0]+=t[0],e[1]+=t[1]};function yA(e,t,n){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*n):e*t*n/(t+n*e)}function _A(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.15;return 0===r?dA(e,t,n):e<t?-yA(t-e,n-t,r)+t:e>n?+yA(e-n,n-t,r)+n:e}function kA(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function wA(e,t,n){return(t=kA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bA(Object(n),!0).forEach((function(t){wA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var CA={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function SA(e){return e?e[0].toUpperCase()+e.slice(1):""}var EA=["enter","leave"];function TA(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return e&&!EA.includes(t)}function IA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=CA[e],i=r&&r[t]||t;return"on"+SA(e)+SA(i)+(TA(n,i)?"Capture":"")}var jA=["gotpointercapture","lostpointercapture"];function NA(e){var t=e.substring(2).toLowerCase(),n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));var r=jA.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function AA(e){return"touches"in e}function DA(e){return AA(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function PA(e){return AA(e)?function(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function RA(e){return function(e){return Array.from(e.touches).filter((function(t){var n,r;return t.target===e.currentTarget||(null===(n=e.currentTarget)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,t.target))}))}(e).map((function(e){return e.identifier}))}function MA(e){var t=PA(e);return AA(e)?t.identifier:t.pointerId}function LA(e){var t=PA(e);return[t.clientX,t.clientY]}function OA(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function UA(){}function FA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?UA:1===t.length?t[0]:function(){var e,n,r=T(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e=i.apply(this,arguments)||e}}catch(a){r.e(a)}finally{r.f()}return e}}function BA(e,t){return Object.assign({},t,e||{})}var VA=function(){function e(t,n,r){p(this,e),this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}return v(e,[{key:"state",get:function(){return this.ctrl.state[this.key]},set:function(e){this.ctrl.state[this.key]=e}},{key:"shared",get:function(){return this.ctrl.state.shared}},{key:"eventStore",get:function(){return this.ctrl.gestureEventStores[this.key]}},{key:"timeoutStore",get:function(){return this.ctrl.gestureTimeoutStores[this.key]}},{key:"config",get:function(){return this.ctrl.config[this.key]}},{key:"sharedConfig",get:function(){return this.ctrl.config.shared}},{key:"handler",get:function(){return this.ctrl.handlers[this.key]}},{key:"reset",value:function(){var e=this.state,t=this.shared,n=this.ingKey,r=this.args;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}},{key:"start",value:function(e){var t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?OA(n.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}},{key:"computeValues",value:function(e){var t=this.state;t._values=e,t.values=this.config.transform(e)}},{key:"computeInitial",value:function(){var e=this.state;e._initial=e._values,e.initial=e.values}},{key:"compute",value:function(e){var t=this.state,n=this.config,r=this.shared;t.args=this.args;var i=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,function(e){var t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){var n=e.shiftKey,r=e.altKey,i=e.metaKey,a=e.ctrlKey;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:a})}return t}(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,i=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){var a=t._delta.map(Math.abs);gA(t._distance,a)}this.axisIntent&&this.axisIntent(e);var o=u(t._movement,2),s=o[0],l=o[1],c=u(n.threshold,2),h=c[0],f=c[1],d=t._step,p=t.values;if(n.hasCustomTransform?(!1===d[0]&&(d[0]=Math.abs(s)>=h&&p[0]),!1===d[1]&&(d[1]=Math.abs(l)>=f&&p[1])):(!1===d[0]&&(d[0]=Math.abs(s)>=h&&Math.sign(s)*h),!1===d[1]&&(d[1]=Math.abs(l)>=f&&Math.sign(l)*f)),t.intentional=!1!==d[0]||!1!==d[1],t.intentional){var m=[0,0];if(n.hasCustomTransform){var v=u(p,2),g=v[0],y=v[1];m[0]=!1!==d[0]?g-d[0]:0,m[1]=!1!==d[1]?y-d[1]:0}else m[0]=!1!==d[0]?s-d[0]:0,m[1]=!1!==d[1]?l-d[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(m);var _=t.offset,k=t._active&&!t._blocked||t.active;k&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in n&&(t._bounds=OA(n.bounds,t)),this.setup&&this.setup()),t.movement=m,this.computeOffset()));var w=u(t.offset,2),b=w[0],x=w[1],C=u(t._bounds,2),S=u(C[0],2),E=S[0],T=S[1],I=u(C[1],2),j=I[0],N=I[1];t.overflow=[b<E?-1:b>T?1:0,x<j?-1:x>N?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);var A=t._active&&n.rubberband||[0,0];if(t.offset=function(e,t,n){var r=u(t,2),i=r[0],a=r[1],o=u(n,2),s=o[0],l=o[1],c=u(e,2),h=u(c[0],2),f=h[0],d=h[1],p=u(c[1],2),m=p[0],v=p[1];return[_A(i,f,d,s),_A(a,m,v,l)]}(t._bounds,t.offset,A),t.delta=vA(t.offset,_),this.computeMovement(),k&&(!t.last||i>32)){t.delta=vA(t.offset,_);var D=t.delta.map(Math.abs);gA(t.distance,D),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&i>0&&(t.velocity=[D[0]/i,D[1]/i],t.timeDelta=i)}}}},{key:"emit",value:function(){var e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),!e._blocked&&e.intentional||e._force||n.triggerAllEvents){var r=this.handler(xA(xA(xA({},t),e),{},Ye({},this.aliasKey,e.values)));void 0!==r&&(e.memo=r)}}},{key:"clean",value:function(){this.eventStore.clean(),this.timeoutStore.clean()}}]),e}();var zA=function(e){y(n,e);var t=C(n);function n(){var e;p(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return wA(b(e=t.call.apply(t,[this].concat(i))),"aliasKey","xy"),e}return v(n,[{key:"reset",value:function(){$e(_(n.prototype),"reset",this).call(this),this.state.axis=void 0}},{key:"init",value:function(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}},{key:"computeOffset",value:function(){this.state.offset=mA(this.state.lastOffset,this.state.movement)}},{key:"computeMovement",value:function(){this.state.movement=vA(this.state.offset,this.state.lastOffset)}},{key:"axisIntent",value:function(e){var t=this.state,n=this.config;if(!t.axis&&e){var r="object"===typeof n.axisThreshold?n.axisThreshold[DA(e)]:n.axisThreshold;t.axis=function(e,t){var n=u(e,2),r=n[0],i=n[1],a=Math.abs(r),o=Math.abs(i);return a>o&&a>t?"x":o>a&&o>t?"y":void 0}(t._movement,r)}t._blocked=(n.lockDirection||!!n.axis)&&!t.axis||!!n.axis&&n.axis!==t.axis}},{key:"restrictToAxis",value:function(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}]),n}(VA),GA=function(e){return e},qA=.15,WA={enabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},eventOptions:function(e,t,n){return xA(xA({},n.shared.eventOptions),e)},preventDefault:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},triggerAllEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},rubberband:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return[qA,qA];case!1:return[0,0];default:return pA(e)}},from:function(e){return"function"===typeof e?e:null!=e?pA(e):void 0},transform:function(e,t,n){var r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||GA},threshold:function(e){return pA(e,0)}};var HA=xA(xA({},WA),{},{axis:function(e,t,n){var r=n.axis;if(this.lockDirection="lock"===r,!this.lockDirection)return r},axisThreshold:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e},bounds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"===typeof e)return function(t){return HA.bounds(e(t))};if("current"in e)return function(){return e.current};if("function"===typeof HTMLElement&&e instanceof HTMLElement)return e;var t=e.left,n=void 0===t?-1/0:t,r=e.right,i=void 0===r?1/0:r,a=e.top,o=void 0===a?-1/0:a,s=e.bottom,u=void 0===s?1/0:s;return[[n,i],[o,u]]}}),KA={ArrowRight:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[e*t,0]},ArrowLeft:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[-1*e*t,0]},ArrowUp:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[0,-1*e*t]},ArrowDown:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[0,e*t]}},JA=function(e){y(n,e);var t=C(n);function n(){var e;p(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return wA(b(e=t.call.apply(t,[this].concat(i))),"ingKey","dragging"),e}return v(n,[{key:"reset",value:function(){$e(_(n.prototype),"reset",this).call(this);var e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}},{key:"setup",value:function(){var e=this.state;if(e._bounds instanceof HTMLElement){var t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),r={left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]};e._bounds=HA.bounds(r)}}},{key:"cancel",value:function(){var e=this,t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout((function(){e.compute(),e.emit()}),0))}},{key:"setActive",value:function(){this.state._active=this.state._pointerActive||this.state._keyboardActive}},{key:"clean",value:function(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,$e(_(n.prototype),"clean",this).call(this)}},{key:"pointerDown",value:function(e){var t=this.config,n=this.state;if(null==e.buttons||(Array.isArray(t.pointerButtons)?t.pointerButtons.includes(e.buttons):-1===t.pointerButtons||t.pointerButtons===e.buttons)){var r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),r&&r.size>1&&n._pointerActive||(this.start(e),this.setupPointer(e),n._pointerId=MA(e),n._pointerActive=!0,this.computeValues(LA(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==DA(e)?(n._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}}},{key:"startPointerDrag",value:function(e){var t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}},{key:"pointerMove",value:function(e){var t=this.state,n=this.config;if(t._pointerActive){var r=MA(e);if(void 0===t._pointerId||r===t._pointerId){var i=LA(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=vA(i,t._values),this.computeValues(i)),gA(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):n.preventScrollAxis&&!t._preventScroll?t.axis?t.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}}}},{key:"pointerUp",value:function(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(x){0}var t=this.state,n=this.config;if(t._active&&t._pointerActive){var r=MA(e);if(void 0===t._pointerId||r===t._pointerId){this.state._pointerActive=!1,this.setActive(),this.compute(e);var i=u(t._distance,2),a=i[0],o=i[1];if(t.tap=a<=n.tapsThreshold&&o<=n.tapsThreshold,t.tap&&n.filterTaps)t._force=!0;else{var s=u(t._delta,2),l=s[0],c=s[1],h=u(t._movement,2),f=h[0],d=h[1],p=u(n.swipe.velocity,2),m=p[0],v=p[1],g=u(n.swipe.distance,2),y=g[0],_=g[1],k=n.swipe.duration;if(t.elapsedTime<k){var w=Math.abs(l/t.timeDelta),b=Math.abs(c/t.timeDelta);w>m&&Math.abs(f)>y&&(t.swipe[0]=Math.sign(l)),b>v&&Math.abs(d)>_&&(t.swipe[1]=Math.sign(c))}}this.emit()}}}},{key:"pointerClick",value:function(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}},{key:"setupPointer",value:function(e){var t=this.config,n=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}},{key:"pointerClean",value:function(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}},{key:"preventScroll",value:function(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}},{key:"setupScrollPrevention",value:function(e){this.state._preventScroll=!1,function(e){"persist"in e&&"function"===typeof e.persist&&e.persist()}(e);var t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}},{key:"setupDelayTrigger",value:function(e){var t=this;this.state._delayed=!0,this.timeoutStore.add("dragDelay",(function(){t.state._step=[0,0],t.startPointerDrag(e)}),this.config.delay)}},{key:"keyDown",value:function(e){var t=KA[e.key];if(t){var n=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=t(this.config.keyboardDisplacement,r),n._keyboardActive=!0,gA(n._movement,n._delta),this.compute(e),this.emit()}}},{key:"keyUp",value:function(e){e.key in KA&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}},{key:"bind",value:function(e){var t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}]),n}(zA);var QA="undefined"!==typeof window&&window.document&&window.document.createElement;function $A(){return QA&&"ontouchstart"in window||QA&&window.navigator.maxTouchPoints>1}var YA={isBrowser:QA,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:$A(),touchscreen:$A(),pointer:QA&&"onpointerdown"in window,pointerLock:QA&&"exitPointerLock"in window.document},XA={mouse:0,touch:0,pen:8},ZA=xA(xA({},HA),{},{device:function(e,t,n){var r=n.pointer,i=(r=void 0===r?{}:r).touch,a=void 0!==i&&i,o=r.lock,s=void 0!==o&&o,u=r.mouse,l=void 0!==u&&u;return this.pointerLock=s&&YA.pointerLock,YA.touch&&a?"touch":this.pointerLock?"mouse":YA.pointer&&!l?"pointer":YA.touch?"touch":"mouse"},preventScrollAxis:function(e,t,n){var r=n.preventScroll;if(this.preventScrollDelay="number"===typeof r?r:r||void 0===r&&e?250:void 0,YA.touchscreen&&!1!==r)return e||(void 0!==r?"y":void 0)},pointerCapture:function(e,t,n){var r=n.pointer,i=(r=void 0===r?{}:r).capture,a=void 0===i||i,o=r.buttons,s=void 0===o?1:o,u=r.keys,l=void 0===u||u;return this.pointerButtons=s,this.keys=l,!this.pointerLock&&"pointer"===this.device&&a},threshold:function(e,t,n){var r=n.filterTaps,i=void 0!==r&&r,a=n.tapsThreshold,o=void 0===a?3:a,s=n.axis,u=pA(e,i?o:(void 0===s?void 0:s)?1:0);return this.filterTaps=i,this.tapsThreshold=o,u},swipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.velocity,n=void 0===t?.5:t,r=e.distance,i=void 0===r?50:r,a=e.duration,o=void 0===a?250:a;return{velocity:this.transform(pA(n)),distance:this.transform(pA(i)),duration:o}},delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:function(e){return e?xA(xA({},XA),e):XA},keyboardDisplacement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return e}});xA(xA({},WA),{},{device:function(e,t,n){var r=n.shared,i=n.pointer,a=(i=void 0===i?{}:i).touch,o=void 0!==a&&a;if(r.target&&!YA.touch&&YA.gesture)return"gesture";if(YA.touch&&o)return"touch";if(YA.touchscreen){if(YA.pointer)return"pointer";if(YA.touch)return"touch"}},bounds:function(e,t,n){var r=n.scaleBounds,i=void 0===r?{}:r,a=n.angleBounds,o=void 0===a?{}:a,s=function(e){var t=BA(OA(i,e),{min:-1/0,max:1/0});return[t.min,t.max]},u=function(e){var t=BA(OA(o,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!==typeof i&&"function"!==typeof o?[s(),u()]:function(e){return[s(e),u(e)]}},threshold:function(e,t,n){this.lockDirection="lock"===n.axis;var r=pA(e,this.lockDirection?[.1,3]:0);return r},modifierKey:function(e){return void 0===e?"ctrlKey":e},pinchOnWheel:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}}),xA(xA({},HA),{},{mouseOnly:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}}),xA(xA({},HA),{},{mouseOnly:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}});var eD=new Map,tD=new Map;var nD={key:"drag",engine:JA,resolver:ZA};function rD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var iD={target:function(e){if(e)return function(){return"current"in e?e.current:e}},enabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},window:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:YA.isBrowser?window:void 0;return e})),eventOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.passive,n=void 0===t||t,r=e.capture,i=void 0!==r&&r;return{passive:n,capture:i}},transform:function(e){return e}},aD=["target","eventOptions","window","enabled","transform"];function oD(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={},r=0,i=Object.entries(t);r<i.length;r++){var a=u(i[r],2),o=a[0],s=a[1];switch(typeof s){case"function":n[o]=s.call(n,e[o],o,e);break;case"object":n[o]=oD(e[o],s);break;case"boolean":s&&(n[o]=e[o])}}return n}var sD=function(){function e(t,n){p(this,e),wA(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}return v(e,[{key:"add",value:function(e,t,n,r,i){var a=this._listeners,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=CA[e],r=n&&n[t]||t;return e+r}(t,n),s=xA(xA({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),i);e.addEventListener(o,r,s);var u=function t(){e.removeEventListener(o,r,s),a.delete(t)};return a.add(u),u}},{key:"clean",value:function(){this._listeners.forEach((function(e){return e()})),this._listeners.clear()}}]),e}(),uD=function(){function e(){p(this,e),wA(this,"_timeouts",new Map)}return v(e,[{key:"add",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:140;this.remove(e);for(var i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];this._timeouts.set(e,(n=window).setTimeout.apply(n,[t,r].concat(a)))}},{key:"remove",value:function(e){var t=this._timeouts.get(e);t&&window.clearTimeout(t)}},{key:"clean",value:function(){this._timeouts.forEach((function(e){window.clearTimeout(e)})),this._timeouts.clear()}}]),e}(),lD=function(){function e(t){p(this,e),wA(this,"gestures",new Set),wA(this,"_targetEventStore",new sD(this)),wA(this,"gestureEventStores",{}),wA(this,"gestureTimeoutStores",{}),wA(this,"handlers",{}),wA(this,"config",{}),wA(this,"pointerIds",new Set),wA(this,"touchIds",new Set),wA(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&cD(e,"drag");t.wheel&&cD(e,"wheel");t.scroll&&cD(e,"scroll");t.move&&cD(e,"move");t.pinch&&cD(e,"pinch");t.hover&&cD(e,"hover")}(this,t)}return v(e,[{key:"setEventIds",value:function(e){return AA(e)?(this.touchIds=new Set(RA(e)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}},{key:"applyHandlers",value:function(e,t){this.handlers=e,this.nativeHandlers=t}},{key:"applyConfig",value:function(e,t){this.config=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e,i=r.target,a=r.eventOptions,o=r.window,s=r.enabled,u=r.transform,l=rD(r,aD);if(n.shared=oD({target:i,eventOptions:a,window:o,enabled:s,transform:u},iD),t){var c=tD.get(t);n[t]=oD(xA({shared:n.shared},l),c)}else for(var h in l){var f=tD.get(h);f&&(n[h]=oD(xA({shared:n.shared},l[h]),f))}return n}(e,t,this.config)}},{key:"clean",value:function(){this._targetEventStore.clean();var e,t=T(this.gestures);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.gestureEventStores[n].clean(),this.gestureTimeoutStores[n].clean()}}catch(r){t.e(r)}finally{t.f()}}},{key:"effect",value:function(){var e=this;return this.config.shared.target&&this.bind(),function(){return e._targetEventStore.clean()}}},{key:"bind",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,a=this.config.shared,o={};if(!a.target||(i=a.target())){if(a.enabled){var s,u=T(this.gestures);try{for(u.s();!(s=u.n()).done;){var l=s.value,c=this.config[l],h=hD(o,c.eventOptions,!!i);if(c.enabled){var f=eD.get(l);new f(this,n,l).bind(h)}}}catch(x){u.e(x)}finally{u.f()}var p=hD(o,a.eventOptions,!!i),m=function(t){p(t,"",(function(r){return e.nativeHandlers[t](xA(xA({},e.state.shared),{},{event:r,args:n}))}),void 0,!0)};for(var v in this.nativeHandlers)m(v)}for(var g in o)o[g]=FA.apply(void 0,d(o[g]));if(!i)return o;for(var y in o){var _=NA(y),k=_.device,w=_.capture,b=_.passive;this._targetEventStore.add(i,k,"",o[y],{capture:w,passive:b})}}}}]),e}();function cD(e,t){e.gestures.add(t),e.gestureEventStores[t]=new sD(e,t),e.gestureTimeoutStores[t]=new uD}var hD=function(e,t,n){return function(r,i,a){var o,s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=null!==(o=u.capture)&&void 0!==o?o:t.capture,h=null!==(s=u.passive)&&void 0!==s?s:t.passive,f=l?r:IA(r,i,c);n&&h&&(f+="Passive"),e[f]=e[f]||[],e[f].push(a)}};function fD(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=e.useMemo((function(){return new lD(t)}),[]);if(a.applyHandlers(t,i),a.applyConfig(n,r),e.useEffect(a.effect.bind(a)),e.useEffect((function(){return a.clean.bind(a)}),[]),void 0===n.target)return a.bind.bind(a)}function dD(e,t){var n;return n=nD,eD.set(n.key,n.engine),tD.set(n.key,n.resolver),fD({drag:e},t||{},"drag")}var pD=900,mD=-193,vD=260,gD=d(Array(26)).map((function(){return"ready"}));var yD=function(t){var n=t.deck,r=t.handleSelectCards,i=t.gameData,a=u((0,e.useState)(!1),2),o=a[0],s=a[1],l=u((0,e.useState)(null),2),c=l[0],h=l[1],f=u((0,e.useState)([]),2),p=f[0],m=f[1],v=(0,e.useRef)([]);(0,e.useEffect)((function(){v.current=Array.from({length:5},(function(){return(0,e.createRef)()}))}),[]),(0,e.useEffect)((function(){gD=d(Array(26)).map((function(){return"ready"})),m([])}),[i.currentRound]);var g=IE({from:{y:-1e3},to:{y:o?0:-1e3},config:{tension:200,friction:20}}),y=function(e){var t=gD[e].startsWith("box"),n="ready"===gD[e],r="marked"===gD[e],i={width:130,height:190,scale:1,rot:6*Math.random()-3,delay:10*e};return Yt(Yt({},i),{},o?t?{zIndex:1e3}:n?{x:0,y:0}:{x:0,y:-1e3}:t?{y:-1e3}:r?{x:0,y:vD,zIndex:pD-e}:{x:0,y:0,zIndex:e})},_=function(e,t){return"rotateY(".concat(e/10,"deg) rotateZ(").concat(e,"deg) scale(").concat(t,")")},k=function(){return"scale(1)"},w=u(TE(gD.length,(function(e){return Yt(Yt({},y(e)),{},{from:{x:0,rot:0,scale:1,y:-1e3}})})),2),b=w[0],x=w[1];function C(){if(s(!o),o)for(var e=0;e<gD.length;e++)"deck"===gD[e]?gD[e]="ready":"ready"!==gD[e]&&"reviewed"!==gD[e]||(gD[e]="marked");else{for(var t=0;t<gD.length;t++)"reviewed"===gD[t]||"ready"===gD[t]?gD[t]="deck":"marked"===gD[t]&&(gD[t]="ready");var n=d(p);n[5]="placeholder"+Math.random(),m(n)}}(0,e.useEffect)((function(){x.start((function(e){return Yt({},y(e))}))}),[o,x]);var S=function(e){if(5===e)return{bx:0,by:0};var t=v.current[e].current;return{bx:t.offsetLeft+-235,by:t.offsetTop+165}},E=function(){for(var e=0;e<5;e++)if(!Number.isInteger(p[e]))return!1;return!0};(0,e.useEffect)((function(){x.start((function(e){var t=gD.filter((function(e){return"ready"===e})).length,n=p.findIndex((function(t){return t===e}));if(-1!==n){if(5===n){var r=d(p);r[5]=void 0,m(r)}var i=S(n);return{x:i.bx,y:i.by,scale:1,rot:0,zIndex:5===n?t+pD:1e3}}return{}}))}),[p,x]);var T=function e(t,n,r){if(n>4)gD[t]="ready",r[n]=t;else{var i=r[n];r[n]=t,gD[t]="box"+n,Number.isInteger(i)&&e(i,n+1,r)}},I=dD((function(e){var t=u(e.args,1)[0],n=e.active,r=u(e.xy,2),i=r[0],a=r[1],s=u(e.movement,2),l=s[0],f=s[1],g=u(e.offset,2),y=(g[0],g[1],u(e.direction,2)),_=(y[0],y[1],u(e.velocity,2)),k=_[0],w=_[1],b=gD[t];if("ready"===b?f>110&&!o?gD[t]="readyToMarked":l<-80&&(gD[t]="toReviewed"):"reviewed"===b&&(f>90&&!o?gD[t]="reviewedToMarked":l>80&&(gD[t]="toReady")),n){var C=!1,E={width:90,height:160,x:i,y:a};v.current.forEach((function(e,t){if(e.current){var n=e.current.getBoundingClientRect();E.x+-90<n.right&&E.x+-90+E.width>n.left&&E.y+-160<n.bottom&&E.y+-160+E.height>n.top&&(h(t),C=!0)}})),C||h(null)}if(!n){if(Number.isInteger(c)&&Number.isInteger(t)){var I=d(p),j=I.findIndex((function(e){return e===t}));-1!==j&&(I[j]=null);var N=I[c];Number.isInteger(N)&&T(N,c+1,I),I[c]=t,m(I),gD[t]="box"+c}h(null)}x.start((function(e){if(t===e){b=gD[e];var r=l,i=f,s=2e3,u=gD.filter((function(e){return"ready"===e})).length,c=gD.filter((function(e){return"reviewed"===e})).length,h=gD.filter((function(e){return"marked"===e})).length;switch(b){case"ready":n||(r=0,i=0,s=u+pD);break;case"toReviewed":n||(r=mD,i=0,s=c+pD,gD[e]="reviewed");break;case"reviewed":n?r=l+mD:(r=mD,i=0,s=c+pD);break;case"toReady":n?r=l+mD:(r=0,i=0,s=u+pD,gD[e]="ready")}if(o){if(b.startsWith("box")){var v=parseInt(b.charAt(3)),g=S(v),y=g.bx,_=g.by;if(n)r=l+y,i=f+_;else if(a<325){r=0,i=0,s=u+pD,gD[e]="ready";var x=d(p);x[v]=null,m(x)}}}else switch(b){case"readyToMarked":n||(r=0,i=vD,s=h+pD,gD[e]="marked");break;case"reviewedToMarked":n?r=l+mD:(r=0,i=vD,s=h+pD,gD[e]="marked");break;case"marked":r=0,i=vD,s=h+pD}return{x:r,y:i,zIndex:s,vx:k,vy:w,scale:n?1.1:1,delay:0,config:{friction:40,tension:400,mass:1},immediate:function(e){return"zIndex"===e&&n}}}}))})),j=(0,tx.jsxs)("div",{className:"absolute",children:[(0,tx.jsx)("div",{className:"flex flex-wrap justify-center items-center mt-2 max-h-screen",children:v.current.length>0&&v.current.map((function(e,t){return(0,tx.jsx)($E.div,{ref:e,className:"box ".concat(c===t?"bg-blue-500 text-white border-solid":"text-gray-800 border-dashed"," \n          border-2 border-gray-800 p-6 m-1 rounded-lg flex items-center justify-center \n          text-2xl font-bold w-[100px] h-[140px] ").concat(t>2?"mt-2":""),style:g,children:t+1},t)}))}),(0,tx.jsxs)("div",{className:"flex items-center justify-around mt-2",children:[(0,tx.jsx)(ix,{style:{fontSize:"1rem"},buttonType:"secondary",onClick:C,children:"Back to Deck"}),(0,tx.jsx)(ix,{style:{fontSize:"1rem"},className:"".concat(E()?"bg-blue-500 hover:bg-blue-700":"bg-gray-300"),disabled:!E(),onClick:function(){return function(e){E()?r(e):alert("You must select 5 cards in order")}(p)},children:"Submit Cards"})]})]}),N=function(){return(0,tx.jsx)("div",{style:{width:o?118:150,height:o?162:210},className:"text-gray-100 border-dashed border-2 border-gray-100 rounded-lg"})},A=function(e){var t=n[e].name;if(t){var r=t.split(" ")[0],i=t.split(" ").slice(1).join(" ");return(0,tx.jsxs)("div",{className:"text-white text-center bg-gray-800 w-full p-1 text-xs flex justify-center self-end",children:[r," ",(0,tx.jsx)("br",{})," ",i," "]})}};return(0,tx.jsxs)("div",{children:[(0,tx.jsxs)("div",{className:"text-gray-100 bg-gray-800 rounded-lg shadow mt-2 py-2",children:[(0,tx.jsxs)("div",{className:"relative flex items-center justify-evenly",style:{height:o?"175px":"230px"},children:[b.map((function(e,t){var r=e.x,i=e.y,a=e.width,s=e.height,u=e.zIndex,l=e.rot,c=e.scale,h=(e.flip,e.vx,e.vy,_),f=18;if(o){f=27;var d=p.findIndex((function(e){return e===t})),m=-1!==d&&d<5;h=m?k:_,m?(a=96,s=136):(a=110,s=154)}var v=gD[t].startsWith("box");return(0,tx.jsx)($E.div,{className:"deck",style:{right:f,x:r,y:i,zIndex:u},children:(0,tx.jsx)($E.div,Yt(Yt({},I(t)),{},{className:"rounded-lg",style:{display:"flex",zIndex:u,width:a,height:s,transform:PE([l,c],h),backgroundImage:"url(".concat(n[t].imageUrl,")")},children:!v&&A(t)}))},t)})),N(),(0,tx.jsx)("div",{className:"",children:(0,tx.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:(0,tx.jsx)("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"})})}),N()]}),!o&&(0,tx.jsxs)("div",{className:"flex justify-around",children:[(0,tx.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:(0,tx.jsx)("path",{fillRule:"evenodd",d:"M3.97 3.97a.75.75 0 0 1 1.06 0l13.72 13.72V8.25a.75.75 0 0 1 1.5 0V19.5a.75.75 0 0 1-.75.75H8.25a.75.75 0 0 1 0-1.5h9.44L3.97 5.03a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}),(0,tx.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:(0,tx.jsx)("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v16.19l6.22-6.22a.75.75 0 1 1 1.06 1.06l-7.5 7.5a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 1 1 1.06-1.06l6.22 6.22V3a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})})]})]}),o&&j,!o&&(0,tx.jsxs)("div",{className:"flex justify-evenly markedSection",children:[(0,tx.jsxs)("div",{children:[(0,tx.jsx)("div",{className:"markedInstructions text-gray-800 flex items-center justify-center text-xl pt-8 px-5",children:"Swipe 5 or more cards down to order"}),(0,tx.jsx)(ix,{onClick:C,style:{zIndex:"2000"},className:"w-28 mt-4",children:"Ready to Order"})]}),(0,tx.jsx)("div",{className:"markedCards text-gray-800 border-dashed border-2 border-gray-800 rounded-lg flex items-center justify-center text-2xl font-bold",children:"First Pass Cards"})]})]})},_D=function(t){var n=t.gameData,r=t.gameRef,i=t.players,a=t.deck,o=n.currentRound,s=n.gameLength,l=o%i.length,c=(0,e.useContext)(nx),h=c.currentPlayerName,f=c.currentPlayerId,p=i[0].name===h,m=u((0,e.useState)(""),2),v=m[0],g=m[1],y=u((0,e.useState)(""),2),_=y[0],k=y[1],w=u((0,e.useState)(null),2),b=w[0],x=w[1],C=u((0,e.useState)(!1),2),S=C[0],E=C[1],I=u((0,e.useState)(0),2),j=I[0],N=I[1];(0,e.useEffect)((function(){console.log({currentPlayerId:f})}),[f]),(0,e.useEffect)((function(){var e=wp(r,"rounds");wm(cm(e,fm("roundNumber","==",o))).then((function(t){if(1===t.size){var n=t.docs[0].id,r=bp(e,n);Cm(r,(function(e){x(r),k(e.data())}))}else console.error("Invalid short ID.")}))}),[o,r]),(0,e.useEffect)((function(){var e=i.find((function(e){return e.name===h}));E(e.chosenCards&&e.chosenCards.length>0)}),[i,h]);var A=function(){var e=Je(He().mark((function e(t){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,bm(b,{phrase:v});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Je(He().mark((function e(t){var n,i;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.values(t).slice(0,5),e.prev=1,i=bp(r,"players",f),e.next=5,bm(i,{chosenCards:n});case 5:E(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error updating player's chosenCards: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Je(He().mark((function e(){var t,n,i,a,o,s,u,l;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=wp(r,"players"),n=cm(t),e.prev=2,e.next=5,wm(n);case 5:i=e.sent,a=i.docs,o=T(a),e.prev=8,o.s();case 10:if((s=o.n()).done){e.next=17;break}return u=s.value,l=u.ref,e.next=15,bm(l,{chosenCards:[]});case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),o.e(e.t0);case 22:return e.prev=22,o.f(),e.finish(22);case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(2),console.error("Error clearing chosen cards: ",e.t1);case 30:case"end":return e.stop()}}),e,null,[[2,27],[8,19,22,25]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Je(He().mark((function e(){var t;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(j<=5)){e.next=5;break}return N(t=j+1),e.next=5,bm(b,{flippedCards:t});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Je(He().mark((function e(){var t,n,a;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(P(),N(0),g(""),t=d(i),n=0;n<_.players.length;n++)t[n].gameScore=_.players[n].gameScore;if(e.prev=5,o!==s){e.next=11;break}return e.next=9,bm(r,{gameState:"ended"});case 9:e.next=16;break;case 11:return a=wp(r,"rounds"),e.next=14,xm(a,{roundNumber:o+1,phrase:"",players:t});case 14:return e.next=16,bm(r,{currentRound:o+1});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),console.error("Error updating document: ",e.t0);case 21:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(){return e.apply(this,arguments)}}();return(0,tx.jsx)("div",{className:"max-w-screen-sm mx-auto text-center",children:function(){var e=i[l].name===h;return _.phrase?S?p?function(){var e="Start Next Round";return j<5?e="Flip ".concat(function(e){var t=e%10,n=e%100;return 1===t&&11!==n?e+"st":2===t&&12!==n?e+"nd":3===t&&13!==n?e+"rd":e+"th"}(j+1)," Card"):5===j?e="Show Scores":o===s&&(e="Show End Screen"),(0,tx.jsx)("div",{className:"mt-4",children:j<=5?(0,tx.jsx)(ix,{onClick:R,children:e}):(0,tx.jsx)(ix,{onClick:M,children:e})})}():(0,tx.jsx)("p",{className:"text-lg font-semibold text-gray-700 bg-gray-100 px-4 py-2 rounded-lg shadow mt-4",children:"Waiting for next round to start..."}):(0,tx.jsxs)("div",{className:"deckContainer mb-4 mx-auto",children:[(0,tx.jsxs)("p",{className:"mt-3 flex justify-between items-center text-lg font-semibold text-gray-800 bg-gray-100 px-2 py-1 rounded-lg shadow",children:[(0,tx.jsxs)("span",{children:["Round ",o]}),(0,tx.jsxs)("span",{children:["Phrase: ",_.phrase]})]}),(0,tx.jsx)(yD,{deck:a,gameData:n,handleSelectCards:D})]}):e?(0,tx.jsx)("div",{children:(0,tx.jsxs)("form",{onSubmit:A,className:"space-y-4 mt-4",children:[(0,tx.jsxs)("p",{className:"text-lg font-semibold",children:["Choose the phrase for round ",o]}),(0,tx.jsx)("input",{type:"text",placeholder:"Enter your phrase...",value:v,onChange:function(e){return g(e.target.value)},className:"mr-2 px-3 py-2 border border-gray-300 rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,tx.jsx)(ix,{type:"submit",children:"Choose Phrase"})]})}):(0,tx.jsx)("div",{className:"mt-4",children:(0,tx.jsxs)("p",{className:"text-lg font-semibold text-gray-700 bg-gray-100 px-4 py-2 rounded-lg shadow",children:["Waiting for ",(0,tx.jsx)("span",{className:"text-blue-500",children:i[l].name})," to choose the phrase"]})})}()})},kD=function(t){var n=t.gameData,r=t.gameRef,i=t.players,a=(0,e.useContext)(nx),o=a.currentPlayerName,s=(a.currentPlayerId,u((0,e.useState)(""),2)),l=(s[0],s[1],u((0,e.useState)(!1),2)),c=(l[0],l[1],u((0,e.useState)("original"),2)),h=c[0],f=c[1],d=u((0,e.useState)("3"),2),p=d[0],m=d[1];if(!i.length)return(0,tx.jsx)(tT,{});n.teams;var v=i[0].name===o,g=function(){var e=Je(He().mark((function e(){var t,n;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Yb(h),n=wp(r,"rounds"),e.next=4,xm(n,{roundNumber:1,phrase:"",players:i});case 4:return e.next=6,bm(r,{gameLength:parseInt(p),currentRound:1,deckType:h,indexDeck:t,gameState:"started"});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,tx.jsxs)("div",{className:"max-w-screen-md mx-auto p-4 text-gray-800",children:[(0,tx.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Joined Players:"}),(0,tx.jsx)("div",{className:"overflow-x-auto",children:(0,tx.jsxs)("table",{className:"min-w-full leading-normal",children:[(0,tx.jsx)("thead",{children:(0,tx.jsx)("tr",{className:"bg-gray-100",children:(0,tx.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 text-gray-800  text-left text-sm uppercase font-normal",children:"Player Name"})})}),(0,tx.jsx)("tbody",{children:i.map((function(e){return e.name!==o?(0,tx.jsx)("tr",{className:"hover:bg-gray-100",children:(0,tx.jsx)("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.name})},e.name):(0,tx.jsxs)("tr",{className:"hover:bg-gray-100",children:[(0,tx.jsx)("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:o}),!1]},e.name)}))})]})}),v&&(0,tx.jsxs)("div",{children:[(0,tx.jsxs)("div",{className:"mt-4",children:[(0,tx.jsx)("label",{htmlFor:"deckType",className:"block text-gray-700 text-sm font-bold mb-2",children:"Choose your deck:"}),(0,tx.jsxs)("select",{id:"deckType",value:h,onChange:function(e){f(e.target.value)},className:"block appearance-none w-full border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",children:[(0,tx.jsx)("option",{value:"original",children:"Original"},"1"),(0,tx.jsx)("option",{value:"celebrities",children:"Celebrities"},"2"),(0,tx.jsx)("option",{value:"actors",children:"Actors"},"3"),(0,tx.jsx)("option",{value:"famousPeople",children:"Famous People"},"4"),(0,tx.jsx)("option",{value:"animals",children:"Animals"},"5")]})]}),(0,tx.jsxs)("div",{className:"mt-4",children:[(0,tx.jsx)("label",{htmlFor:"deckType",className:"block text-gray-700 text-sm font-bold mb-2",children:"Game Length:"}),(0,tx.jsxs)("select",{id:"deckType",value:p,onChange:function(e){m(e.target.value)},className:"block appearance-none w-full border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",children:[(0,tx.jsx)("option",{value:"3",children:"Short"},"3"),(0,tx.jsx)("option",{value:"5",children:"Medium"},"5"),(0,tx.jsx)("option",{value:"10",children:"Long"},"10")]})]}),(0,tx.jsx)(ix,{onClick:g,className:"mt-4",children:"Start Game"})]})]})},wD=function(t){var n=t.roundRef,r=u((0,e.useState)(50),2),i=r[0],a=r[1],o=function(){var e=Je(He().mark((function e(t){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(t),e.prev=1,e.next=4,bm(n,{connectionThreshold:parseInt(t)});case 4:console.log("Update successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Error updating document: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,tx.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,tx.jsx)("input",{type:"range",min:"0",max:"100",value:i,onChange:function(e){return o(e.target.value)},className:"range range-primary"}),(0,tx.jsxs)("span",{className:"text-sm",children:[i,"%"]})]})};var bD=function(t){var n=t.gameData,r=t.gameRef,i=u((0,e.useState)(null),2),a=i[0],o=i[1],s=u((0,e.useState)(null),2),l=s[0],c=s[1];(0,e.useEffect)((function(){function e(){return e=Je(He().mark((function e(){var t,i,a,s,u,l;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=wp(r,"rounds"),i=cm(t,fm("roundNumber","==",n.gameLength)),e.prev=2,e.next=5,wm(i);case 5:(a=e.sent).empty?console.log("No matching rounds found"):(s=a.docs[0].id,u=bp(t,s),c(u),l=a.docs.map((function(e){return Yt({id:e.id},e.data())})),o(l[0])),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching round data: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n.gameLength,r]);var h=(0,e.useContext)(nx).currentPlayerName;if(!n||!a)return(0,tx.jsx)(tT,{});var f=d(a.players).sort((function(e,t){return t.gameScore-e.gameScore}));return f.find((function(e){return e.name===h})),f.findIndex((function(e){return e.name===h})),(0,tx.jsxs)("div",{className:"container mx-auto p-4",children:["Update Connection Threshold:",(0,tx.jsx)(wD,{roundRef:l})]})},xD=function(){var t=ge().shortId,n=u((0,e.useState)(null),2),r=n[0],i=n[1],a=u((0,e.useState)([]),2),o=a[0],s=a[1],l=(0,e.useContext)(nx),c=l.gameRef,h=l.setGameRef,f=l.setCurrentPlayerId,d=(0,e.useContext)(nx).currentPlayerName,p=function(e){wm(cm(wp(e,"players"),fm("name","==",d,pm("joinedAt","asc")))).then((function(e){if(e.size>=1){var t=e.docs[0].id;f(t)}else console.error("Invalid Player Name.")}))};if((0,e.useEffect)((function(){c?Cm(c,(function(e){console.log(e.data()),i(e.data()),p(c)})):wm(cm(wp(zb,"games"),fm("shortId","==",t))).then((function(e){if(1===e.size){var t=e.docs[0].id,n=bp(zb,"games",t);h(n),Cm(n,(function(e){i(e.data())})),p(n)}else console.error("Invalid short ID.")}))}),[t,c,h]),(0,e.useEffect)((function(){if(c){var e=Cm(cm(wp(c,"players"),pm("joinedAt","asc")),(function(e){var t=e.docs.map((function(e){return Yt({id:e.id},e.data())}));s(t)}));return function(){return e()}}}),[c]),!r)return(0,tx.jsx)("p",{children:"Loading..."});return(0,tx.jsxs)("div",{children:[(0,tx.jsx)(ax,{className:"max-w-screen-sm",name:d}),function(){var e=r.deckType,t=r.indexDeck,n=r.gameState;return"setup"===n?(0,tx.jsx)(kD,{gameData:r,gameRef:c,players:o}):"started"===n?(0,tx.jsx)(_D,{deck:Xb(t,e),gameData:r,gameRef:c,players:o}):"ended"===n?(0,tx.jsx)(bD,{deck:Xb(t,e),gameData:r,gameRef:c,players:o}):(0,tx.jsx)("div",{children:"Something went wrong"})}()]})},CD=function(){var t=u((0,e.useState)(null),2),n=t[0],r=t[1];return(0,e.useEffect)((function(){wm(cm(wp(zb,"games"),fm("shortId","==","DA2L"))).then((function(e){if(1===e.size){var t=e.docs[0].id;Cm(bp(zb,"games",t),(function(e){console.log(e.data()),r(e.data())}))}else console.error("Invalid short ID.")}))}),[]),n?(0,tx.jsxs)("div",{children:[(0,tx.jsx)("h2",{children:"Test Page"}),(0,tx.jsx)("h2",{children:"Swipe cards left and down"}),(0,tx.jsx)(yD,{gameData:n})]}):(0,tx.jsx)("p",{children:"Loading..."})};var SD=function(){return(0,tx.jsx)(rx,{children:(0,tx.jsx)(Be,{children:(0,tx.jsxs)(De,{children:[(0,tx.jsx)(Ne,{path:"/",element:(0,tx.jsx)(ox,{})}),(0,tx.jsx)(Ne,{path:"/host/:shortId",element:(0,tx.jsx)(fA,{})}),(0,tx.jsx)(Ne,{path:"/player/:shortId",element:(0,tx.jsx)(xD,{})}),(0,tx.jsx)(Ne,{path:"/test",element:(0,tx.jsx)(CD,{})})]})})})},ED=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,tx.jsx)(SD,{})),ED()}()}();
//# sourceMappingURL=main.a48ed6bb.js.map