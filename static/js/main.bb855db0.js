/*! For license information please see main.bb855db0.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,L=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case C:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ce(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=ki(t),_e(e.stateNode,e.type,t))}}function Ee(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Te(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ne(e,t){return e(t)}function Ie(){}var je=!1;function Ae(e,t,n){if(je)return e(t,n);je=!0;try{return Ne(e,t,n)}finally{je=!1,(null!==xe||null!==Se)&&(Ie(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(c)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ce){De=!1}function Oe(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,Le=null,Ue=!1,Fe=null,Be={onError:function(e){Me=!0,Le=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,Le=null,Oe.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Je=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,_t,xt,St,Ct,Et=!1,Tt=[],Nt=null,It=null,jt=null,At=new Map,Rt=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Ct(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Bt(){Et=!1,null!==Nt&&Ut(Nt)&&(Nt=null),null!==It&&Ut(It)&&(It=null),null!==jt&&Ut(jt)&&(jt=null),At.forEach(Ft),Rt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&zt(Nt,e),null!==It&&zt(It,e),null!==jt&&zt(jt,e),At.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Dt.shift()}var qt=w.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=Jt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Mt(Nt,e,t,n,r,i),!0;case"dragenter":return It=Mt(It,e,t,n,r,i),!0;case"mouseover":return jt=Mt(jt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&kt(a),null===(a=Jt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Jt(e,t,n,r){if(Qt=null,null!==(e=yi(e=ke(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=L({},ln,{view:0,detail:0}),hn=an(fn),dn=L({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(L({},dn,{dataTransfer:0})),mn=an(L({},fn,{relatedTarget:0})),gn=an(L({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(L({},ln,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Cn(){return Sn}var En=L({},fn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Nn=an(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=an(L({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),jn=an(L({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(An),Dn=[9,13,27,32],Pn=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Mn=c&&"TextEvent"in window&&!On,Ln=c&&(!Pn||On&&8<On&&11>=On),Un=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Ur(e,0)}function Jn(e){if(G(wi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Jn(Gn)){var t=[];Hn(t,Gn,e,ke(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Gn)}function ar(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Kr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},xr={},Sr={};function Cr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Er=Cr("animationend"),Tr=Cr("animationiteration"),Nr=Cr("animationstart"),Ir=Cr("transitionend"),jr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){jr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Pr=Ar[Dr];Rr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Rr(Er,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Nr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ir,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Le;Me=!1,Le=null,Ue||(Ue=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,l),a=u}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=ke(n),o=[];e:{var s=jr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case Er:case Tr:case Nr:u=gn;break;case Ir:u=jn;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&c.push(Hr(p,v,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(f=Ve(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Nn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:wi(u),d=null==l?s:wi(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(h=l,p=0,d=c=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)c=Gr(c),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Gr(c),h=Gr(h)}c=null}else c=null;null!==u&&Qr(o,s,u,c,!1),null!==l&&null!==f&&Qr(o,f,l,c,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Wn(s))if(Yn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?wi(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Vn=!0)),0<(g=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Pn&&Bn(e,t)?(e=en(),Zt=Xt=Yt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Re(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Re(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ki(e){return e[di]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function Ci(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ei(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ni=Si(Ti),Ii=Si(!1),ji=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ci(Ii),Ci(Ni)}function Pi(e,t,n){if(Ni.current!==Ti)throw Error(a(168));Ei(Ni,t),Ei(Ii,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return L({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,ji=Ni.current,Ei(Ni,e),Ei(Ii,Ii.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oi(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ii),Ci(Ni),Ei(Ni,e)):Ci(Ii),Ei(Ii,n)}var Ui=null,Fi=!1,Bi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Vi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,Vi),i}finally{bt=t,Bi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Ji=null,$i=1,Yi="";function Xi(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Yi,Gi[Qi++]=Ji,Ji=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else $i=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Ji;)Ji=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Al(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Al(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=w.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Si(null),ya=null,ba=null,wa=null;function ka(){wa=ba=ya=null}function _a(e){var t=ga.current;Ci(ga),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ya=e,wa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Na(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ia(e,r)}function Ia(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var ja=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ia(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ia(e,n)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;ja=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=L({},f,h);break e;case 2:ja=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=f):c=c.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nl(t,e,i,r),Oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nl(t,e,i,r),Oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nl(t,e,r,n),Oa(t,e,r))}};function Va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ca(a):(i=Ri(t)?ji:Ni.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ca(a):(a=Ri(t)?ji:Ni.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ja(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ll(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Pl(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ol(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ll(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Pl(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=Ul(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Ol(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?l(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,f=m}if(v===s.length)return n(i,f),ia&&Xi(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Xi(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),l}function m(i,s,u,l){var c=O(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?c=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),ia&&Xi(i,m),c;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,l))&&(s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return ia&&Xi(i,m),c}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===x){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&Qa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ka(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((a=Ol(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Pl(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ul(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(O(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ll(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Ja(!0),Ya=Ja(!1),Xa={},Za=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Za),Ei(Za,t)}function io(){Ci(Za),Ci(eo),Ci(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Ci(Za),Ci(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=w.ReactCurrentDispatcher,ho=w.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,bo=!1,wo=0,ko=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=ls,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Co(){var e=0!==wo;return wo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function No(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,vo.lanes|=f,Mu|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jo(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Ro(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,Wo(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Fo(9,Po.bind(null,n,r,i,t),void 0,null),null===Iu)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Lo(e)}function Oo(e,t,n){return n((function(){Mo(t)&&Lo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Lo(e){var t=Ia(e,1);null!==t&&nl(t,e,1,-1)}function Uo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return To().memoizedState}function zo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Fo(t,n,a,r))}vo.flags|=e,i.memoizedState=Fo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Vo(2048,8,e,t)}function Ho(e,t){return Vo(4,2,e,t)}function Ko(e,t){return Vo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Go.bind(null,t,e),n)}function Jo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Na(e,t,n,r))){nl(n,e,r,el()),as(n,t,r)}}function ns(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Na(e,t,i,r))&&(nl(n,e,r,i=el()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ca,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ca,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Uo,useDebugValue:Jo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Iu)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Oo.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Iu.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ko++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ca,useCallback:$o,useContext:Ca,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Yo,useReducer:Io,useRef:Bo,useState:function(){return Io(No)},useDebugValue:Jo,useDeferredValue:function(e){return Xo(To(),mo.memoizedState,e)},useTransition:function(){return[Io(No)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ca,useCallback:$o,useContext:Ca,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Yo,useReducer:jo,useRef:Bo,useState:function(){return jo(No)},useDebugValue:Jo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[jo(No)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Hu=r),hs(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cl.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function ks(e,t,n,r){t.child=null===e?Ya(t,null,n,r):$a(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Co(),null===e||ws?(ia&&n&&ea(t),t.flags|=1,ks(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Dl(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Ts(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Du,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Du,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Du,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Du,Ru),Ru|=r;return ks(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Ri(n)?ji:Ni.current;return a=Ai(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Co(),null===e||ws?(ia&&r&&ea(t),t.flags|=1,ks(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ns(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qs(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ca(l):l=Ai(t,l=Ri(n)?ji:Ni.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Wa(t,o,r,l),ja=!1;var h=t.memoizedState;o.state=h,La(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ii.current||ja?("function"===typeof c&&(Ba(t,n,c,r),u=t.memoizedState),(s=ja||Va(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ca(u):u=Ai(t,u=Ri(n)?ji:Ni.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),ja=!1,h=t.memoizedState,o.state=h,La(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ii.current||ja?("function"===typeof d&&(Ba(t,n,d,r),p=t.memoizedState),(l=ja||Va(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,a,i)}function Is(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Ws(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ks(e,t,s,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function js(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return da(),pa(i),t.flags|=256,ks(e,t,n,r),t.child}var Rs,Ds,Ps,Os={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ml(u,i,0,null),e=Ol(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Os,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ml({mode:"visible",children:r.children},i,0,null),(o=Ol(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Os,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Fs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(r=Iu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ia(e,i),nl(r,e,i,-1))}return vl(),Fs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Yi,Gi[Qi++]=Ji,$i=e.id,Yi=e.overflow,Ji=t),(t=Us(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dl(r,s):(s=Ol(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Os,i}return e=(s=e.child).sibling,i=Dl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Ml({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ks(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ri(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,io(),Ci(Ii),Ci(Ni),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Rs(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":$(e,r),i=J(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&b(e,o,c,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ps(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ci(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Pu&&(Pu=3):vl())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),null===e&&Vr(t.stateNode.containerInfo),Ks(t),null;case 10:return _a(t.type._context),Ks(t),null;case 19:if(Ci(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Hs(o,!1);else{if(0!==Pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Hs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Vu&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Ye()-o.renderingStartTime>Vu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ci(Ii),Ci(Ni),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ci(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Fr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,$s=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sl(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Sl(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||Zs(n,t);case 6:var r=cu,i=fu;cu=null,hu(e,t,n),fu=i,null!==(cu=r)&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Vt(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=fu,cu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),cu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!$s&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sl(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,hu(e,t,n),$s=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Nl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,fu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===cu)throw Error(a(160));du(o,s,i),cu=null,fu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Sl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),gu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Sl(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Sl(e,e.return,m)}}break;case 1:vu(t,e),gu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),gu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&Y(i,o),be(u,s);var c=be(u,o);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,c)}switch(u){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sl(e,e.return,m)}}break;case 6:if(vu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sl(e,e.return,m)}}break;case 3:if(vu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){Sl(e,e.return,m)}break;case 4:default:vu(t,e),gu(e);break;case 13:vu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Ye())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($s=(c=$s)||f,vu(t,e),$s=c):vu(t,e),gu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Xs=e,f=e.child;null!==f;){for(h=Xs=f;null!==Xs;){switch(p=(d=Xs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sl(r,n,m)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){ku(h);continue}}null!==p?(p.return=d,Xs=p):ku(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(m){Sl(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Sl(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),gu(e),4&r&&pu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Sl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Xs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Js;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Js;var l=$s;if(Js=o,($s=u)&&!l)for(Xs=i;null!==Xs;)u=(o=Xs).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Xs=u):_u(i);for(;null!==a;)Xs=a,bu(a,t,n),a=a.sibling;Xs=i,Js=s,$s=l}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xs=a):wu(e)}}function wu(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(a(163))}$s||512&t.flags&&iu(t)}catch(d){Sl(t,t.return,d)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function ku(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function _u(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Sl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sl(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Sl(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Sl(t,o,u)}}}catch(u){Sl(t,t.return,u)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var xu,Su=Math.ceil,Cu=w.ReactCurrentDispatcher,Eu=w.ReactCurrentOwner,Tu=w.ReactCurrentBatchConfig,Nu=0,Iu=null,ju=null,Au=0,Ru=0,Du=Si(0),Pu=0,Ou=null,Mu=0,Lu=0,Uu=0,Fu=null,Bu=null,zu=0,Vu=1/0,qu=null,Wu=!1,Hu=null,Ku=null,Gu=!1,Qu=null,Ju=0,$u=0,Yu=null,Xu=-1,Zu=0;function el(){return 0!==(6&Nu)?Ye():-1!==Xu?Xu:Xu=Ye()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Au?Au&-Au:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nl(e,t,n,r){if(50<$u)throw $u=0,Yu=null,Error(a(185));gt(e,n,r),0!==(2&Nu)&&e===Iu||(e===Iu&&(0===(2&Nu)&&(Lu|=n),4===Pu&&sl(e,Au)),rl(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(Vu=Ye()+500,Fi&&Vi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Iu?Au:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(ul.bind(null,e)):zi(ul.bind(null,e)),oi((function(){0===(6&Nu)&&Vi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Il(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Xu=-1,Zu=0,0!==(6&Nu))throw Error(a(327));var n=e.callbackNode;if(_l()&&e.callbackNode!==n)return null;var r=ht(e,e===Iu?Au:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Nu;Nu|=2;var o=pl();for(Iu===e&&Au===t||(qu=null,Vu=Ye()+500,hl(e,t));;)try{yl();break}catch(u){dl(e,u)}ka(),Cu.current=o,Nu=i,null!==ju?t=0:(Iu=null,Au=0,t=Pu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=Ou,hl(e,0),sl(e,r),rl(e,Ye()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(o=pt(e))&&(r=o,t=al(e,o))),1===t))throw n=Ou,hl(e,0),sl(e,r),rl(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:kl(e,Bu,qu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=zu+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kl.bind(null,e,Bu,qu),t);break}kl(e,Bu,qu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(kl.bind(null,e,Bu,qu),r);break}kl(e,Bu,qu);break;default:throw Error(a(329))}}}return rl(e,Ye()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Bu,Bu=n,null!==t&&ol(t)),e}function ol(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function sl(e,t){for(t&=~Uu,t&=~Lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Nu))throw Error(a(327));_l();var t=ht(e,0);if(0===(1&t))return rl(e,Ye()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Ou,hl(e,0),sl(e,t),rl(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kl(e,Bu,qu),rl(e,Ye()),null}function ll(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(Vu=Ye()+500,Fi&&Vi())}}function cl(e){null!==Qu&&0===Qu.tag&&0===(6&Nu)&&_l();var t=Nu;Nu|=1;var n=Tu.transition,r=bt;try{if(Tu.transition=null,bt=1,e)return e()}finally{bt=r,Tu.transition=n,0===(6&(Nu=t))&&Vi()}}function fl(){Ru=Du.current,Ci(Du)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==ju)for(n=ju.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ci(Ii),Ci(Ni),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ci(so);break;case 10:_a(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Iu=e,ju=e=Dl(e.current,null),Au=Ru=t,Pu=0,Ou=null,Uu=Lu=Mu=0,Bu=Fu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dl(e,t){for(;;){var n=ju;try{if(ka(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,bo=!1,wo=0,Eu.current=null,null===n||null===n.return){Pu=1,Ou=t,ju=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Au,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ms(o,c,t),vl();break e}l=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Pu&&(Pu=2),null===Fu?Fu=[o]:Fu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,l,t));break e;case 1:u=l;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wl(n)}catch(w){t=w,ju===n&&null!==n&&(ju=n=n.return);continue}break}}function pl(){var e=Cu.current;return Cu.current=os,null===e?os:e}function vl(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Iu||0===(268435455&Mu)&&0===(268435455&Lu)||sl(Iu,Au)}function ml(e,t){var n=Nu;Nu|=2;var r=pl();for(Iu===e&&Au===t||(qu=null,hl(e,t));;)try{gl();break}catch(i){dl(e,i)}if(ka(),Nu=n,Cu.current=r,null!==ju)throw Error(a(261));return Iu=null,Au=0,Pu}function gl(){for(;null!==ju;)bl(ju)}function yl(){for(;null!==ju&&!Je();)bl(ju)}function bl(e){var t=xu(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?wl(e):ju=t,Eu.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ru)))return void(ju=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(ju=n);if(null===e)return Pu=6,void(ju=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ju=t);ju=t=e}while(null!==t);0===Pu&&(Pu=5)}function kl(e,t,n){var r=bt,i=Tu.transition;try{Tu.transition=null,bt=1,function(e,t,n,r){do{_l()}while(null!==Qu);if(0!==(6&Nu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Iu&&(ju=Iu=null,Au=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Il(tt,(function(){return _l(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=bt;bt=1;var u=Nu;Nu|=4,Eu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++f===r&&(l=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(k){Sl(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,yu(n,e,i),$e(),Nu=u,bt=s,Tu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Qu=e,Ju=i),0===(o=e.pendingLanes)&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Hu,Hu=null,e;0!==(1&Ju)&&0!==e.tag&&_l(),0!==(1&(o=e.pendingLanes))?e===Yu?$u++:($u=0,Yu=e):$u=0,Vi()}(e,t,n,r)}finally{Tu.transition=i,bt=r}return null}function _l(){if(null!==Qu){var e=wt(Ju),t=Tu.transition,n=bt;try{if(Tu.transition=null,bt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Ju=0,0!==(6&Nu))throw Error(a(331));var i=Nu;for(Nu|=4,Xs=e.current;null!==Xs;){var o=Xs,s=o.child;if(0!==(16&Xs.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Xs=c;null!==Xs;){var f=Xs;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xs=h;else for(;null!==Xs;){var d=(f=Xs).sibling,p=f.return;if(au(f),f===c){Xs=null;break}if(null!==d){d.return=p,Xs=d;break}Xs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Xs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(o=Xs).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Xs=y;break e}Xs=o.return}}var b=e.current;for(Xs=b;null!==Xs;){var w=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Xs=w;else e:for(s=b;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(_){Sl(u,u.return,_)}if(u===s){Xs=null;break e}var k=u.sibling;if(null!==k){k.return=u.return,Xs=k;break e}Xs=u.return}}if(Nu=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Tu.transition=t}}return!1}function xl(e,t,n){e=Pa(e,t=ps(0,t=cs(n,t),1),1),t=el(),null!==e&&(gt(e,1,t),rl(e,t))}function Sl(e,t,n){if(3===e.tag)xl(e,e,n);else for(;null!==t;){if(3===t.tag){xl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Pa(t,e=vs(t,e=cs(n,e),1),1),e=el(),null!==t&&(gt(t,1,e),rl(t,e));break}}t=t.return}}function Cl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Iu===e&&(Au&n)===n&&(4===Pu||3===Pu&&(130023424&Au)===Au&&500>Ye()-zu?hl(e,0):Uu|=n),rl(e,t)}function El(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Ia(e,t))&&(gt(e,t,n),rl(e,n))}function Tl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),El(e,n)}function Nl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),El(e,n)}function Il(e,t){return Ge(e,t)}function jl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Al(e,t,n,r){return new jl(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Al(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Ol(n.children,i,o,t);case S:s=8,i|=8;break;case C:return(e=Al(12,n,t,2|i)).elementType=C,e.lanes=o,e;case I:return(e=Al(13,n,t,i)).elementType=I,e.lanes=o,e;case j:return(e=Al(19,n,t,i)).elementType=j,e.lanes=o,e;case D:return Ml(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case T:s=9;break e;case N:s=11;break e;case A:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Al(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ol(e,t,n,r){return(e=Al(7,e,r,t)).lanes=n,e}function Ml(e,t,n,r){return(e=Al(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Ll(e,t,n){return(e=Al(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Al(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,a,o,s,u){return e=new Fl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Al(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function zl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vl(e){if(!e)return Ti;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Oi(e,n,t)}return t}function ql(e,t,n,r,i,a,o,s,u){return(e=Bl(n,r,!0,e,0,a,0,s,u)).context=Vl(null),n=e.current,(a=Da(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,gt(e,i,r),rl(e,r),e}function Wl(e,t,n,r){var i=t.current,a=el(),o=tl(i);return n=Vl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nl(e,i,o,a),Oa(e,i,o)),o}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:js(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ei(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Ws(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ai(t,Ni.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Co();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Is(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ks(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===A)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(js(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),La(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ws(e,t,n);break e}ks(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ks(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return Ls(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ks(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ii.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Da(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ks(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ca(i)),t.flags|=1,ks(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qs(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Ha(t,r,i,n),Is(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Cs(e,t,n)}throw Error(a(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Jl(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hl(o);s.call(e)}}Wl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hl(o);a.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hl(u);s.call(e)}}var u=Bl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[pi]=u.current,Vr(8===e.nodeType?e.parentNode:e),cl((function(){Wl(t,u,n,r)})),u}(n,t,e,i,r);return Hl(o)}$l.prototype.render=Jl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wl(e,t,null,null)},$l.prototype.unmount=Jl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Wl(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Lt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,Ye()),0===(6&Nu)&&(Vu=Ye()+500,Vi()))}break;case 13:cl((function(){var t=Ia(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Gl(e,1)}},_t=function(e){if(13===e.tag){var t=Ia(e,134217728);if(null!==t)nl(t,e,134217728,el());Gl(e,134217728)}},xt=function(e){if(13===e.tag){var t=tl(e),n=Ia(e,t);if(null!==n)nl(n,e,t,el());Gl(e,t)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(a(90));G(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=ll,Ie=cl;var tc={usingClientEntryPoint:!1,Events:[bi,wi,ki,Ee,Te,ll]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(a(200));return zl(e,t,null,n)},t.createRoot=function(e,t){if(!Yl(e))throw Error(a(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Jl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Xl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=b.prototype=new y;w.constructor=b,v(w,g.prototype),w.isPureReactComponent=!0;var k=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+N(u,0):a,k(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),I(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",k(e))for(var l=0;l<e.length;l++){var c=a+N(s=e[l],l);u+=I(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=I(s=s.value,t,i,c=a+N(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function j(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},P={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)_.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function k(e){if(m=!1,w(e),!v)if(null!==r(l))v=!0,D(_);else{var t=r(c);null!==t&&P(k,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(E),E=-1),p=!0;var a=d;try{for(w(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!I());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),w(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var f=r(c);null!==f&&P(k,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,C=null,E=-1,T=5,N=-1;function I(){return!(t.unstable_now()-N<T)}function j(){if(null!==C){var e=t.unstable_now();N=e;var n=!0;try{n=C(!0,e)}finally{n?x():(S=!1,C=null)}}else S=!1}if("function"===typeof b)x=function(){b(j)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=j,x=function(){R.postMessage(null)}}else x=function(){g(j,0)};function D(e){C=e,S||(S=!0,x())}function P(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(E),E=-1):m=!0,P(k,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,D(_))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".b7b50325.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="incommon:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/incommon/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkincommon=self.webpackChunkincommon||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){var e={};n.r(e),n.d(e,{hasBrowserEnv:function(){return zD},hasStandardBrowserEnv:function(){return VD},hasStandardBrowserWebWorkerEnv:function(){return qD}});var t=n(791),r=n.t(t,2),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||s(e,t)||u()}var c,f=n(164),h=n.t(f,2);function d(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function p(e){return function(e){if(Array.isArray(e))return o(e)}(e)||d(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){if(t&&("object"===_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function C(e){var t=k();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S(this,n)}}function E(e,t,n){return E=k()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},E.apply(null,arguments)}function T(e){var t="function"===typeof Map?new Map:void 0;return T=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return E(e,arguments,w(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},T(e)}function N(e){return a(e)||d(e)||s(e)||u()}function I(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(c||(c={}));var A,R="popstate";function D(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function P(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function M(e,t,n,r){return void 0===n&&(n=null),j({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?U(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function U(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function F(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,l=o.history,f=c.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=c.Pop;var e=p(),t=null==e?null:e-d;d=e,h&&h({action:f,location:g.location,delta:t})}function m(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:L(e);return D(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(j({},l.state,{idx:d}),""));var g={get action(){return f},get location(){return e(o,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(R,v),h=e,function(){o.removeEventListener(R,v),h=null}},createHref:function(e){return t(o,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=c.Push;var r=M(g.location,e,t);n&&n(r,e);var i=O(r,d=p()+1),a=g.createHref(r);try{l.pushState(i,"",a)}catch(Gv){if(Gv instanceof DOMException&&"DataCloneError"===Gv.name)throw Gv;o.location.assign(a)}u&&h&&h({action:f,location:g.location,delta:1})},replace:function(e,t){f=c.Replace;var r=M(g.location,e,t);n&&n(r,e);var i=O(r,d=p()),a=g.createHref(r);l.replaceState(i,"",a),u&&h&&h({action:f,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(A||(A={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function B(e,t,n){void 0===n&&(n="/");var r=J(("string"===typeof t?U(t):t).pathname||"/",n);if(null==r)return null;var i=z(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=K(i[o],Q(r));return a}function z(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(D(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=Z([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(D(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),z(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:H(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=I(V(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function V(e){var t=e.split("/");if(0===t.length)return[];var n=N(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=V(i.join("/")),u=[];return u.push.apply(u,p(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,p(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var q=/^:\w+$/,W=function(e){return"*"===e};function H(e,t){var n=e.split("/"),r=n.length;return n.some(W)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!W(e)})).reduce((function(e,t){return e+(q.test(t)?3:""===t?1:10)}),r)}function K(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=G({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var f=s.route;a.push({params:r,pathname:Z([i,c.pathname]),pathnameBase:ee(Z([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=Z([i,c.pathnameBase]))}return a}function G(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);P("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(function(e,t,n){return r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"}));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),f=a.reduce((function(e,t,n){var r=t.paramName,i=t.isOptional;if("*"===r){var a=c[n]||"";u=s.slice(0,s.length-a.length).replace(/(.)\/+$/,"$1")}var o=c[n];return e[r]=i&&!o?void 0:function(e,t){try{return decodeURIComponent(e)}catch(Gv){return P(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+Gv+")."),e}}(o||"",r),e}),{});return{params:f,pathname:s,pathnameBase:u,pattern:e}}function Q(e){try{return decodeURI(e)}catch(Gv){return P(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Gv+")."),e}}function J(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function $(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Y(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function X(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=U(e):(D(!(i=j({},e)).pathname||!i.pathname.includes("?"),$("?","pathname","search",i)),D(!i.pathname||!i.pathname.includes("#"),$("#","pathname","hash",i)),D(!i.search||!i.search.includes("#"),$("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(null==s)a=n;else if(r){var u=t[t.length-1].replace(/^\//,"").split("/");if(s.startsWith("..")){for(var l=s.split("/");".."===l[0];)l.shift(),u.pop();i.pathname=l.join("/")}a="/"+u.join("/")}else{var c=t.length-1;if(s.startsWith("..")){for(var f=s.split("/");".."===f[0];)f.shift(),c-=1;i.pathname=f.join("/")}a=c>=0?t[c]:"/"}var h=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?U(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:te(a),hash:ne(s)}}(i,a),d=s&&"/"!==s&&s.endsWith("/"),p=(o||"."===s)&&n.endsWith("/");return h.pathname.endsWith("/")||!d&&!p||(h.pathname+="/"),h}var Z=function(e){return e.join("/").replace(/\/\/+/g,"/")},ee=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},te=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ne=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},re=function(e){b(n,e);var t=C(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n)}(T(Error));function ie(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ae=["post","put","patch","delete"],oe=(new Set(ae),["get"].concat(ae));new Set(oe),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}var ue=t.createContext(null);var le=t.createContext(null);var ce=t.createContext(null);var fe=t.createContext(null);var he=t.createContext(null);var de=t.createContext({outlet:null,matches:[],isDataRoute:!1});var pe=t.createContext(null);function ve(){return null!=t.useContext(he)}function me(){return ve()||D(!1),t.useContext(he).location}function ge(e){t.useContext(fe).static||t.useLayoutEffect(e)}function ye(){return t.useContext(de).isDataRoute?function(){var e=Ie(Te.UseNavigateStable).router,n=Ae(Ne.UseNavigateStable),r=t.useRef(!1);ge((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,se({fromRouteId:n},i)))}),[e,n]);return i}():function(){ve()||D(!1);var e=t.useContext(ue),n=t.useContext(fe),r=n.basename,i=n.navigator,a=t.useContext(de).matches,o=me().pathname,s=JSON.stringify(Y(a).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);ge((function(){u.current=!0}));var l=t.useCallback((function(t,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof t){var a=X(t,JSON.parse(s),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:Z([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,s,o,e]);return l}()}function be(){var e=t.useContext(de).matches,n=e[e.length-1];return n?n.params:{}}function we(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(de).matches,a=me().pathname,o=JSON.stringify(Y(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return X(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function ke(e,n,r){ve()||D(!1);var i,a=t.useContext(fe).navigator,o=t.useContext(de).matches,s=o[o.length-1],u=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,me());if(n){var h,d="string"===typeof n?U(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||D(!1),i=d}else i=f;var p=i.pathname||"/",v=B(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Ee(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Z([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Z([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&m?t.createElement(he.Provider,{value:{location:se({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:c.Pop}},m):m}function _e(){var e=function(){var e,n=t.useContext(pe),r=je(Ne.UseRouteError),i=Ae(Ne.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=ie(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var xe=t.createElement(_e,null),Se=function(e){b(r,e);var n=C(r);function r(e){var t;return v(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return g(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(de.Provider,{value:this.props.routeContext},t.createElement(pe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function Ce(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(ue);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(de.Provider,{value:n},i)}function Ee(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||D(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,l=null;r&&(l=i.route.errorElement||xe);var c=n.concat(o.slice(0,a+1)),f=function(){var n;return n=u?l:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Ce,{match:i,routeContext:{outlet:e,matches:c,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(Se,{location:r.location,revalidation:r.revalidation,component:l,error:u,children:f(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):f()}),null)}var Te=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Te||{}),Ne=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ne||{});function Ie(e){var n=t.useContext(ue);return n||D(!1),n}function je(e){var n=t.useContext(le);return n||D(!1),n}function Ae(e){var n=function(e){var n=t.useContext(de);return n||D(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||D(!1),r.route.id}r.startTransition;function Re(e){D(!1)}function De(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?c.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;ve()&&D(!1);var d=r.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof o&&(o=U(o));var v=o,m=v.pathname,g=void 0===m?"/":m,y=v.search,b=void 0===y?"":y,w=v.hash,k=void 0===w?"":w,_=v.state,x=void 0===_?null:_,S=v.key,C=void 0===S?"default":S,E=t.useMemo((function(){var e=J(g,d);return null==e?null:{location:{pathname:e,search:b,hash:k,state:x,key:C},navigationType:u}}),[d,g,b,k,x,C,u]);return null==E?null:t.createElement(fe.Provider,{value:p},t.createElement(he.Provider,{children:a,value:E}))}function Pe(e){var t=e.children,n=e.location;return ke(Le(t),n)}var Oe=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Oe||{}),Me=new Promise((function(){}));t.Component;function Le(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(p(n),[i]);if(e.type!==t.Fragment){e.type!==Re&&D(!1),e.props.index&&e.props.children&&D(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Le(e.props.children,a)),r.push(o)}else r.push.apply(r,Le(e.props.children,a))}})),r}function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ue.apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;var ze=r.startTransition;h.flushSync;function Ve(e){var n,r=e.basename,i=e.children,a=e.future,o=e.window,s=t.useRef();null==s.current&&(s.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),F((function(e,t){var n=U(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,s=n.hash,u=void 0===s?"":s;return i.startsWith("/")||i.startsWith(".")||(i="/"+i),M("",{pathname:i,search:o,hash:u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:L(t))}),(function(e,t){P("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)));var u=s.current,c=l(t.useState({action:u.action,location:u.location}),2),f=c[0],h=c[1],d=(a||{}).v7_startTransition,p=t.useCallback((function(e){d&&ze?ze((function(){return h(e)})):h(e)}),[h,d]);return t.useLayoutEffect((function(){return u.listen(p)}),[u,p]),t.createElement(De,{basename:r,children:i,location:f.location,navigationType:f.action,navigator:u})}var qe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,We=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,He=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,l=e.target,c=e.to,f=e.preventScrollReset,h=e.unstable_viewTransition,d=Fe(e,Be),p=t.useContext(fe).basename,v=!1;if("string"===typeof c&&We.test(c)&&(r=c,qe))try{var m=new URL(window.location.href),g=c.startsWith("//")?new URL(m.protocol+c):new URL(c),y=J(g.pathname,p);g.origin===m.origin&&null!=y?c=y+g.search+g.hash:v=!0}catch(k){}var b=function(e,n){var r=(void 0===n?{}:n).relative;ve()||D(!1);var i=t.useContext(fe),a=i.basename,o=i.navigator,s=we(e,{relative:r}),u=s.hash,l=s.pathname,c=s.search,f=l;return"/"!==a&&(f="/"===l?a:Z([a,l])),o.createHref({pathname:f,search:c,hash:u})}(c,{relative:a}),w=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,l=r.unstable_viewTransition,c=ye(),f=me(),h=we(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:L(f)===L(h);c(e,{replace:n,state:o,preventScrollReset:s,relative:u,unstable_viewTransition:l})}}),[f,c,h,a,o,i,e,s,u,l])}(c,{replace:s,state:u,target:l,preventScrollReset:f,relative:a,unstable_viewTransition:h});return t.createElement("a",Ue({},d,{href:r||b,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||w(e)},ref:n,target:l}))}));var Ke,Ge;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ke||(Ke={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ge||(Ge={}));function Qe(){Qe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=u;var c={};function f(){}function h(){}function d(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(C([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=d.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==_(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,s(g,"constructor",d),s(d,"constructor",h),h.displayName=s(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(g),s(g,o,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function Je(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(Gv){return void n(Gv)}s.done?t(u):Promise.resolve(u).then(r,i)}function $e(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Je(a,r,i,o,s,"next",e)}function s(e){Je(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Ye(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function Xe(){return Xe="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ye(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Xe.apply(this,arguments)}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et=!1,tt=!1,nt="${JSCORE_VERSION}",rt=function(e,t){if(!e)throw it(t)},it=function(e){return new Error("Firebase Database ("+nt+") INTERNAL ASSERT FAILED: "+e)},at=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ot={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(at(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},st=function(e){var t=at(e);return ot.encodeByteArray(t,!0)},ut=function(e){return st(e).replace(/\./g,"")},lt=function(e){try{return ot.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ct(e){return ft(void 0,e)}function ft(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ft(e[n],t[n]));return e}var ht=function(){function e(){var t=this;v(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return g(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function dt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function pt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function vt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function mt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function gt(){return!0===et||!0===tt}function yt(){return"object"===typeof indexedDB}function bt(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Gv){t(Gv)}}))}var wt=function(e){b(n,e);var t=C(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),kt.prototype.create),a}return g(n)}(T(Error)),kt=function(){function e(t,n,r){v(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?_t(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new wt(n,a,t);return o}}]),e}();function _t(e,t){return e.replace(xt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var xt=/\{\$([^}]+)}/g;function St(e){return JSON.parse(e)}function Ct(e){return JSON.stringify(e)}var Et=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=St(lt(a[0])||""),n=St(lt(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Tt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Nt(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function It(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function jt(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function At(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Rt(s)&&Rt(u)){if(!At(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function Rt(e){return null!==e&&"object"===typeof e}function Dt(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}var Pt=function(){function e(){v(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return g(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,l=this.chain_[0],c=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^c&(f^h),u=1518500249):(s=c^f^h,u=1859775393):p<60?(s=c&f|h&(c|f),u=2400959708):(s=c^f^h,u=3395469782);var v=(l<<5|l>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Ot(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Mt=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},Lt=144e5;function Ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(Lt,r+i)}function Ft(e){return e&&e._delegate?e._delegate:e}var Bt=function(){function e(t,n,r){v(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),zt="[DEFAULT]",Vt=function(){function e(t,n){v(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ht;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:zt})}catch(u){}var t,n=I(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=$e(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(p(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),p(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=I(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===zt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt;return this.component?this.component.multipleInstances?e:zt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var qt,Wt,Ht=function(){function e(t){v(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Vt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Kt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Wt||(Wt={}));var Gt={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},Qt=Wt.INFO,Jt=(Ze(qt={},Wt.DEBUG,"log"),Ze(qt,Wt.VERBOSE,"log"),Ze(qt,Wt.INFO,"info"),Ze(qt,Wt.WARN,"warn"),Ze(qt,Wt.ERROR,"error"),qt),$t=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Jt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Yt=function(){function e(t){v(this,e),this.name=t,this._logLevel=Qt,this._logHandler=$t,this._userLogHandler=null,Kt.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Wt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Gt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Wt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Wt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wt.INFO].concat(t)),this._logHandler.apply(this,[this,Wt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wt.WARN].concat(t)),this._logHandler.apply(this,[this,Wt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wt.ERROR].concat(t)),this._logHandler.apply(this,[this,Wt.ERROR].concat(t))}}]),e}();function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var en,tn;var nn=new WeakMap,rn=new WeakMap,an=new WeakMap,on=new WeakMap,sn=new WeakMap;var un={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return rn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||an.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ln(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(tn||(tn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(hn(this),n),fn(nn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fn(e.apply(hn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[hn(this),t].concat(r));return an.set(a,t.sort?t.sort():[t]),fn(a)}}function cn(e){return"function"===typeof e?ln(e):(e instanceof IDBTransaction&&function(e){if(!rn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));rn.set(e,t)}}(e),t=e,(en||(en=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,un):e);var t}function fn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(fn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&nn.set(t,e)})).catch((function(){})),sn.set(t,e),t}(e);if(on.has(e))return on.get(e);var t=cn(e);return t!==e&&(on.set(e,t),sn.set(t,e)),t}var hn=function(e){return sn.get(e)};var dn,pn,vn=["get","getKey","getAll","getAllKeys","count"],mn=["put","add","delete","clear"],gn=new Map;function yn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(gn.get(t))return gn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=mn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||vn.includes(n))){var a=function(){var e=$e(Qe().mark((function e(t){var a,o,s,u,l,c,f=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=f[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return gn.set(t,a),a}}}un=function(e){return Zt(Zt({},e),{},{get:function(t,n,r){return yn(t,n)||e.get(t,n,r)},has:function(t,n){return!!yn(t,n)||e.has(t,n)}})}(un);var bn=function(){function e(t){v(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var wn="@firebase/app",kn="0.7.31",_n=new Yt("@firebase/app"),xn="[DEFAULT]",Sn=(Ze(dn={},wn,"fire-core"),Ze(dn,"@firebase/app-compat","fire-core-compat"),Ze(dn,"@firebase/analytics","fire-analytics"),Ze(dn,"@firebase/analytics-compat","fire-analytics-compat"),Ze(dn,"@firebase/app-check","fire-app-check"),Ze(dn,"@firebase/app-check-compat","fire-app-check-compat"),Ze(dn,"@firebase/auth","fire-auth"),Ze(dn,"@firebase/auth-compat","fire-auth-compat"),Ze(dn,"@firebase/database","fire-rtdb"),Ze(dn,"@firebase/database-compat","fire-rtdb-compat"),Ze(dn,"@firebase/functions","fire-fn"),Ze(dn,"@firebase/functions-compat","fire-fn-compat"),Ze(dn,"@firebase/installations","fire-iid"),Ze(dn,"@firebase/installations-compat","fire-iid-compat"),Ze(dn,"@firebase/messaging","fire-fcm"),Ze(dn,"@firebase/messaging-compat","fire-fcm-compat"),Ze(dn,"@firebase/performance","fire-perf"),Ze(dn,"@firebase/performance-compat","fire-perf-compat"),Ze(dn,"@firebase/remote-config","fire-rc"),Ze(dn,"@firebase/remote-config-compat","fire-rc-compat"),Ze(dn,"@firebase/storage","fire-gcs"),Ze(dn,"@firebase/storage-compat","fire-gcs-compat"),Ze(dn,"@firebase/firestore","fire-fst"),Ze(dn,"@firebase/firestore-compat","fire-fst-compat"),Ze(dn,"fire-js","fire-js"),Ze(dn,"firebase","fire-js-all"),dn),Cn=new Map,En=new Map;function Tn(e,t){try{e.container.addComponent(t)}catch(n){_n.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Nn(e){var t=e.name;if(En.has(t))return _n.debug("There were multiple attempts to register component ".concat(t,".")),!1;En.set(t,e);var n,r=I(Cn.values());try{for(r.s();!(n=r.n()).done;){Tn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function In(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var jn=(Ze(pn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ze(pn,"bad-app-name","Illegal App name: '{$appName}"),Ze(pn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ze(pn,"app-deleted","Firebase App named '{$appName}' already deleted"),Ze(pn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ze(pn,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ze(pn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ze(pn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ze(pn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ze(pn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),pn),An=new kt("app","Firebase",jn),Rn=function(){function e(t,n,r){var i=this;v(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bt("app",(function(){return i}),"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}]),e}(),Dn="9.9.3";function Pn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn,t=Cn.get(e);if(!t)throw An.create("no-app",{appName:e});return t}function On(e,t,n){var r,i=null!==(r=Sn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void _n.warn(s.join(" "))}Nn(new Bt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Mn="firebase-heartbeat-store",Ln=null;function Un(){return Ln||(Ln=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=fn(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(fn(s.result),e.oldVersion,e.newVersion,fn(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Mn)}}).catch((function(e){throw An.create("idb-open",{originalErrorMessage:e.message})}))),Ln}function Fn(e){return Bn.apply(this,arguments)}function Bn(){return Bn=$e(Qe().mark((function e(t){var n,r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Un();case 3:return r=e.sent,e.abrupt("return",r.transaction(Mn).objectStore(Mn).get(qn(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof wt?_n.warn(e.t0.message):(i=An.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),_n.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Bn.apply(this,arguments)}function zn(e,t){return Vn.apply(this,arguments)}function Vn(){return Vn=$e(Qe().mark((function e(t,n){var r,i,a,o,s;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Un();case 3:return i=e.sent,a=i.transaction(Mn,"readwrite"),o=a.objectStore(Mn),e.next=8,o.put(n,qn(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof wt?_n.warn(e.t0.message):(s=An.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),_n.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Vn.apply(this,arguments)}function qn(e){return"".concat(e.name,"!").concat(e.options.appId)}var Wn=function(){function e(t){var n=this;v(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Qn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return g(e,[{key:"triggerHeartbeat",value:function(){var e=$e(Qe().mark((function e(){var t,n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Hn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=$e(Qe().mark((function e(){var t,n,r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Hn(),n=Kn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ut(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Hn(){return(new Date).toISOString().substring(0,10)}function Kn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=I(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Jn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Jn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Gn,Qn=function(){function e(t){v(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=$e(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",bt().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=$e(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Fn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=$e(Qe().mark((function e(t){var n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",zn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=$e(Qe().mark((function e(t){var n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",zn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(p(r.heartbeats),p(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Jn(e){return ut(JSON.stringify({version:2,heartbeats:e})).length}Gn="",Nn(new Bt("platform-logger",(function(e){return new bn(e)}),"PRIVATE")),Nn(new Bt("heartbeat",(function(e){return new Wn(e)}),"PRIVATE")),On(wn,kn,Gn),On(wn,kn,"esm2017"),On("fire-js","");var $n,Yn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Xn={},Zn=Zn||{},er=Yn||self;function tr(){}function nr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function rr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ir="closure_uid_"+(1e9*Math.random()>>>0),ar=0;function or(e,t,n){return e.call.apply(e.bind,arguments)}function sr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ur(e,t,n){return(ur=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?or:sr).apply(null,arguments)}function lr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function cr(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function fr(){this.s=this.s,this.o=this.o}var hr={};fr.prototype.s=!1,fr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ir)&&e[ir]||(e[ir]=++ar)}(this);delete hr[e]}},fr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var dr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},pr=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function vr(e){return Array.prototype.concat.apply([],arguments)}function mr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function gr(e){return/^[\s\xa0]*$/.test(e)}var yr,br=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function wr(e,t){return-1!=e.indexOf(t)}function kr(e,t){return e<t?-1:e>t?1:0}e:{var _r=er.navigator;if(_r){var xr=_r.userAgent;if(xr){yr=xr;break e}}yr=""}function Sr(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Cr(e){var t={};for(var n in e)t[n]=e[n];return t}var Er="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tr(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Er.length;a++)n=Er[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Nr(e){return Nr[" "](e),e}Nr[" "]=tr;var Ir,jr=wr(yr,"Opera"),Ar=wr(yr,"Trident")||wr(yr,"MSIE"),Rr=wr(yr,"Edge"),Dr=Rr||Ar,Pr=wr(yr,"Gecko")&&!(wr(yr.toLowerCase(),"webkit")&&!wr(yr,"Edge"))&&!(wr(yr,"Trident")||wr(yr,"MSIE"))&&!wr(yr,"Edge"),Or=wr(yr.toLowerCase(),"webkit")&&!wr(yr,"Edge");function Mr(){var e=er.document;return e?e.documentMode:void 0}e:{var Lr="",Ur=function(){var e=yr;return Pr?/rv:([^\);]+)(\)|;)/.exec(e):Rr?/Edge\/([\d\.]+)/.exec(e):Ar?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Or?/WebKit\/(\S+)/.exec(e):jr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ur&&(Lr=Ur?Ur[1]:""),Ar){var Fr=Mr();if(null!=Fr&&Fr>parseFloat(Lr)){Ir=String(Fr);break e}}Ir=Lr}var Br,zr={};function Vr(){return function(e){var t=zr;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=br(String(Ir)).split("."),n=br("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=kr(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||kr(0==a[2].length,0==o[2].length)||kr(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(er.document&&Ar){var qr=Mr();Br=qr||(parseInt(Ir,10)||void 0)}else Br=void 0;var Wr=Br,Hr=function(){if(!er.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{er.addEventListener("test",tr,t),er.removeEventListener("test",tr,t)}catch(n){}return e}();function Kr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Gr(e,t){if(Kr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Pr){e:{try{Nr(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Qr[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Gr.Z.h.call(this)}}Kr.prototype.h=function(){this.defaultPrevented=!0},cr(Gr,Kr);var Qr={2:"touch",3:"pen",4:"mouse"};Gr.prototype.h=function(){Gr.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Jr="closure_listenable_"+(1e6*Math.random()|0),$r=0;function Yr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++$r,this.ca=this.fa=!1}function Xr(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Zr(e){this.src=e,this.g={},this.h=0}function ei(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=dr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Xr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ti(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Zr.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ti(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Yr(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ni="closure_lm_"+(1e6*Math.random()|0),ri={};function ii(e,t,n,r,i){if(r&&r.once)return oi(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ii(e,t[a],n,r,i);return null}return n=di(n),e&&e[Jr]?e.N(t,n,rr(r)?!!r.capture:!!r,i):ai(e,t,n,!1,r,i)}function ai(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=rr(i)?!!i.capture:!!i,s=fi(e);if(s||(e[ni]=s=new Zr(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ci;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Hr||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(li(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function oi(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)oi(e,t[a],n,r,i);return null}return n=di(n),e&&e[Jr]?e.O(t,n,rr(r)?!!r.capture:!!r,i):ai(e,t,n,!0,r,i)}function si(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)si(e,t[a],n,r,i);else r=rr(r)?!!r.capture:!!r,n=di(n),e&&e[Jr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ti(a=e.g[t],n,r,i))&&(Xr(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=fi(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ti(t,n,r,i)),(n=-1<e?t[e]:null)&&ui(n))}function ui(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Jr])ei(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(li(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=fi(t))?(ei(n,e),0==n.h&&(n.src=null,t[ni]=null)):Xr(e)}}}function li(e){return e in ri?ri[e]:ri[e]="on"+e}function ci(e,t){if(e.ca)e=!0;else{t=new Gr(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ui(e),e=n.call(r,t)}return e}function fi(e){return(e=e[ni])instanceof Zr?e:null}var hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function di(e){return"function"===typeof e?e:(e[hi]||(e[hi]=function(t){return e.handleEvent(t)}),e[hi])}function pi(){fr.call(this),this.i=new Zr(this),this.P=this,this.I=null}function vi(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Kr(t,e);else if(t instanceof Kr)t.target=t.target||e;else{var i=t;Tr(t=new Kr(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=mi(o,r,!0,t)&&i}if(i=mi(o=t.g=e,r,!0,t)&&i,i=mi(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=mi(o=t.g=n[a],r,!1,t)&&i}function mi(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&ei(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}cr(pi,fr),pi.prototype[Jr]=!0,pi.prototype.removeEventListener=function(e,t,n,r){si(this,e,t,n,r)},pi.prototype.M=function(){if(pi.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xr(n[r]);delete t.g[e],t.h--}}this.I=null},pi.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},pi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var gi=er.JSON.stringify;function yi(){var e=Ei,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var bi,wi=function(){function e(){v(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(e,t){var n=ki.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ki=new(function(){function e(t,n){v(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new _i}),(function(e){return e.reset()})),_i=function(){function e(){v(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function xi(e){er.setTimeout((function(){throw e}),0)}function Si(e,t){bi||function(){var e=er.Promise.resolve(void 0);bi=function(){e.then(Ti)}}(),Ci||(bi(),Ci=!0),Ei.add(e,t)}var Ci=!1,Ei=new wi;function Ti(){for(var e;e=yi();){try{e.h.call(e.g)}catch(n){xi(n)}var t=ki;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ci=!1}function Ni(e,t){pi.call(this),this.h=e||1,this.g=t||er,this.j=ur(this.kb,this),this.l=Date.now()}function Ii(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ji(e,t,n){if("function"===typeof e)n&&(e=ur(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ur(e.handleEvent,e)}return 2147483647<Number(t)?-1:er.setTimeout(e,t||0)}function Ai(e){e.g=ji((function(){e.g=null,e.i&&(e.i=!1,Ai(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}cr(Ni,pi),($n=Ni.prototype).da=!1,$n.S=null,$n.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vi(this,"tick"),this.da&&(Ii(this),this.start()))}},$n.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$n.M=function(){Ni.Z.M.call(this),Ii(this),delete this.g};var Ri=function(e){b(n,e);var t=C(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return g(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ai(this)}},{key:"M",value:function(){Xe(w(n.prototype),"M",this).call(this),this.g&&(er.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(fr);function Di(e){fr.call(this),this.h=e,this.g={}}cr(Di,fr);var Pi=[];function Oi(e,t,n,r){Array.isArray(n)||(n&&(Pi[0]=n.toString()),n=Pi);for(var i=0;i<n.length;i++){var a=ii(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Mi(e){Sr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ui(e)}),e),e.g={}}function Li(){this.g=!0}function Ui(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return gi(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Di.prototype.M=function(){Di.Z.M.call(this),Mi(this)},Di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Li.prototype.Aa=function(){this.g=!1},Li.prototype.info=function(){};var Fi={},Bi=null;function zi(){return Bi=Bi||new pi}function Vi(e){Kr.call(this,Fi.Ma,e)}function qi(e){var t=zi();vi(t,new Vi(t,e))}function Wi(e,t){Kr.call(this,Fi.STAT_EVENT,e),this.stat=t}function Hi(e){var t=zi();vi(t,new Wi(t,e))}function Ki(e,t){Kr.call(this,Fi.Na,e),this.size=t}function Gi(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return er.setTimeout((function(){e()}),t)}Fi.Ma="serverreachability",cr(Vi,Kr),Fi.STAT_EVENT="statevent",cr(Wi,Kr),Fi.Na="timingevent",cr(Ki,Kr);var Qi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ji={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $i(){}function Yi(e){return e.h||(e.h=e.i())}function Xi(){}$i.prototype.h=null;var Zi,ea={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ta(){Kr.call(this,"d")}function na(){Kr.call(this,"c")}function ra(){}function ia(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Di(this),this.P=oa,e=Dr?125:void 0,this.W=new Ni(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new aa}function aa(){this.i=null,this.g="",this.h=!1}cr(ta,Kr),cr(na,Kr),cr(ra,$i),ra.prototype.g=function(){return new XMLHttpRequest},ra.prototype.i=function(){return{}},Zi=new ra;var oa=45e3,sa={},ua={};function la(e,t,n){e.K=1,e.v=Ra(Ea(t)),e.s=n,e.U=!0,ca(e,null)}function ca(e,t){e.F=Date.now(),pa(e),e.A=Ea(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Ha(n.h,"t",r),e.C=0,n=e.l.H,e.h=new aa,e.g=Go(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ri(ur(e.Ia,e,e.g),e.O)),Oi(e.V,e.g,"readystatechange",e.gb),t=e.H?Cr(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),qi(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function fa(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ha(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=da(e,n))==ua){4==t&&(e.o=4,Hi(14),i=!1),Ui(e.j,e.m,null,"[Incomplete Response]");break}if(r==sa){e.o=4,Hi(15),Ui(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ui(e.j,e.m,r,null),ba(e,r)}fa(e)&&r!=ua&&r!=sa&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Hi(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fo(t),t.L=!0,Hi(11))):(Ui(e.j,e.m,n,"[Invalid Chunked Response]"),ya(e),ga(e))}function da(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ua:(n=Number(t.substring(n,r)),isNaN(n)?sa:(r+=1)+n>t.length?ua:(t=t.substr(r,n),e.C=r+n,t))}function pa(e){e.Y=Date.now()+e.P,va(e,e.P)}function va(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Gi(ur(e.eb,e),t)}function ma(e){e.B&&(er.clearTimeout(e.B),e.B=null)}function ga(e){0==e.l.G||e.I||Vo(e.l,e)}function ya(e){ma(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ii(e.W),Mi(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ba(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Xa(n.i,e)))if(n.I=e.N,!e.J&&Xa(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;zo(n),jo(n)}Uo(n),Hi(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Gi(ur(n.ab,n),6e3));if(1>=Ya(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Wo(n,11)}else if((e.J||n.g==e)&&zo(n),!gr(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;!f.g&&(wr(c,"spdy")||wr(c,"quic")||wr(c,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Za(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Aa(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Ko(r,r.H?r.la:null,r.W),d.J){eo(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(ma(p),pa(p)),r.g=d}else Lo(r);0<n.l.length&&Do(n)}else"stop"!=a[0]&&"close"!=a[0]||Wo(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Wo(n,7):Io(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}qi(4)}catch(a){}}function wa(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(nr(e)||"string"===typeof e)pr(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(nr(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(nr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function ka(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ka)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function _a(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];xa(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)xa(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function xa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}($n=ia.prototype).setTimeout=function(e){this.P=e},$n.gb=function(e){e=e.target;var t=this.L;t&&3==So(e)?t.l():this.Ia(e)},$n.Ia=function(e){try{if(e==this.g)e:{var t=So(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Dr||this.g&&(this.h.h||this.g.ga()||Co(this.g)))){this.I||4!=t||7==n||qi(8==n||0>=r?3:2),ma(this);var i=this.g.ba();this.N=i;t:if(fa(this)){var a=Co(this.g);e="";var o=a.length,s=4==So(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ya(this),ga(this);var u="";break t}this.h.i=new er.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gr(l)){var f=l;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Hi(12),ya(this),ga(this);break e}Ui(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ba(this,i)}this.U?(ha(this,t,u),Dr&&this.i&&3==t&&(Oi(this.V,this.W,"tick",this.fb),this.W.start())):(Ui(this.j,this.m,u,null),ba(this,u)),4==t&&ya(this),this.i&&!this.I&&(4==t?Vo(this.l,this):(this.i=!1,pa(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Hi(12)):(this.o=0,Hi(13)),ya(this),ga(this)}}}catch(t){}},$n.fb=function(){if(this.g){var e=So(this.g),t=this.g.ga();this.C<t.length&&(ma(this),ha(this,e,t),this.i&&4!=e&&pa(this))}},$n.cancel=function(){this.I=!0,ya(this)},$n.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(qi(3),Hi(17)),ya(this),this.o=2,ga(this)):va(this,this.Y-e)},($n=ka.prototype).R=function(){_a(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},$n.T=function(){return _a(this),this.g.concat()},$n.get=function(e,t){return xa(this.h,e)?this.h[e]:t},$n.set=function(e,t){xa(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},$n.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Sa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ca(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ca){this.g=void 0!==t?t:e.g,Ta(this,e.j),this.s=e.s,Na(this,e.i),Ia(this,e.m),this.l=e.l,t=e.h;var n=new za;n.i=t.i,t.g&&(n.g=new ka(t.g),n.h=t.h),ja(this,n),this.o=e.o}else e&&(n=String(e).match(Sa))?(this.g=!!t,Ta(this,n[1]||"",!0),this.s=Da(n[2]||""),Na(this,n[3]||"",!0),Ia(this,n[4]),this.l=Da(n[5]||"",!0),ja(this,n[6]||"",!0),this.o=Da(n[7]||"")):(this.g=!!t,this.h=new za(null,this.g))}function Ea(e){return new Ca(e)}function Ta(e,t,n){e.j=n?Da(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Na(e,t,n){e.i=n?Da(t,!0):t}function Ia(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ja(e,t,n){t instanceof za?(e.h=t,function(e,t){t&&!e.j&&(Va(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(qa(this,t),Ha(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Pa(t,Fa)),e.h=new za(t,e.g))}function Aa(e,t,n){e.h.set(t,n)}function Ra(e){return Aa(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Da(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Pa(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Oa),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Oa(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ca.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Pa(t,Ma,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Pa(t,Ma,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Pa(n,"/"==n.charAt(0)?Ua:La,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Pa(n,Ba)),e.join("")};var Ma=/[#\/\?@]/g,La=/[#\?:]/g,Ua=/[#\?]/g,Fa=/[#\?@]/g,Ba=/#/g;function za(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Va(e){e.g||(e.g=new ka,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function qa(e,t){Va(e),t=Ka(e,t),xa(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,xa((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&_a(e)))}function Wa(e,t){return Va(e),t=Ka(e,t),xa(e.g.h,t)}function Ha(e,t,n){qa(e,t),0<n.length&&(e.i=null,e.g.set(Ka(e,t),mr(n)),e.h+=n.length)}function Ka(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}($n=za.prototype).add=function(e,t){Va(this),this.i=null,e=Ka(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},$n.forEach=function(e,t){Va(this),this.g.forEach((function(n,r){pr(n,(function(n){e.call(t,n,r,this)}),this)}),this)},$n.T=function(){Va(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},$n.R=function(e){Va(this);var t=[];if("string"===typeof e)Wa(this,e)&&(t=vr(t,this.g.get(Ka(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=vr(t,e[n])}return t},$n.set=function(e,t){return Va(this),this.i=null,Wa(this,e=Ka(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},$n.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},$n.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ga=g((function e(t,n){v(this,e),this.h=t,this.g=n}));function Qa(e){this.l=e||Ja,er.PerformanceNavigationTiming?e=0<(e=er.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(er.g&&er.g.Ea&&er.g.Ea()&&er.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ja=10;function $a(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ya(e){return e.h?1:e.g?e.g.size:0}function Xa(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Za(e,t){e.g?e.g.add(t):e.h=t}function eo(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function to(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=I(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return mr(e.i)}function no(){}function ro(){this.g=new no}function io(e,t,n){var r=n||"";try{wa(e,(function(e,n){var i=e;rr(e)&&(i=gi(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ao(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function oo(e){this.l=e.$b||null,this.j=e.ib||!1}function so(e,t){pi.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=uo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qa.prototype.cancel=function(){if(this.i=to(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=I(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},no.prototype.stringify=function(e){return er.JSON.stringify(e,void 0)},no.prototype.parse=function(e){return er.JSON.parse(e,void 0)},cr(oo,$i),oo.prototype.g=function(){return new so(this.l,this.j)},oo.prototype.i=function(e){return function(){return e}}({}),cr(so,pi);var uo=0;function lo(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function co(e){e.readyState=4,e.l=null,e.j=null,e.A=null,fo(e)}function fo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}($n=so.prototype).open=function(e,t){if(this.readyState!=uo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,fo(this)},$n.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||er).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},$n.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,co(this)),this.readyState=uo},$n.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,fo(this)),this.g&&(this.readyState=3,fo(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof er.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lo(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},$n.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?co(this):fo(this),3==this.readyState&&lo(this)}},$n.Ua=function(e){this.g&&(this.response=this.responseText=e,co(this))},$n.Ta=function(e){this.g&&(this.response=e,co(this))},$n.ha=function(){this.g&&co(this)},$n.setRequestHeader=function(e,t){this.v.append(e,t)},$n.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},$n.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(so.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ho=er.JSON.parse;function po(e){pi.call(this),this.headers=new ka,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vo,this.K=this.L=!1}cr(po,pi);var vo="",mo=/^https?$/i,go=["POST","PUT"];function yo(e){return"content-type"==e.toLowerCase()}function bo(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,wo(e),_o(e)}function wo(e){e.D||(e.D=!0,vi(e,"complete"),vi(e,"error"))}function ko(e){if(e.h&&"undefined"!=typeof Zn&&(!e.C[1]||4!=So(e)||2!=e.ba()))if(e.v&&4==So(e))ji(e.Fa,0,e);else if(vi(e,"readystatechange"),4==So(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Sa)[1]||null;if(!a&&er.self&&er.self.location){var o=er.self.location.protocol;a=o.substr(0,o.length-1)}i=!mo.test(a?a.toLowerCase():"")}t=i}if(t)vi(e,"complete"),vi(e,"success");else{e.m=6;try{var s=2<So(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",wo(e)}}finally{_o(e)}}}function _o(e,t){if(e.g){xo(e);var n=e.g,r=e.C[0]?tr:null;e.g=null,e.C=null,t||vi(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function xo(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(er.clearTimeout(e.A),e.A=null)}function So(e){return e.g?e.g.readyState:0}function Co(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case vo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Eo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Sr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Aa(e,t,n))}function To(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function No(e){this.za=0,this.l=[],this.h=new Li,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=To("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=To("baseRetryDelayMs",5e3,e),this.$a=To("retryDelaySeedMs",1e4,e),this.Ya=To("forwardChannelMaxRetries",2,e),this.ra=To("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Qa(e&&e.concurrentRequestLimit),this.Ca=new ro,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Io(e){if(Ao(e),3==e.G){var t=e.V++,n=Ea(e.F);Aa(n,"SID",e.J),Aa(n,"RID",t),Aa(n,"TYPE","terminate"),Oo(e,n),(t=new ia(e,e.h,t,void 0)).K=2,t.v=Ra(Ea(n)),n=!1,er.navigator&&er.navigator.sendBeacon&&(n=er.navigator.sendBeacon(t.v.toString(),"")),!n&&er.Image&&((new Image).src=t.v,n=!0),n||(t.g=Go(t.l,null),t.g.ea(t.v)),t.F=Date.now(),pa(t)}Ho(e)}function jo(e){e.g&&(Fo(e),e.g.cancel(),e.g=null)}function Ao(e){jo(e),e.u&&(er.clearTimeout(e.u),e.u=null),zo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&er.clearTimeout(e.m),e.m=null)}function Ro(e,t){e.l.push(new Ga(e.Za++,t)),3==e.G&&Do(e)}function Do(e){$a(e.i)||e.m||(e.m=!0,Si(e.Ha,e),e.C=0)}function Po(e,t){var n;n=t?t.m:e.V++;var r=Ea(e.F);Aa(r,"SID",e.J),Aa(r,"RID",n),Aa(r,"AID",e.U),Oo(e,r),e.o&&e.s&&Eo(r,e.o,e.s),n=new ia(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Mo(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Za(e.i,n),la(n,r,t)}function Oo(e,t){e.j&&wa({},(function(e,n){Aa(t,n,e)}))}function Mo(e,t,n){n=Math.min(e.l.length,n);var r=e.j?ur(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=a))a=Math.max(0,i[u].h-100),s=!1;else try{io(c,o,"req"+l+"_")}catch(ks){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Lo(e){e.g||e.u||(e.Y=1,Si(e.Ga,e),e.A=0)}function Uo(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Gi(ur(e.Ga,e),qo(e,e.A)),e.A++,!0)}function Fo(e){null!=e.B&&(er.clearTimeout(e.B),e.B=null)}function Bo(e){e.g=new ia(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ea(e.oa);Aa(t,"RID","rpc"),Aa(t,"SID",e.J),Aa(t,"CI",e.N?"0":"1"),Aa(t,"AID",e.U),Oo(e,t),Aa(t,"TYPE","xmlhttp"),e.o&&e.s&&Eo(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ra(Ea(t)),n.s=null,n.U=!0,ca(n,e)}function zo(e){null!=e.v&&(er.clearTimeout(e.v),e.v=null)}function Vo(e,t){var n=null;if(e.g==t){zo(e),Fo(e),e.g=null;var r=2}else{if(!Xa(e.i,t))return;n=t.D,eo(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;vi(r=zi(),new Ki(r,n,t,i)),Do(e)}else Lo(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ya(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Gi(ur(e.Ha,e,t),qo(e,e.C)),e.C++,!0))}(e,t)||2==r&&Uo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Wo(e,5);break;case 4:Wo(e,10);break;case 3:Wo(e,6);break;default:Wo(e,2)}}function qo(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Wo(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=ur(e.jb,e);n||(n=new Ca("//www.google.com/images/cleardot.gif"),er.location&&"http"==er.location.protocol||Ta(n,"https"),Ra(n)),function(e,t){var n=new Li;if(er.Image){var r=new Image;r.onload=lr(ao,n,r,"TestLoadImage: loaded",!0,t),r.onerror=lr(ao,n,r,"TestLoadImage: error",!1,t),r.onabort=lr(ao,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=lr(ao,n,r,"TestLoadImage: timeout",!1,t),er.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Hi(2);e.G=0,e.j&&e.j.va(t),Ho(e),Ao(e)}function Ho(e){e.G=0,e.I=-1,e.j&&(0==to(e.i).length&&0==e.l.length||(e.i.i.length=0,mr(e.l),e.l.length=0),e.j.ua())}function Ko(e,t,n){var r=function(e){return e instanceof Ca?Ea(e):new Ca(e,void 0)}(n);if(""!=r.i)t&&Na(r,t+"."+r.i),Ia(r,r.m);else{var i=er.location;r=function(e,t,n,r){var i=new Ca(null,void 0);return e&&Ta(i,e),t&&Na(i,t),n&&Ia(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Sr(e.aa,(function(e,t){Aa(r,t,e)})),t=e.D,n=e.sa,t&&n&&Aa(r,t,n),Aa(r,"VER",e.ma),Oo(e,r),r}function Go(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new po(new oo({ib:!0})):new po(e.qa)).L=e.H,t}function Qo(){}function Jo(){if(Ar&&!(10<=Number(Wr)))throw Error("Environmental error: no available transport.")}function $o(e,t){pi.call(this),this.g=new No(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!gr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!gr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Zo(this)}function Yo(e){ta.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Xo(){na.call(this),this.status=1}function Zo(e){this.g=e}($n=po.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Zi.g(),this.C=this.u?Yi(this.u):Yi(Zi),this.g.onreadystatechange=ur(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void bo(this,a)}e=n||"";var i=new ka(this.headers);r&&wa(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=yo,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=er.FormData&&e instanceof er.FormData,!(0<=dr(go,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{xo(this),0<this.B&&((this.K=function(e){return Ar&&Vr()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ur(this.pa,this)):this.A=ji(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){bo(this,a)}},$n.pa=function(){"undefined"!=typeof Zn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vi(this,"timeout"),this.abort(8))},$n.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,vi(this,"complete"),vi(this,"abort"),_o(this))},$n.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_o(this,!0)),po.Z.M.call(this)},$n.Fa=function(){this.s||(this.F||this.v||this.l?ko(this):this.cb())},$n.cb=function(){ko(this)},$n.ba=function(){try{return 2<So(this)?this.g.status:-1}catch(e){return-1}},$n.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},$n.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ho(t)}},$n.Da=function(){return this.m},$n.La=function(){return"string"===typeof this.j?this.j:String(this.j)},($n=No.prototype).ma=8,$n.G=1,$n.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},$n.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ia(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Tr(n=Cr(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Mo(this,t,r),Aa(i=Ea(this.F),"RID",e),Aa(i,"CVER",22),this.D&&Aa(i,"X-HTTP-Session-Id",this.D),Oo(this,i),this.o&&n&&Eo(i,this.o,n),Za(this.i,t),this.Ra&&Aa(i,"TYPE","init"),this.ja?(Aa(i,"$req",r),Aa(i,"SID","null"),t.$=!0,la(t,i,null)):la(t,i,r),this.G=2}}else 3==this.G&&(e?Po(this,e):0==this.l.length||$a(this.i)||Po(this))},$n.Ga=function(){if(this.u=null,Bo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Gi(ur(this.bb,this),e)}},$n.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Hi(10),jo(this),Bo(this))},$n.ab=function(){null!=this.v&&(this.v=null,jo(this),Uo(this),Hi(19))},$n.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Hi(2)):(this.h.info("Failed to ping google.com"),Hi(1))},($n=Qo.prototype).xa=function(){},$n.wa=function(){},$n.va=function(){},$n.ua=function(){},$n.Oa=function(){},Jo.prototype.g=function(e,t){return new $o(e,t)},cr($o,pi),$o.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Si(ur(e.hb,e,t))),Hi(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ko(e,null,e.W),Do(e)},$o.prototype.close=function(){Io(this.g)},$o.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Ro(this.g,t)}else this.v?((t={}).__data__=gi(e),Ro(this.g,t)):Ro(this.g,e)},$o.prototype.M=function(){this.g.j=null,delete this.j,Io(this.g),delete this.g,$o.Z.M.call(this)},cr(Yo,ta),cr(Xo,na),cr(Zo,Qo),Zo.prototype.xa=function(){vi(this.g,"a")},Zo.prototype.wa=function(e){vi(this.g,new Yo(e))},Zo.prototype.va=function(e){vi(this.g,new Xo(e))},Zo.prototype.ua=function(){vi(this.g,"b")},Jo.prototype.createWebChannel=Jo.prototype.g,$o.prototype.send=$o.prototype.u,$o.prototype.open=$o.prototype.m,$o.prototype.close=$o.prototype.close,Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,Ji.COMPLETE="complete",Xi.EventType=ea,ea.OPEN="a",ea.CLOSE="b",ea.ERROR="c",ea.MESSAGE="d",pi.prototype.listen=pi.prototype.N,po.prototype.listenOnce=po.prototype.O,po.prototype.getLastError=po.prototype.La,po.prototype.getLastErrorCode=po.prototype.Da,po.prototype.getStatus=po.prototype.ba,po.prototype.getResponseJson=po.prototype.Qa,po.prototype.getResponseText=po.prototype.ga,po.prototype.send=po.prototype.ea;var es=Xn.createWebChannelTransport=function(){return new Jo},ts=Xn.getStatEventTarget=function(){return zi()},ns=Xn.ErrorCode=Qi,rs=Xn.EventType=Ji,is=Xn.Event=Fi,as=Xn.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},os=Xn.FetchXmlHttpFactory=oo,ss=Xn.WebChannel=Xi,us=Xn.XhrIo=po,ls="@firebase/firestore",cs=function(){function e(t){v(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();cs.UNAUTHENTICATED=new cs(null),cs.GOOGLE_CREDENTIALS=new cs("google-credentials-uid"),cs.FIRST_PARTY=new cs("first-party-uid"),cs.MOCK_USER=new cs("mock-user");var fs="9.9.2",hs=new Yt("@firebase/firestore");function ds(){return hs.logLevel}function ps(e){if(hs.logLevel<=Wt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(gs);hs.debug.apply(hs,["Firestore (".concat(fs,"): ").concat(e)].concat(p(i)))}}function vs(e){if(hs.logLevel<=Wt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(gs);hs.error.apply(hs,["Firestore (".concat(fs,"): ").concat(e)].concat(p(i)))}}function ms(e){if(hs.logLevel<=Wt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(gs);hs.warn.apply(hs,["Firestore (".concat(fs,"): ").concat(e)].concat(p(i)))}}function gs(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ys(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(fs,") INTERNAL ASSERTION FAILED: ")+e;throw vs(t),new Error(t)}function bs(e,t){e||ys()}function ws(e,t){return e}var ks={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_s=function(e){b(n,e);var t=C(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return g(n)}(wt),xs=g((function e(){var t=this;v(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ss=g((function e(t,n){v(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Cs=function(){function e(){v(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(cs.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Es=function(){function e(t){v(this,e),this.t=t,this.currentUser=cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new xs;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new xs,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable($e(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){ps("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(ps("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xs)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ps("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(bs("string"==typeof n.accessToken),new Ss(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return bs(null===e||"string"==typeof e),new cs(e)}}]),e}(),Ts=g((function e(t,n,r){v(this,e),this.type="FirstParty",this.user=cs.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Ns=function(){function e(t,n,r){v(this,e),this.h=t,this.l=n,this.m=r}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new Ts(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(cs.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Is=g((function e(t){v(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),js=function(){function e(t){v(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ps("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,ps("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ps("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):ps("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(bs("string"==typeof t.token),e.p=t.token,new Is(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function As(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Rs=function(){function e(){v(this,e)}return g(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=As(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Ds(e,t){return e<t?-1:e>t?1:0}function Ps(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Os=function(){function e(t,n){if(v(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new _s(ks.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _s(ks.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new _s(ks.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _s(ks.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ds(this.nanoseconds,e.nanoseconds):Ds(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Ms=function(){function e(t){v(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Os(0,0))}},{key:"max",value:function(){return new e(new Os(253402300799,999999999))}}]),e}(),Ls=function(){function e(t,n,r){v(this,e),void 0===n?n=0:n>t.length&&ys(),void 0===r?r=t.length-n:r>t.length-n&&ys(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Us=function(e){b(n,e);var t=C(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new _s(ks.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,p(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ls),Fs=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bs=function(e){b(n,e);var t=C(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Fs.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new _s(ks.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new _s(ks.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new _s(ks.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new _s(ks.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ls),zs=function(){function e(t){v(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Us.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Us.fromString(t))}},{key:"fromName",value:function(t){return new e(Us.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Us.emptyPath())}},{key:"comparator",value:function(e,t){return Us.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Us(t.slice()))}}]),e}(),Vs=g((function e(t,n,r,i){v(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Vs.UNKNOWN_ID=-1;function qs(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ms.fromTimestamp(1e9===r?new Os(n+1,0):new Os(n,r));return new Hs(i,zs.empty(),t)}function Ws(e){return new Hs(e.readTime,e.key,-1)}var Hs=function(){function e(t,n,r){v(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(Ms.min(),zs.empty(),-1)}},{key:"max",value:function(){return new e(Ms.max(),zs.empty(),-1)}}]),e}();function Ks(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=zs.comparator(e.documentKey,t.documentKey))?n:Ds(e.largestBatchId,t.largestBatchId)}var Gs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qs=function(){function e(){v(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Js(e){return $s.apply(this,arguments)}function $s(){return $s=$e(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ks.FAILED_PRECONDITION&&t.message===Gs){e.next=2;break}throw t;case 2:ps("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),$s.apply(this,arguments)}var Ys=function(){function e(t){var n=this;v(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return g(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ys(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=I(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function Xs(e){return"IndexedDbTransactionError"===e.name}var Zs=function(){function e(t,n){var r=this;v(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return g(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function eu(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function tu(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Zs.ot=-1;var ru=function(){function e(t,n){v(this,e),this.comparator=t,this.root=n||au.EMPTY}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,au.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,au.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new iu(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new iu(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new iu(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new iu(this.root,e,this.comparator,!0)}}]),e}(),iu=function(){function e(t,n,r,i){v(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),au=function(){function e(t,n,r,i,a){v(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ys();if(this.right.isRed())throw ys();var e=this.left.check();if(e!==this.right.check())throw ys();return e+(this.isRed()?0:1)}}]),e}();au.EMPTY=null,au.RED=!0,au.BLACK=!1,au.EMPTY=new(function(){function e(){v(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw ys()}},{key:"value",get:function(){throw ys()}},{key:"color",get:function(){throw ys()}},{key:"left",get:function(){throw ys()}},{key:"right",get:function(){throw ys()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new au(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ou=function(){function e(t){v(this,e),this.comparator=t,this.data=new ru(this.comparator)}return g(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new su(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new su(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),su=function(){function e(t){v(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var uu=function(){function e(t){v(this,e),this.fields=t,t.sort(Bs.comparator)}return g(e,[{key:"unionWith",value:function(t){var n,r=new ou(Bs.comparator),i=I(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=I(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=I(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ps(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var lu=function(e){function t(e){v(this,t),this.binaryString=e}return g(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ds(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();lu.EMPTY_BYTE_STRING=new lu("");var cu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fu(e){if(bs(!!e),"string"==typeof e){var t=0,n=cu.exec(e);if(bs(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:hu(e.seconds),nanos:hu(e.nanos)}}function hu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function du(e){return"string"==typeof e?lu.fromBase64String(e):lu.fromUint8Array(e)}function pu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vu(e){var t=e.mapValue.fields.__previous_value__;return pu(t)?vu(t):t}function mu(e){var t=fu(e.mapValue.fields.__local_write_time__.timestampValue);return new Os(t.seconds,t.nanos)}var gu=g((function e(t,n,r,i,a,o,s,u){v(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),yu=function(){function e(t,n){v(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function bu(e){return null==e}function wu(e){return 0===e&&1/e==-1/0}function ku(e){return"number"==typeof e&&Number.isInteger(e)&&!wu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var _u={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pu(e)?4:Lu(e)?9007199254740991:10:ys()}function Su(e,t){if(e===t)return!0;var n=xu(e);if(n!==xu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mu(e).isEqual(mu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=fu(e.timestampValue),r=fu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return du(e.bytesValue).isEqual(du(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return hu(e.geoPointValue.latitude)===hu(t.geoPointValue.latitude)&&hu(e.geoPointValue.longitude)===hu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return hu(e.integerValue)===hu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=hu(e.doubleValue),r=hu(t.doubleValue);return n===r?wu(n)===wu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ps(e.arrayValue.values||[],t.arrayValue.values||[],Su);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(eu(n)!==eu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Su(n[i],r[i])))return!1;return!0}(e,t);default:return ys()}}function Cu(e,t){return void 0!==(e.values||[]).find((function(e){return Su(e,t)}))}function Eu(e,t){if(e===t)return 0;var n=xu(e),r=xu(t);if(n!==r)return Ds(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ds(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=hu(e.integerValue||e.doubleValue),r=hu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Tu(e.timestampValue,t.timestampValue);case 4:return Tu(mu(e),mu(t));case 5:return Ds(e.stringValue,t.stringValue);case 6:return function(e,t){var n=du(e),r=du(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ds(n[i],r[i]);if(0!==a)return a}return Ds(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ds(hu(e.latitude),hu(t.latitude));return 0!==n?n:Ds(hu(e.longitude),hu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Eu(n[i],r[i]);if(a)return a}return Ds(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===_u.mapValue&&t===_u.mapValue)return 0;if(e===_u.mapValue)return 1;if(t===_u.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Ds(r[o],a[o]);if(0!==s)return s;var u=Eu(n[r[o]],i[a[o]]);if(0!==u)return u}return Ds(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ys()}}function Tu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ds(e,t);var n=fu(e),r=fu(t),i=Ds(n.seconds,r.seconds);return 0!==i?i:Ds(n.nanos,r.nanos)}function Nu(e){return Iu(e)}function Iu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=fu(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?du(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,zs.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=I(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Iu(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=I(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Iu(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ys();var t,n}function ju(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Au(e){return!!e&&"integerValue"in e}function Ru(e){return!!e&&"arrayValue"in e}function Du(e){return!!e&&"nullValue"in e}function Pu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ou(e){return!!e&&"mapValue"in e}function Mu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return tu(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Mu(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Mu(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Lu(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Uu=function(){function e(t){v(this,e),this.value=t}return g(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ou(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(t)}},{key:"setAll",value:function(e){var t=this,n=Bs.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Mu(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ou(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Su(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ou(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){tu(t,(function(t,n){return e[t]=n}));var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Mu(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Fu(e){var t=[];return tu(e.fields,(function(e,n){var r=new Bs([e]);if(Ou(n)){var i=Fu(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=I(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new uu(t)}var Bu=function(){function e(t,n,r,i,a,o){v(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return g(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Uu.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Uu.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Ms.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Ms.min(),Ms.min(),Uu.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Ms.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ms.min(),Uu.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ms.min(),Uu.empty(),2)}}]),e}(),zu=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;v(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ut=null}));function Vu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new zu(e,t,n,r,i,a,o)}function qu(e){var t=ws(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Nu(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),bu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Nu(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Nu(e)})).join(",")),t.ut=n}return t.ut}function Wu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!rl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Su(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!al(e.startAt,t.startAt)&&al(e.endAt,t.endAt)}function Hu(e){return zs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ku=function(e){b(n,e);var t=C(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Eu(t,this.value)):null!==t&&xu(this.value)===xu(t)&&this.at(Eu(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ys()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new Gu(e,t,r):"array-contains"===t?new Yu(e,r):"in"===t?new Xu(e,r):"not-in"===t?new Zu(e,r):"array-contains-any"===t?new el(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new Qu(e,n):new Ju(e,n)}}]),n}(function(){return g((function e(){v(this,e)}))}()),Gu=function(e){b(n,e);var t=C(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e,r,i)).key=zs.fromName(i.referenceValue),a}return g(n,[{key:"matches",value:function(e){var t=zs.comparator(e.key,this.key);return this.at(t)}}]),n}(Ku),Qu=function(e){b(n,e);var t=C(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,"in",r)).keys=$u("in",r),i}return g(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ku),Ju=function(e){b(n,e);var t=C(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,"not-in",r)).keys=$u("not-in",r),i}return g(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ku);function $u(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return zs.fromName(e.referenceValue)}))}var Yu=function(e){b(n,e);var t=C(n);function n(e,r){return v(this,n),t.call(this,e,"array-contains",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ru(t)&&Cu(t.arrayValue,this.value)}}]),n}(Ku),Xu=function(e){b(n,e);var t=C(n);function n(e,r){return v(this,n),t.call(this,e,"in",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Cu(this.value.arrayValue,t)}}]),n}(Ku),Zu=function(e){b(n,e);var t=C(n);function n(e,r){return v(this,n),t.call(this,e,"not-in",r)}return g(n,[{key:"matches",value:function(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Cu(this.value.arrayValue,t)}}]),n}(Ku),el=function(e){b(n,e);var t=C(n);function n(e,r){return v(this,n),t.call(this,e,"array-contains-any",r)}return g(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ru(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Cu(t.value.arrayValue,e)}))}}]),n}(Ku),tl=g((function e(t,n){v(this,e),this.position=t,this.inclusive=n})),nl=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";v(this,e),this.field=t,this.dir=n}));function rl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function il(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?zs.comparator(zs.fromName(o.referenceValue),n.key):Eu(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function al(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Su(e.position[n],t.position[n]))return!1;return!0}var ol=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;v(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt}));function sl(e,t,n,r,i,a,o,s){return new ol(e,t,n,r,i,a,o,s)}function ul(e){return new ol(e)}function ll(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function cl(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function fl(e){var t,n=I(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function hl(e){return null!==e.collectionGroup}function dl(e){var t=ws(e);if(null===t.lt){t.lt=[];var n=fl(t),r=cl(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new nl(n)),t.lt.push(new nl(Bs.keyField(),"asc"));else{var i,a=!1,o=I(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.lt.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new nl(Bs.keyField(),u))}}}return t.lt}function pl(e){var t=ws(e);if(!t.ft)if("F"===t.limitType)t.ft=Vu(t.path,t.collectionGroup,dl(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=I(dl(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new nl(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new tl(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new tl(t.startAt.position,t.startAt.inclusive):null;t.ft=Vu(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.ft}function vl(e,t,n){return new ol(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ml(e,t){return Wu(pl(e),pl(t))&&e.limitType===t.limitType}function gl(e){return"".concat(qu(pl(e)),"|lt:").concat(e.limitType)}function yl(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Nu(t.value));var t})).join(", "),"]")),bu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Nu(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Nu(e)})).join(",")),"Target(".concat(t,")")}(pl(e)),"; limitType=").concat(e.limitType,")")}function bl(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=I(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=I(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=il(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,dl(e),t))&&!(e.endAt&&!function(e,t,n){var r=il(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,dl(e),t))}(e,t)}function wl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function kl(e){return function(t,n){var r,i=!1,a=I(dl(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=_l(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function _l(e,t,n){var r=e.field.isKeyField()?zs.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Eu(r,i):ys()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ys()}}function xl(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wu(t)?"-0":t}}function Sl(e){return{integerValue:""+e}}function Cl(e,t){return ku(t)?Sl(t):xl(e,t)}var El=g((function e(){v(this,e),this._=void 0}));function Tl(e,t,n){return e instanceof jl?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Al?Rl(e,t):e instanceof Dl?Pl(e,t):function(e,t){var n=Il(e,t),r=Ml(n)+Ml(e._t);return Au(n)&&Au(e._t)?Sl(r):xl(e.wt,r)}(e,t)}function Nl(e,t,n){return e instanceof Al?Rl(e,t):e instanceof Dl?Pl(e,t):n}function Il(e,t){return e instanceof Ol?Au(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var jl=function(e){b(n,e);var t=C(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n)}(El),Al=function(e){b(n,e);var t=C(n);function n(e){var r;return v(this,n),(r=t.call(this)).elements=e,r}return g(n)}(El);function Rl(e,t){var n,r=Ll(t),i=I(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Su(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Dl=function(e){b(n,e);var t=C(n);function n(e){var r;return v(this,n),(r=t.call(this)).elements=e,r}return g(n)}(El);function Pl(e,t){var n,r=Ll(t),i=I(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Su(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ol=function(e){b(n,e);var t=C(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).wt=e,i._t=r,i}return g(n)}(El);function Ml(e){return hu(e.integerValue||e.doubleValue)}function Ll(e){return Ru(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ul=g((function e(t,n){v(this,e),this.field=t,this.transform=n}));var Fl=g((function e(t,n){v(this,e),this.version=t,this.transformResults=n})),Bl=function(){function e(t,n){v(this,e),this.updateTime=t,this.exists=n}return g(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function zl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Vl=g((function e(){v(this,e)}));function ql(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new tc(e.key,Bl.none()):new Ql(e.key,e.data,Bl.none());var n,r=e.data,i=Uu.empty(),a=new ou(Bs.comparator),o=I(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new Jl(e.key,i,new uu(a.toArray()),Bl.none())}function Wl(e,t,n){e instanceof Ql?function(e,t,n){var r=e.value.clone(),i=Yl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Jl?function(e,t,n){if(zl(e.precondition,t)){var r=Yl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll($l(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Hl(e,t,n,r){return e instanceof Ql?function(e,t,n,r){if(!zl(e.precondition,t))return n;var i=e.value.clone(),a=Xl(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Jl?function(e,t,n,r){if(!zl(e.precondition,t))return n;var i=Xl(e.fieldTransforms,r,t),a=t.data;return a.setAll($l(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return zl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Kl(e,t){var n,r=null,i=I(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Il(a.transform,o||null);null!=s&&(null===r&&(r=Uu.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Gl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ps(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Al&&t instanceof Al||e instanceof Dl&&t instanceof Dl?Ps(e.elements,t.elements,Su):e instanceof Ol&&t instanceof Ol?Su(e._t,t._t):e instanceof jl&&t instanceof jl}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Ql=function(e){b(n,e);var t=C(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return v(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Vl),Jl=function(e){b(n,e);var t=C(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return v(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return g(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Vl);function $l(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Yl(e,t,n){var r=new Map;bs(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Nl(o,s,n[i]))}return r}function Xl(e,t,n){var r,i=new Map,a=I(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Tl(s,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Zl,ec,tc=function(e){b(n,e);var t=C(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Vl),nc=function(e){b(n,e);var t=C(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Vl),rc=g((function e(t){v(this,e),this.count=t}));function ic(e){switch(e){default:return ys();case ks.CANCELLED:case ks.UNKNOWN:case ks.DEADLINE_EXCEEDED:case ks.RESOURCE_EXHAUSTED:case ks.INTERNAL:case ks.UNAVAILABLE:case ks.UNAUTHENTICATED:return!1;case ks.INVALID_ARGUMENT:case ks.NOT_FOUND:case ks.ALREADY_EXISTS:case ks.PERMISSION_DENIED:case ks.FAILED_PRECONDITION:case ks.ABORTED:case ks.OUT_OF_RANGE:case ks.UNIMPLEMENTED:case ks.DATA_LOSS:return!0}}function ac(e){if(void 0===e)return vs("GRPC error has no .code"),ks.UNKNOWN;switch(e){case Zl.OK:return ks.OK;case Zl.CANCELLED:return ks.CANCELLED;case Zl.UNKNOWN:return ks.UNKNOWN;case Zl.DEADLINE_EXCEEDED:return ks.DEADLINE_EXCEEDED;case Zl.RESOURCE_EXHAUSTED:return ks.RESOURCE_EXHAUSTED;case Zl.INTERNAL:return ks.INTERNAL;case Zl.UNAVAILABLE:return ks.UNAVAILABLE;case Zl.UNAUTHENTICATED:return ks.UNAUTHENTICATED;case Zl.INVALID_ARGUMENT:return ks.INVALID_ARGUMENT;case Zl.NOT_FOUND:return ks.NOT_FOUND;case Zl.ALREADY_EXISTS:return ks.ALREADY_EXISTS;case Zl.PERMISSION_DENIED:return ks.PERMISSION_DENIED;case Zl.FAILED_PRECONDITION:return ks.FAILED_PRECONDITION;case Zl.ABORTED:return ks.ABORTED;case Zl.OUT_OF_RANGE:return ks.OUT_OF_RANGE;case Zl.UNIMPLEMENTED:return ks.UNIMPLEMENTED;case Zl.DATA_LOSS:return ks.DATA_LOSS;default:return ys()}}(ec=Zl||(Zl={}))[ec.OK=0]="OK",ec[ec.CANCELLED=1]="CANCELLED",ec[ec.UNKNOWN=2]="UNKNOWN",ec[ec.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ec[ec.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ec[ec.NOT_FOUND=5]="NOT_FOUND",ec[ec.ALREADY_EXISTS=6]="ALREADY_EXISTS",ec[ec.PERMISSION_DENIED=7]="PERMISSION_DENIED",ec[ec.UNAUTHENTICATED=16]="UNAUTHENTICATED",ec[ec.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ec[ec.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ec[ec.ABORTED=10]="ABORTED",ec[ec.OUT_OF_RANGE=11]="OUT_OF_RANGE",ec[ec.UNIMPLEMENTED=12]="UNIMPLEMENTED",ec[ec.INTERNAL=13]="INTERNAL",ec[ec.UNAVAILABLE=14]="UNAVAILABLE",ec[ec.DATA_LOSS=15]="DATA_LOSS";var oc=function(){function e(t,n){v(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){tu(this.inner,(function(t,n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return nu(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),sc=new ru(zs.comparator);function uc(){return sc}var lc=new ru(zs.comparator);function cc(){for(var e=lc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function fc(e){var t=lc;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function hc(){return pc()}function dc(){return pc()}function pc(){return new oc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var vc=new ru(zs.comparator),mc=new ou(zs.comparator);function gc(){for(var e=mc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var yc=new ou(Ds);function bc(){return yc}var wc=function(){function e(t,n,r,i,a){v(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,kc.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ms.min(),r,bc(),uc(),gc())}}]),e}(),kc=function(){function e(t,n,r,i,a){v(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(lu.EMPTY_BYTE_STRING,n,gc(),gc(),gc())}}]),e}(),_c=g((function e(t,n,r,i){v(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),xc=g((function e(t,n){v(this,e),this.targetId=t,this.It=n})),Sc=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lu.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;v(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Cc=function(){function e(){v(this,e),this.Tt=0,this.Et=Nc(),this.At=lu.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return g(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=gc(),t=gc(),n=gc();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ys()}})),new kc(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=Nc()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Mt",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),Ec=function(){function e(t){v(this,e),this.Ot=t,this.Ft=new Map,this.$t=uc(),this.Bt=Tc(),this.Lt=new ou(Ds)}return g(e,[{key:"Ut",value:function(e){var t,n=I(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(s){n.e(s)}finally{n.f()}var i,a=I(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:ys()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(Hu(i))if(0===n){var a=new zs(i.path);this.Kt(t,a,Bu.newNoDocument(a,Ms.min()))}else bs(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&Hu(a.target)){var o=new zs(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,Bu.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=gc();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new wc(e,n,this.Lt,this.$t,r);return this.$t=uc(),this.Bt=Tc(),this.Lt=new ou(Ds),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new Cc,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new ou(Ds),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||ps("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new Cc),this.Ot.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}]),e}();function Tc(){return new ru(zs.comparator)}function Nc(){return new ru(zs.comparator)}var Ic={asc:"ASCENDING",desc:"DESCENDING"},jc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ac=g((function e(t,n){v(this,e),this.databaseId=t,this.dt=n}));function Rc(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dc(e,t){return e.dt?t.toBase64():t.toUint8Array()}function Pc(e,t){return Rc(e,t.toTimestamp())}function Oc(e){return bs(!!e),Ms.fromTimestamp(function(e){var t=fu(e);return new Os(t.seconds,t.nanos)}(e))}function Mc(e,t){return function(e){return new Us(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Lc(e){var t=Us.fromString(e);return bs(rf(t)),t}function Uc(e,t){return Mc(e.databaseId,t.path)}function Fc(e,t){var n=Lc(t);if(n.get(1)!==e.databaseId.projectId)throw new _s(ks.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new _s(ks.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zs(qc(n))}function Bc(e,t){return Mc(e.databaseId,t)}function zc(e){var t=Lc(e);return 4===t.length?Us.emptyPath():qc(t)}function Vc(e){return new Us(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function qc(e){return bs(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Wc(e,t,n){return{name:Uc(e,t),fields:n.value.mapValue.fields}}function Hc(e,t){var n;if(t instanceof Ql)n={update:Wc(e,t.key,t.value)};else if(t instanceof tc)n={delete:Uc(e,t.key)};else if(t instanceof Jl)n={update:Wc(e,t.key,t.data),updateMask:nf(t.fieldMask)};else{if(!(t instanceof nc))return ys();n={verify:Uc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof jl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Al)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Dl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ol)return{fieldPath:t.field.canonicalString(),increment:n._t};throw ys()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Pc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ys()}(e,t.precondition)),n}function Kc(e,t){return{documents:[Bc(e,t.path)]}}function Gc(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Bc(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Bc(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Pu(e.value))return{unaryFilter:{field:Xc(e.field),op:"IS_NAN"}};if(Du(e.value))return{unaryFilter:{field:Xc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Pu(e.value))return{unaryFilter:{field:Xc(e.field),op:"IS_NOT_NAN"}};if(Du(e.value))return{unaryFilter:{field:Xc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xc(e.field),op:Yc(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Xc(e.field),direction:$c(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.dt||bu(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Qc(e){var t=zc(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){bs(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Jc(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new nl(Zc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return bu(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new tl(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new tl(n,t)}(n.endAt)),sl(t,i,s,o,u,"F",l,c)}function Jc(e){return e?void 0!==e.unaryFilter?[tf(e)]:void 0!==e.fieldFilter?[ef(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Jc(e)})).reduce((function(e,t){return e.concat(t)})):ys():[]}function $c(e){return Ic[e]}function Yc(e){return jc[e]}function Xc(e){return{fieldPath:e.canonicalString()}}function Zc(e){return Bs.fromServerFormat(e.fieldPath)}function ef(e){return Ku.create(Zc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ys()}}(e.fieldFilter.op),e.fieldFilter.value)}function tf(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Zc(e.unaryFilter.field);return Ku.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Zc(e.unaryFilter.field);return Ku.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Zc(e.unaryFilter.field);return Ku.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Zc(e.unaryFilter.field);return Ku.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ys()}}function nf(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function rf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var af=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),of=([].concat(p(af),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),sf=of;[].concat(sf,["indexConfiguration","indexState","indexEntries"]);var uf=function(){function e(t,n,r,i){v(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Wl(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=I(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Hl(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=I(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Hl(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=dc();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=ql(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ms.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),gc())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ps(this.mutations,e.mutations,(function(e,t){return Gl(e,t)}))&&Ps(this.baseMutations,e.baseMutations,(function(e,t){return Gl(e,t)}))}}]),e}(),lf=function(){function e(t,n,r,i){v(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return g(e,null,[{key:"from",value:function(t,n,r){bs(t.mutations.length===r.length);for(var i=vc,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),cf=function(){function e(t,n){v(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),ff=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ms.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ms.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:lu.EMPTY_BYTE_STRING;v(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return g(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),hf=g((function e(t){v(this,e),this.ne=t}));function df(e){var t=Qc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vl(t,t.limit,"L"):t}var pf=function(){function e(){v(this,e)}return g(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(hu(e.integerValue));else if("doubleValue"in e){var n=hu(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),wu(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(du(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?Lu(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):ys()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),zs.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();pf.ye=new pf;var vf=function(){function e(){v(this,e),this.ze=new mf}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),Ys.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ys.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Ys.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Ys.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Ys.resolve(null)}},{key:"getIndexType",value:function(e,t){return Ys.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Ys.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Ys.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Ys.resolve(Hs.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Ys.resolve(Hs.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Ys.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Ys.resolve()}}]),e}(),mf=function(){function e(){v(this,e),this.index={}}return g(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ou(Us.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ou(Us.comparator)).toArray()}}]),e}();new Uint8Array(0);var gf=function(){function e(t,n,r){v(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();gf.DEFAULT_COLLECTION_PERCENTILE=10,gf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gf.DEFAULT=new gf(41943040,gf.DEFAULT_COLLECTION_PERCENTILE,gf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gf.DISABLED=new gf(-1,0,0);var yf=function(){function e(t){v(this,e),this.En=t}return g(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}();var bf=function(){function e(){v(this,e),this.changes=new oc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Bu.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ys.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var wf=g((function e(t,n){v(this,e),this.overlayedDocument=t,this.mutatedFields=n})),kf=function(){function e(t,n,r,i){v(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return g(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Hl(r.mutation,e,uu.empty(),Os.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,gc()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gc(),i=hc();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=cc();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=hc();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,gc())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=uc(),a=pc(),o=pc();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Jl)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Hl(o.mutation,t,o.mutation.getFieldMask(),Os.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new wf(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=pc(),i=new ru((function(e,t){return e-t})),a=gc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=I(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||uu.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||gc()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,l=i.value,c=dc();l.forEach((function(e){if(!a.has(e)){var n=ql(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return Ys.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return zs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Ys.resolve(hc()),s=-1,u=a;return o.next((function(t){return Ys.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Ys.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,gc())})).next((function(e){return{batchId:s,changes:fc(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new zs(t)).next((function(e){var t=cc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=cc();return this.indexManager.getCollectionParents(e,i).next((function(o){return Ys.forEach(o,(function(o){var s=function(e,t){return new ol(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Bu.newInvalidDocument(n)))}));var n=cc();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Hl(a.mutation,i,uu.empty(),Os.now()),bl(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ys.resolve(Bu.newInvalidDocument(t))}}]),e}(),_f=function(){function e(t){v(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return g(e,[{key:"getBundleMetadata",value:function(e,t){return Ys.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:Oc(n.createTime)}),Ys.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ys.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:df(e.bundledQuery),readTime:Oc(e.readTime)}}(t)),Ys.resolve()}}]),e}(),xf=function(){function e(){v(this,e),this.overlays=new ru(zs.comparator),this.Xn=new Map}return g(e,[{key:"getOverlay",value:function(e,t){return Ys.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=hc();return Ys.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),Ys.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),Ys.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=hc(),i=t.length+1,a=new zs(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Ys.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ru((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=hc(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=hc(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Ys.resolve(u)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new cf(t,n));var a=this.Xn.get(t);void 0===a&&(a=gc(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),Sf=function(){function e(){v(this,e),this.Zn=new ou(Cf.ts),this.es=new ou(Cf.ns)}return g(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Cf(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new Cf(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new zs(new Us([])),r=new Cf(n,e),i=new Cf(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new zs(new Us([])),n=new Cf(t,e),r=new Cf(t,e+1),i=gc();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Cf(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Cf=function(){function e(t,n){v(this,e),this.key=t,this.ls=n}return g(e,null,[{key:"ts",value:function(e,t){return zs.comparator(e.key,t.key)||Ds(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Ds(e.ls,t.ls)||zs.comparator(e.key,t.key)}}]),e}(),Ef=function(){function e(t,n){v(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new ou(Cf.ts)}return g(e,[{key:"checkEmpty",value:function(e){return Ys.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new uf(i,t,n,r);this.mutationQueue.push(a);var o,s=I(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ds=this.ds.add(new Cf(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return Ys.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Ys.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return Ys.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ys.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return Ys.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Cf(t,0),i=new Cf(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),Ys.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ou(Ds);return t.forEach((function(e){var t=new Cf(e,0),i=new Cf(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),Ys.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;zs.isDocumentKey(i)||(i=i.child(""));var a=new Cf(new zs(i),0),o=new ou(Ds);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),Ys.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;bs(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return Ys.forEach(t.mutations,(function(i){var a=new Cf(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Cf(t,0),r=this.ds.firstAfterOrEqual(n);return Ys.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Ys.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Tf=function(){function e(t){v(this,e),this.ps=t,this.docs=new ru(zs.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ys.resolve(n?n.document.mutableCopy():Bu.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=uc();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Bu.newInvalidDocument(e))})),Ys.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=uc(),i=new zs(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||Ks(Ws(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return Ys.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ys()}},{key:"Is",value:function(e,t){return Ys.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Nf(this)}},{key:"getSize",value:function(e){return Ys.resolve(this.size)}}]),e}(),Nf=function(e){b(n,e);var t=C(n);function n(e){var r;return v(this,n),(r=t.call(this)).zn=e,r}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),Ys.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(bf),If=function(){function e(t){v(this,e),this.persistence=t,this.Ts=new oc((function(e){return qu(e)}),Wu),this.lastRemoteSnapshotVersion=Ms.min(),this.highestTargetId=0,this.Es=0,this.As=new Sf,this.targetCount=0,this.Rs=yf.An()}return g(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),Ys.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ys.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ys.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),Ys.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),Ys.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new yf(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,Ys.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),Ys.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Ys.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Ys.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ys.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return Ys.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),Ys.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ys.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),Ys.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return Ys.resolve(n)}},{key:"containsKey",value:function(e,t){return Ys.resolve(this.As.containsKey(t))}}]),e}(),jf=function(){function e(t,n){var r=this;v(this,e),this.bs={},this.overlays={},this.Ps=new Zs(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new If(this),this.indexManager=new vf,this.remoteDocumentCache=new Tf((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new hf(n),this.Ds=new _f(this.wt)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new xf,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new Ef(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;ps("MemoryPersistence","Starting transaction:",e);var i=new Af(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return Ys.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Af=function(e){b(n,e);var t=C(n);function n(e){var r;return v(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return g(n)}(Qs),Rf=function(){function e(t){v(this,e),this.persistence=t,this.ks=new Sf,this.Ms=null}return g(e,[{key:"Fs",get:function(){if(this.Ms)return this.Ms;throw ys()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),Ys.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),Ys.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),Ys.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Ms=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ys.forEach(this.Fs,(function(r){var i=zs.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,Ms.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Ys.or([function(){return Ys.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Os",value:function(t){return new e(t)}}]),e}();var Df=function(){function e(t,n,r,i){v(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return g(e,null,[{key:"Vi",value:function(t,n){var r,i=gc(),a=gc(),o=I(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Pf=function(){function e(){v(this,e),this.Si=!1}return g(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){var n=this;if(ll(t))return Ys.resolve(null);var r=pl(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=vl(t,null,"F"),r=pl(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=gc.apply(void 0,p(i));return n.Di.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ki(t,i);return n.Mi(t,o,a,r.readTime)?n.Ci(e,vl(t,null,"F")):n.Oi(e,o,t,r)}))}))})))}))}},{key:"xi",value:function(e,t,n,r){var i=this;return ll(t)||r.isEqual(Ms.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Mi(t,o,n,r)?i.Ni(e,t):(ds()<=Wt.DEBUG&&ps("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),yl(t)),i.Oi(e,o,t,qs(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new ou(kl(e));return t.forEach((function(t,r){bl(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return ds()<=Wt.DEBUG&&ps("QueryEngine","Using full collection scan to execute query:",yl(t)),this.Di.getDocumentsMatchingQuery(e,t,Hs.min())}},{key:"Oi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Of=function(){function e(t,n,r,i){v(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new ru(Ds),this.Bi=new oc((function(e){return qu(e)}),Wu),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return g(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kf(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function Mf(e,t,n,r){return new Of(e,t,n,r)}function Lf(e,t){return Uf.apply(this,arguments)}function Uf(){return Uf=$e(Qe().mark((function e(t,n){var r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ws(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=gc(),u=I(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.push(l.batchId);var c,f=I(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;s=s.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=I(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=I(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Uf.apply(this,arguments)}function Ff(e,t){var n=ws(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ys.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);bs(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=gc(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Bf(e){var t=ws(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function zf(e,t){var n=ws(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?l=l.withResumeToken(lu.EMPTY_BYTE_STRING,Ms.min()).withLastLimboFreeSnapshotVersion(Ms.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.Vs.updateTargetData(e,l))}}));var s=uc(),u=gc();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Vf(e,a,t.documentUpdates).next((function(e){s=e.Gi,u=e.Qi}))),!r.isEqual(Ms.min())){var l=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return Ys.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.$i=i,e}))}function Vf(e,t,n){var r=gc(),i=gc();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=uc();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Ms.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ps("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function qf(e,t){var n=ws(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Wf(e,t){var n=ws(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,Ys.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new ff(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function Hf(e,t,n){return Kf.apply(this,arguments)}function Kf(){return Kf=$e(Qe().mark((function e(t,n,r){var i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ws(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Xs(e.t1)){e.next=12;break}throw e.t1;case 12:ps("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Kf.apply(this,arguments)}function Gf(e,t,n){var r=ws(e),i=Ms.min(),a=gc();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ws(e),i=r.Bi.get(n);return void 0!==i?Ys.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,pl(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:Ms.min(),n?a:gc())})).next((function(e){return Qf(r,wl(t),e),{documents:e,ji:a}}))}))}function Qf(e,t,n){var r=Ms.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}var Jf=function(){function e(){v(this,e),this.activeTargetIds=bc()}return g(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),$f=function(){function e(){v(this,e),this.Fr=new Jf,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new Jf,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Yf=function(){function e(){v(this,e)}return g(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Xf=function(){function e(){var t=this;v(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return g(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){ps("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=I(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){ps("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=I(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Zf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},eh=function(){function e(t){v(this,e),this.jr=t.jr,this.Wr=t.Wr}return g(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),th=function(e){b(n,e);var t=C(n);function n(e){var r;return v(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return g(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new us;o.listenOnce(rs.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case ns.NO_ERROR:var t=o.getResponseJson();ps("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ns.TIMEOUT:ps("Connection",'RPC "'+e+'" timed out'),a(new _s(ks.DEADLINE_EXCEEDED,"Request time out"));break;case ns.HTTP_ERROR:var n=o.getStatus();if(ps("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ks).indexOf(t)>=0?t:ks.UNKNOWN}(r.status);a(new _s(s,r.message))}else a(new _s(ks.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new _s(ks.UNAVAILABLE,"Connection failed."));break;default:ys()}}finally{ps("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=es(),a=ts(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new os({})),this.uo(o.initMessageHeaders,t,n),pt()||mt()||dt().indexOf("Electron/")>=0||function(){var e=dt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||dt().indexOf("MSAppHost/")>=0||vt()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");ps("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),l=!1,c=!1,f=new eh({jr:function(e){c?ps("Connection","Not sending because WebChannel is closed:",e):(l||(ps("Connection","Opening WebChannel transport."),u.open(),l=!0),ps("Connection","WebChannel sending:",e),u.send(e))},Wr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,ss.EventType.OPEN,(function(){c||ps("Connection","WebChannel transport opened.")})),h(u,ss.EventType.CLOSE,(function(){c||(c=!0,ps("Connection","WebChannel transport closed"),f.eo())})),h(u,ss.EventType.ERROR,(function(e){c||(c=!0,ms("Connection","WebChannel transport errored:",e),f.eo(new _s(ks.UNAVAILABLE,"The operation could not be completed")))})),h(u,ss.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];bs(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ps("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Zl[e];if(void 0!==t)return ac(t)}(a),s=i.message;void 0===o&&(o=ks.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),c=!0,f.eo(new _s(o,s)),u.close()}else ps("Connection","WebChannel received:",n),f.no(n)}})),h(a,is.STAT_EVENT,(function(e){e.stat===as.PROXY?ps("Connection","Detected buffering proxy"):e.stat===as.NOPROXY&&ps("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){v(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return g(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);ps("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return ps("RestConnection","Received: ",e),e}),(function(t){throw ms("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+fs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=Zf[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function nh(){return"undefined"!=typeof document?document:null}function rh(e){return new Ac(e,!0)}var ih=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;v(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&ps("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),ah=function(){function e(t,n,r,i,a,o,s,u){v(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new ih(t,n)}return g(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=$e(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=$e(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=$e(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===ks.RESOURCE_EXHAUSTED?(vs(n.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===ks.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new _s(ks.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io($e(Qe().mark((function t(){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return ps("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(ps("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),oh=function(e){b(n,e);var t=C(n);function n(e,r,i,a,o,s){var u;return v(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).wt=o,u}return g(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ys()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(bs(void 0===t||"string"==typeof t),lu.fromBase64String(t||"")):(bs(void 0===t||t instanceof Uint8Array),lu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?ks.UNKNOWN:ac(e.code);return new _s(t,e.message||"")}(o);n=new Sc(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=Fc(e,u.document.name),c=Oc(u.document.updateTime),f=new Uu({mapValue:{fields:u.document.fields}}),h=Bu.newFoundDocument(l,c,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new _c(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Fc(e,v.document),g=v.readTime?Oc(v.readTime):Ms.min(),y=Bu.newNoDocument(m,g),b=v.removedTargetIds||[];n=new _c([],b,y.key,y)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var k=Fc(e,w.document),_=w.removedTargetIds||[];n=new _c([],_,k,null)}else{if(!("filter"in t))return ys();t.filter;var x=t.filter;x.targetId;var S=x.count||0,C=new rc(S),E=x.targetId;n=new xc(E,C)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Ms.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ms.min():t.readTime?Oc(t.readTime):Ms.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Vc(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=Hu(r)?{documents:Kc(e,r)}:{query:Gc(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Dc(e,t.resumeToken):t.snapshotVersion.compareTo(Ms.min())>0&&(n.readTime=Rc(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ys()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=Vc(this.wt),t.removeTarget=e,this.Oo(t)}}]),n}(ah),sh=function(e){b(n,e);var t=C(n);function n(e,r,i,a,o,s){var u;return v(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).wt=o,u.Wo=!1,u}return g(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Xe(w(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(bs(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(bs(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Oc(e.updateTime):Oc(t);return n.isEqual(Ms.min())&&(n=Oc(t)),new Fl(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Oc(e.commitTime);return this.listener.Jo(n,t)}return bs(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Vc(this.wt),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Hc(t.wt,e)}))};this.Oo(n)}}]),n}(ah),uh=function(e){b(n,e);var t=C(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return g(n,[{key:"tu",value:function(){if(this.Zo)throw new _s(ks.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.bo.ro(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ks.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new _s(ks.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),s=o[0],u=o[1];return i.bo.ao(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ks.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new _s(ks.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return g((function e(){v(this,e)}))}()),lh=function(){function e(t,n){v(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return g(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(vs(t),this.su=!1):ps("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),ch=g((function e(t,n,r,i,a){var o=this;v(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget($e(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=kh(o),!e.t0){e.next=5;break}return ps("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=$e(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ws(t)).lu.add(4),e.next=4,dh(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,fh(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new lh(r,i)}));function fh(e){return hh.apply(this,arguments)}function hh(){return hh=$e(Qe().mark((function e(t){var n,r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!kh(t)){e.next=18;break}n=I(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),hh.apply(this,arguments)}function dh(e){return ph.apply(this,arguments)}function ph(){return ph=$e(Qe().mark((function e(t){var n,r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=I(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),ph.apply(this,arguments)}function vh(e,t){var n=ws(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),wh(n)?bh(n):$h(n).Co()&&gh(n,t))}function mh(e,t){var n=ws(e),r=$h(n);n.hu.delete(t),r.Co()&&yh(n,t),0===n.hu.size&&(r.Co()?r.ko():kh(n)&&n._u.set("Unknown"))}function gh(e,t){e.wu.Nt(t.targetId),$h(e).Qo(t)}function yh(e,t){e.wu.Nt(t),$h(e).jo(t)}function bh(e){e.wu=new Ec({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),$h(e).start(),e._u.iu()}function wh(e){return kh(e)&&!$h(e).Do()&&e.hu.size>0}function kh(e){return 0===ws(e).lu.size}function _h(e){e.wu=void 0}function xh(e){return Sh.apply(this,arguments)}function Sh(){return Sh=$e(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){gh(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Sh.apply(this,arguments)}function Ch(e,t){return Eh.apply(this,arguments)}function Eh(){return Eh=$e(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_h(t),wh(t)?(t._u.uu(n),bh(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Eh.apply(this,arguments)}function Th(e,t,n){return Nh.apply(this,arguments)}function Nh(){return Nh=$e(Qe().mark((function e(t,n,r){var i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof Sc&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=$e(Qe().mark((function e(t,n){var r,i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=I(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ps("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Ih(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof _c?t.wu.Ut(n):n instanceof xc?t.wu.zt(n):t.wu.Gt(n),r.isEqual(Ms.min())){e.next=29;break}return e.prev=14,e.next=17,Bf(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(lu.EMPTY_BYTE_STRING,n.snapshotVersion)),yh(e,t);var r=new ff(n.target,t,1,n.sequenceNumber);gh(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ps("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Ih(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Nh.apply(this,arguments)}function Ih(e,t,n){return jh.apply(this,arguments)}function jh(){return jh=$e(Qe().mark((function e(t,n,r){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xs(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,dh(t);case 5:t._u.set("Offline"),r||(r=function(){return Bf(t.localStore)}),t.asyncQueue.enqueueRetryable($e(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ps("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,fh(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),jh.apply(this,arguments)}function Ah(e,t){return t().catch((function(n){return Ih(e,n,t)}))}function Rh(e){return Dh.apply(this,arguments)}function Dh(){return Dh=$e(Qe().mark((function e(t){var n,r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ws(t),r=Yh(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!Ph(n)){e.next=19;break}return e.prev=3,e.next=6,qf(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,Oh(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Ih(n,e.t0);case 17:e.next=2;break;case 19:Mh(n)&&Lh(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Dh.apply(this,arguments)}function Ph(e){return kh(e)&&e.au.length<10}function Oh(e,t){e.au.push(t);var n=Yh(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function Mh(e){return kh(e)&&!Yh(e).Do()&&e.au.length>0}function Lh(e){Yh(e).start()}function Uh(e){return Fh.apply(this,arguments)}function Fh(){return Fh=$e(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yh(t).Xo();case 1:case"end":return e.stop()}}),e)}))),Fh.apply(this,arguments)}function Bh(e){return zh.apply(this,arguments)}function zh(){return zh=$e(Qe().mark((function e(t){var n,r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Yh(t),r=I(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),zh.apply(this,arguments)}function Vh(e,t,n){return qh.apply(this,arguments)}function qh(){return qh=$e(Qe().mark((function e(t,n,r){var i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=lf.from(i,n,r),e.next=3,Ah(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Rh(t);case 5:case"end":return e.stop()}}),e)}))),qh.apply(this,arguments)}function Wh(e,t){return Hh.apply(this,arguments)}function Hh(){return Hh=$e(Qe().mark((function e(t,n){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Yh(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=$e(Qe().mark((function e(t,n){var r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ic(i=n.code)||i===ks.ABORTED){e.next=7;break}return r=t.au.shift(),Yh(t).No(),e.next=5,Ah(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Rh(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Mh(t)&&Lh(t);case 5:case"end":return e.stop()}}),e)}))),Hh.apply(this,arguments)}function Kh(e,t){return Gh.apply(this,arguments)}function Gh(){return Gh=$e(Qe().mark((function e(t,n){var r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ws(t)).asyncQueue.verifyOperationInProgress(),ps("RemoteStore","RemoteStore received new credentials"),i=kh(r),r.lu.add(3),e.next=6,dh(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,fh(r);case 12:case"end":return e.stop()}}),e)}))),Gh.apply(this,arguments)}function Qh(e,t){return Jh.apply(this,arguments)}function Jh(){return Jh=$e(Qe().mark((function e(t,n){var r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ws(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,fh(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,dh(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Jh.apply(this,arguments)}function $h(e){return e.mu||(e.mu=function(e,t,n){var r=ws(e);return r.tu(),new oh(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:xh.bind(null,e),Jr:Ch.bind(null,e),Go:Th.bind(null,e)}),e.fu.push(function(){var t=$e(Qe().mark((function t(n){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),wh(e)?bh(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:_h(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function Yh(e){return e.gu||(e.gu=function(e,t,n){var r=ws(e);return r.tu(),new sh(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Uh.bind(null,e),Jr:Wh.bind(null,e),Yo:Bh.bind(null,e),Jo:Vh.bind(null,e)}),e.fu.push(function(){var t=$e(Qe().mark((function t(n){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,Rh(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(ps("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var Xh=function(){function e(t,n,r,i,a){v(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return g(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _s(ks.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Zh(e,t){if(vs("AsyncQueue","".concat(t,": ").concat(e)),Xs(e))return new _s(ks.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var ed=function(){function e(t){v(this,e),this.comparator=t?function(e,n){return t(e,n)||zs.comparator(e.key,n.key)}:function(e,t){return zs.comparator(e.key,t.key)},this.keyedMap=cc(),this.sortedSet=new ru(this.comparator)}return g(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),td=function(){function e(){v(this,e),this.yu=new ru(zs.comparator)}return g(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ys():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),nd=function(){function e(t,n,r,i,a,o,s,u){v(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ml(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,ed.emptySet(n),a,r,i,!0,!1)}}]),e}(),rd=g((function e(){v(this,e),this.Iu=void 0,this.listeners=[]})),id=g((function e(){v(this,e),this.queries=new oc((function(e){return gl(e)}),ml),this.onlineState="Unknown",this.Tu=new Set}));function ad(e,t){return od.apply(this,arguments)}function od(){return od=$e(Qe().mark((function e(t,n){var r,i,a,o,s;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ws(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new rd),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Zh(e.t0,"Initialization of query '".concat(yl(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&fd(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),od.apply(this,arguments)}function sd(e,t){return ud.apply(this,arguments)}function ud(){return ud=$e(Qe().mark((function e(t,n){var r,i,a,o,s;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ws(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),ud.apply(this,arguments)}function ld(e,t){var n,r=ws(e),i=!1,a=I(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var l,c=I(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Au(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}u.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&fd(r)}function cd(e,t,n){var r=ws(e),i=r.queries.get(t);if(i){var a,o=I(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function fd(e){e.Tu.forEach((function(e){e.next()}))}var hd=function(){function e(t,n,r){v(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=I(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new nd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=nd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}();var dd=g((function e(t){v(this,e),this.key=t})),pd=g((function e(t){v(this,e),this.key=t})),vd=function(){function e(t,n){v(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=gc(),this.mutatedKeys=gc(),this.Lu=kl(t),this.Uu=new ed(this.Lu)}return g(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new td,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=bl(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(c,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Lu(f,u)>0||l&&n.Lu(f,l)<0)&&(s=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Uu:o,Gu:r,Mi:s,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ys()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],s=0===this.Bu.size&&this.current?1:0,u=s!==this.$u;return this.$u=s,0!==a.length||u?{snapshot:new nd(this.query,e.Uu,i,a,e.mutatedKeys,0===s,u,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new td,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=gc(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new pd(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new dd(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=gc();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return nd.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),md=g((function e(t,n,r){v(this,e),this.query=t,this.targetId=n,this.view=r})),gd=g((function e(t){v(this,e),this.key=t,this.Xu=!1})),yd=function(){function e(t,n,r,i,a,o){v(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new oc((function(e){return gl(e)}),ml),this.ec=new Map,this.nc=new Set,this.sc=new ru(zs.comparator),this.ic=new Map,this.rc=new Sf,this.oc={},this.uc=new Map,this.cc=yf.Rn(),this.onlineState="Unknown",this.ac=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function bd(e,t){return wd.apply(this,arguments)}function wd(){return wd=$e(Qe().mark((function e(t,n){var r,i,a,o,s,u;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Qd(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,Wf(r.localStore,pl(n));case 8:return s=e.sent,r.isPrimaryClient&&vh(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,kd(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),wd.apply(this,arguments)}function kd(e,t,n,r){return _d.apply(this,arguments)}function _d(){return _d=$e(Qe().mark((function e(t,n,r,i){var a,o,s,u,l,c;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=$e(Qe().mark((function e(t,n,r,i){var a,o,s;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,Gf(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Bd(t,n.targetId,s.zu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Gf(t.localStore,n,!0);case 3:return a=e.sent,o=new vd(n,a.ji),s=o.Ku(a.documents),u=kc.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=o.applyChanges(s,t.isPrimaryClient,u),Bd(t,r,l.zu),c=new md(n,r,o),e.abrupt("return",(t.tc.set(n,c),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),_d.apply(this,arguments)}function xd(e,t){return Sd.apply(this,arguments)}function Sd(){return Sd=$e(Qe().mark((function e(t,n){var r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ws(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!ml(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Hf(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),mh(r.remoteStore,i.targetId),Ud(r,i.targetId)})).catch(Js);case 9:e.next=14;break;case 11:return Ud(r,i.targetId),e.next=14,Hf(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Sd.apply(this,arguments)}function Cd(e,t,n){return Ed.apply(this,arguments)}function Ed(){return Ed=$e(Qe().mark((function e(t,n,r){var i,a,o;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jd(t),e.prev=1,e.next=4,function(e,t){var n,r,i=ws(e),a=Os.now(),o=t.reduce((function(e,t){return e.add(t.key)}),gc());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=uc(),u=gc();return i.Ui.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=I(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=Kl(l,n.get(l.key).overlayedDocument);null!=c&&s.push(new Jl(l.key,c,Fu(c.value.mapValue),Bl.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:fc(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new ru(Ds)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,qd(i,a.changes);case 9:return e.next=11,Rh(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Zh(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Ed.apply(this,arguments)}function Td(e,t){return Nd.apply(this,arguments)}function Nd(){return Nd=$e(Qe().mark((function e(t,n){var r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ws(t),e.prev=1,e.next=4,zf(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(bs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?bs(n.Xu):e.removedDocuments.size>0&&(bs(n.Xu),n.Xu=!1))})),e.next=8,qd(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Js(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Nd.apply(this,arguments)}function Id(e,t,n){var r=ws(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ws(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=I(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&fd(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function jd(e,t,n){return Ad.apply(this,arguments)}function Ad(){return Ad=$e(Qe().mark((function e(t,n,r){var i,a,o,s,u,l;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=ws(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new ru(zs.comparator)).insert(o,Bu.newNoDocument(o,Ms.min())),u=gc().add(o),l=new wc(Ms.min(),new Map,new ou(Ds),s,u),e.next=9,Td(i,l);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),Vd(i),e.next=16;break;case 14:return e.next=16,Hf(i.localStore,n,!1).then((function(){return Ud(i,n,r)})).catch(Js);case 16:case"end":return e.stop()}}),e)}))),Ad.apply(this,arguments)}function Rd(e,t){return Dd.apply(this,arguments)}function Dd(){return Dd=$e(Qe().mark((function e(t,n){var r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ws(t),i=n.batch.batchId,e.prev=1,e.next=4,Ff(r.localStore,n);case 4:return a=e.sent,Ld(r,i,null),Md(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,qd(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Js(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Dd.apply(this,arguments)}function Pd(e,t,n){return Od.apply(this,arguments)}function Od(){return Od=$e(Qe().mark((function e(t,n,r){var i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ws(t),e.prev=1,e.next=4,function(e,t){var n=ws(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return bs(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Ld(i,n,r),Md(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,qd(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Js(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Od.apply(this,arguments)}function Md(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function Ld(e,t,n){var r=ws(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function Ud(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=I(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||Fd(e,t)}))}function Fd(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(mh(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),Vd(e))}function Bd(e,t,n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof dd?(e.rc.addReference(a.key,t),zd(e,a)):a instanceof pd?(ps("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||Fd(e,a.key)):ys()}}catch(o){i.e(o)}finally{i.f()}}function zd(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(ps("SyncEngine","New document in limbo: "+n),e.nc.add(r),Vd(e))}function Vd(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new zs(Us.fromString(t)),r=e.cc.next();e.ic.set(r,new gd(n)),e.sc=e.sc.insert(n,r),vh(e.remoteStore,new ff(pl(ul(n.path)),r,2,Zs.ot))}}function qd(e,t,n){return Wd.apply(this,arguments)}function Wd(){return Wd=$e(Qe().mark((function e(t,n,r){var i,a,o,s;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ws(t),a=[],o=[],s=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){s.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Df.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Zu.Go(a),e.next=9,function(){var e=$e(Qe().mark((function e(t,n){var r,i,a,o,s,u,l,c;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ws(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ys.forEach(n,(function(t){return Ys.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ys.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Xs(e.t0)){e.next=10;break}throw e.t0;case 10:ps("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=I(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.$i.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),r.$i=r.$i.insert(s,c))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Wd.apply(this,arguments)}function Hd(e,t){return Kd.apply(this,arguments)}function Kd(){return Kd=$e(Qe().mark((function e(t,n){var r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ws(t)).currentUser.isEqual(n)){e.next=11;break}return ps("SyncEngine","User change. New user:",n.toKey()),e.next=5,Lf(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new _s(ks.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,qd(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),Kd.apply(this,arguments)}function Gd(e,t){var n=ws(e),r=n.ic.get(t);if(r&&r.Xu)return gc().add(r.key);var i=gc(),a=n.ec.get(t);if(!a)return i;var o,s=I(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n.tc.get(u);i=i.unionWith(l.view.qu)}}catch(c){s.e(c)}finally{s.f()}return i}function Qd(e){var t=ws(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Td.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jd.bind(null,t),t.Zu.Go=ld.bind(null,t.eventManager),t.Zu.lc=cd.bind(null,t.eventManager),t}function Jd(e){var t=ws(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Rd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Pd.bind(null,t),t}var $d=function(){function e(){v(this,e),this.synchronizeTabs=!1}return g(e,[{key:"initialize",value:function(){var e=$e(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=rh(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return Mf(this.persistence,new Pf,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new jf(Rf.Os,this.wt)}},{key:"dc",value:function(e){return new $f}},{key:"terminate",value:function(){var e=$e(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Yd=function(){function e(){v(this,e)}return g(e,[{key:"initialize",value:function(){var e=$e(Qe().mark((function e(t,n){var r=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Id(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Hd.bind(null,this.syncEngine),e.next=12,Qh(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new id}},{key:"createDatastore",value:function(e){var t,n=rh(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new th(t));return function(e,t,n,r){return new uh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Id(o.syncEngine,e,0)},a=Xf.V()?new Xf:new Yf,new ch(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new yd(e,t,n,r,i,a);return o&&(s.ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=$e(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ws(t),ps("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,dh(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Xd=function(){function e(t){v(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):vs("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Zd=function(){function e(t,n,r,i){var a=this;v(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cs.UNAUTHENTICATED,this.clientId=Rs.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=$e(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ps("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return ps("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return g(e,[{key:"getConfiguration",value:function(){var e=$e(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new _s(ks.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted($e(Qe().mark((function n(){var r;return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Zh(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function ep(e,t){return tp.apply(this,arguments)}function tp(){return tp=$e(Qe().mark((function e(t,n){var r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ps("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=$e(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Lf(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),tp.apply(this,arguments)}function np(e,t){return rp.apply(this,arguments)}function rp(){return rp=$e(Qe().mark((function e(t,n){var r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ip(t);case 3:return r=e.sent,ps("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Kh(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Kh(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),rp.apply(this,arguments)}function ip(e){return ap.apply(this,arguments)}function ap(){return ap=$e(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return ps("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,ep(t,new $d);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),ap.apply(this,arguments)}function op(e){return sp.apply(this,arguments)}function sp(){return sp=$e(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return ps("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,np(t,new Yd);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),sp.apply(this,arguments)}function up(e){return op(e).then((function(e){return e.syncEngine}))}function lp(e){return cp.apply(this,arguments)}function cp(){return cp=$e(Qe().mark((function e(t){var n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,op(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=bd.bind(null,n.syncEngine),r.onUnlisten=xd.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),cp.apply(this,arguments)}function fp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new xs;return e.asyncQueue.enqueueAndForget($e(Qe().mark((function i(){return Qe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Xd({next:function(n){t.enqueueAndForget((function(){return sd(e,o)})),n.fromCache&&"server"===r.source?i.reject(new _s(ks.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new hd(n,a,{includeMetadataChanges:!0,Du:!0});return ad(e,o)},i.next=3,lp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var hp=new Map;function dp(e,t,n){if(!n)throw new _s(ks.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function pp(e){if(!zs.isDocumentKey(e))throw new _s(ks.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function vp(e){if(zs.isDocumentKey(e))throw new _s(ks.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function mp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ys()}function gp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new _s(ks.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=mp(e);throw new _s(ks.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var yp=function(){function e(t){var n;if(v(this,e),void 0===t.host){if(void 0!==t.ssl)throw new _s(ks.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _s(ks.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new _s(ks.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return g(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),bp=function(){function e(t,n,r){v(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yp({}),this._settingsFrozen=!1,t instanceof yu?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new _s(ks.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(e.options.projectId)}(t))}return g(e,[{key:"app",get:function(){if(!this._app)throw new _s(ks.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new _s(ks.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Cs;switch(e.type){case"gapi":var t=e.client;return bs(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ns(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new _s(ks.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=hp.get(e);t&&(ps("ComponentProvider","Removing Datastore"),hp.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var wp=function(){function e(t,n,r){v(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new _p(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),kp=function(){function e(t,n,r){v(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),_p=function(e){b(n,e);var t=C(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e,r,ul(i)))._path=i,a.type="collection",a}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new wp(this.firestore,null,new zs(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(kp);function xp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ft(e),dp("collection","path",t),e instanceof bp){var a=Us.fromString.apply(Us,[t].concat(r));return vp(a),new _p(e,null,a)}if(!(e instanceof wp||e instanceof _p))throw new _s(ks.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Us.fromString.apply(Us,[t].concat(r)));return vp(o),new _p(e.firestore,null,o)}function Sp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ft(e),1===arguments.length&&(t=Rs.I()),dp("doc","path",t),e instanceof bp){var a=Us.fromString.apply(Us,[t].concat(r));return pp(a),new wp(e,null,new zs(a))}if(!(e instanceof wp||e instanceof _p))throw new _s(ks.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Us.fromString.apply(Us,[t].concat(r)));return pp(o),new wp(e.firestore,e instanceof _p?e.converter:null,new zs(o))}var Cp=function(){function e(){var t=this;v(this,e),this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new ih(this,"async_queue_retry"),this.Kc=function(){var e=nh();e&&ps("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=nh();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return g(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=nh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new xs;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Oc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=$e(Qe().mark((function e(){var t=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Oc.length){e.next=14;break}return e.prev=1,e.next=4,this.Oc[0]();case 4:this.Oc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Xs(e.t0)){e.next=12;break}throw e.t0;case 12:ps("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Oc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Mc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw vs("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=Xh.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&ys()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=$e(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Mc,e.next=3,t;case 3:if(t!==this.Mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=I(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=I(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function Ep(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=I(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Tp=function(e){b(n,e);var t=C(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Cp,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||Ip(this),this._firestoreClient.terminate()}}]),n}(bp);function Np(e){return e._firestoreClient||Ip(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ip(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new gu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Zd(e._authCredentials,e._appCheckCredentials,e._queue,r)}var jp=function(){function e(){v(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new _s(ks.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bs(n)}return g(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Ap=function(){function e(t){v(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(lu.fromBase64String(t))}catch(t){throw new _s(ks.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(lu.fromUint8Array(t))}}]),e}(),Rp=g((function e(t){v(this,e),this._methodName=t})),Dp=function(){function e(t,n){if(v(this,e),!isFinite(t)||t<-90||t>90)throw new _s(ks.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new _s(ks.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ds(this._lat,e._lat)||Ds(this._long,e._long)}}]),e}(),Pp=/^__.*__$/,Op=function(){function e(t,n,r){v(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Jl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ql(e,this.data,t,this.fieldTransforms)}}]),e}(),Mp=function(){function e(t,n,r){v(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return new Jl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Lp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ys()}}var Up=function(){function e(t,n,r,i,a,o){v(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return g(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return ev(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(Lp(this.Zc)&&Pp.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),Fp=function(){function e(t,n,r){v(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||rh(t)}return g(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Up({Zc:e,methodName:t,ca:n,path:Bs.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function Bp(e){var t=e._freezeSettings(),n=rh(e._databaseId);return new Fp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zp(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);$p("Data must be an object, but it was:",o,r);var s,u,l=Qp(r,o);if(a.merge)s=new uu(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=I(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=c.value,p=Yp(t,d,n);if(!o.contains(p))throw new _s(ks.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));tv(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new uu(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Op(new Uu(l),s,u)}var Vp=function(e){b(n,e);var t=C(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Rp);var qp=function(e){b(n,e);var t=C(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){return new Ul(e.path,new jl)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Rp);function Wp(e,t,n,r){var i=e.aa(1,t,n);$p("Data must be an object, but it was:",i,r);var a=[],o=Uu.empty();tu(r,(function(e,r){var s=Zp(t,e,n);r=Ft(r);var u=i.ia(s);if(r instanceof Vp)a.push(s);else{var l=Gp(r,u);null!=l&&(a.push(s),o.set(s,l))}}));var s=new uu(a);return new Mp(o,s,i.fieldTransforms)}function Hp(e,t,n,r,i,a){var o=e.aa(1,t,n),s=[Yp(t,r,n)],u=[i];if(a.length%2!=0)throw new _s(ks.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)s.push(Yp(t,a[l])),u.push(a[l+1]);for(var c=[],f=Uu.empty(),h=s.length-1;h>=0;--h)if(!tv(c,s[h])){var d=s[h],p=u[h];p=Ft(p);var v=o.ia(d);if(p instanceof Vp)c.push(d);else{var m=Gp(p,v);null!=m&&(c.push(d),f.set(d,m))}}var g=new uu(c);return new Mp(f,g,o.fieldTransforms)}function Kp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Gp(n,e.aa(r?4:3,t))}function Gp(e,t){if(Jp(e=Ft(e)))return $p("Unsupported field value:",t,e),Qp(e,t);if(e instanceof Rp)return function(e,t){if(!Lp(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=I(e);try{for(a.s();!(n=a.n()).done;){var o=Gp(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ft(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Cl(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Os.fromDate(e);return{timestampValue:Rc(t.wt,n)}}if(e instanceof Os){var r=new Os(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Rc(t.wt,r)}}if(e instanceof Dp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ap)return{bytesValue:Dc(t.wt,e._byteString)};if(e instanceof wp){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Mc(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(mp(e)))}(e,t)}function Qp(e,t){var n={};return nu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tu(e,(function(e,r){var i=Gp(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Jp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Os||e instanceof Dp||e instanceof Ap||e instanceof wp||e instanceof Rp)}function $p(e,t,n){if(!Jp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=mp(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function Yp(e,t,n){if((t=Ft(t))instanceof jp)return t._internalPath;if("string"==typeof t)return Zp(e,t);throw ev("Field path arguments must be of type string or ",e,!1,void 0,n)}var Xp=new RegExp("[~\\*/\\[\\]]");function Zp(e,t,n){if(t.search(Xp)>=0)throw ev("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return E(jp,p(t.split(".")))._internalPath}catch(r){throw ev("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ev(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new _s(ks.INVALID_ARGUMENT,s+e+u)}function tv(e,t){return e.some((function(e){return e.isEqual(t)}))}var nv=function(){function e(t,n,r,i,a){v(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new wp(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new rv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(iv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),rv=function(e){b(n,e);var t=C(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return Xe(w(n.prototype),"data",this).call(this)}}]),n}(nv);function iv(e,t){return"string"==typeof t?Zp(e,t):t instanceof jp?t._internalPath:t._delegate._internalPath}var av=function(){function e(t,n){v(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),ov=function(e){b(n,e);var t=C(n);function n(e,r,i,a,o,s){var u;return v(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return g(n,[{key:"exists",value:function(){return Xe(w(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new sv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(iv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(nv),sv=function(e){b(n,e);var t=C(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Xe(w(n.prototype),"data",this).call(this,e)}}]),n}(ov),uv=function(){function e(t,n,r,i){v(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new av(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new sv(n._firestore,n._userDataWriter,r.key,r,new av(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _s(ks.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new sv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new av(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new sv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new av(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:lv(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function lv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ys()}}function cv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new _s(ks.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fv=g((function e(){v(this,e)}));function hv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var dv=function(e){b(n,e);var t=C(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return g(n,[{key:"_apply",value:function(e){var t=Bp(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new _s(ks.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){yv(o,a);var u,l=[],c=I(o);try{for(c.s();!(u=c.n()).done;){var f=u.value;l.push(gv(r,e,f))}}catch(d){c.e(d)}finally{c.f()}s={arrayValue:{values:l}}}else s=gv(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||yv(o,a),s=Kp(n,"where",o,"in"===a||"not-in"===a);var h=Ku.create(i,a,s);return function(e,t){if(t.ht()){var n=fl(e);if(null!==n&&!n.isEqual(t.field))throw new _s(ks.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=cl(e);null!==r&&bv(e,t.field,r)}var i=function(e,t){var n,r=I(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new _s(ks.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new _s(ks.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new kp(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ol(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(fv);function pv(e,t,n){var r=t,i=iv("where",e);return new dv(i,r,n)}var vv=function(e){b(n,e);var t=C(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return g(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new _s(ks.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new _s(ks.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new nl(t,n);return function(e,t){if(null===cl(e)){var n=fl(e);null!==n&&bv(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new kp(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ol(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(fv);function mv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=iv("orderBy",e);return new vv(r,n)}function gv(e,t,n){if("string"==typeof(n=Ft(n))){if(""===n)throw new _s(ks.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hl(t)&&-1!==n.indexOf("/"))throw new _s(ks.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Us.fromString(n));if(!zs.isDocumentKey(r))throw new _s(ks.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ju(e,new zs(r))}if(n instanceof wp)return ju(e,n._key);throw new _s(ks.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(mp(n),"."))}function yv(e,t){if(!Array.isArray(e)||0===e.length)throw new _s(ks.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new _s(ks.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function bv(e,t,n){if(!n.isEqual(t))throw new _s(ks.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var wv=function(){function e(){v(this,e)}return g(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(xu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(du(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ys()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return tu(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Dp(hu(e.latitude),hu(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=vu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(mu(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=fu(e);return new Os(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Us.fromString(e);bs(rf(n));var r=new yu(n.get(1),n.get(3)),i=new zs(n.popFirst(5));return r.isEqual(t)||vs("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function kv(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var _v=function(e){b(n,e);var t=C(n);function n(e){var r;return v(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new Ap(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new wp(this.firestore,null,t)}}]),n}(wv);function xv(e){e=gp(e,kp);var t=gp(e.firestore,Tp),n=Np(t),r=new _v(t);return cv(e._query),fp(n,e._query).then((function(n){return new uv(t,r,e,n)}))}function Sv(e,t,n){e=gp(e,wp);for(var r=gp(e.firestore,Tp),i=Bp(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Nv(r,[("string"==typeof(t=Ft(t))||t instanceof jp?Hp(i,"updateDoc",e._key,t,n,o):Wp(i,"updateDoc",e._key,t)).toMutation(e._key,Bl.exists(!0))])}function Cv(e){return Nv(gp(e.firestore,Tp),[new tc(e._key,Bl.none())])}function Ev(e,t){var n=gp(e.firestore,Tp),r=Sp(e),i=kv(e.converter,t);return Nv(n,[zp(Bp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Bl.exists(!1))]).then((function(){return r}))}function Tv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ft(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Ep(n[u])||(s=n[u],u++);var l,c,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Ep(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof wp)c=gp(e.firestore,Tp),f=ul(e._key.path),l={next:function(t){n[u]&&n[u](Iv(c,e,t))},error:n[u+1],complete:n[u+2]};else{var p=gp(e,kp);c=gp(p.firestore,Tp),f=p._query;var v=new _v(c);l={next:function(e){n[u]&&n[u](new uv(c,v,p,e))},error:n[u+1],complete:n[u+2]},cv(e._query)}return function(e,t,n,r){var i=new Xd(r),a=new hd(t,i,n);return e.asyncQueue.enqueueAndForget($e(Qe().mark((function t(){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ad,t.next=3,lp(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget($e(Qe().mark((function t(){return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=sd,t.next=3,lp(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Np(c),f,h,l)}function Nv(e,t){return function(e,t){var n=new xs;return e.asyncQueue.enqueueAndForget($e(Qe().mark((function r(){return Qe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Cd,r.next=3,up(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Np(e),t)}function Iv(e,t,n){var r=n.docs.get(t._key),i=new _v(e);return new ov(e,i,t._key,r,new av(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];fs="9.9.3",Nn(new Bt("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Tp(i,new Es(e.getProvider("auth-internal")),new js(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),On(ls,"3.4.14",e),On(ls,"3.4.14","esm2017")}();On("firebase","9.9.3","app");var jv="@firebase/database",Av="0.13.5",Rv="";var Dv=function(){function e(t){v(this,e),this.domStorage_=t,this.prefix_="firebase:"}return g(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ct(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:St(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Pv=function(){function e(){v(this,e),this.cache_={},this.isInMemoryStorage=!0}return g(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Tt(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Ov=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Dv(t)}}catch(n){}return new Pv},Mv=Ov("localStorage"),Lv=Ov("sessionStorage"),Uv=new Yt("@firebase/database"),Fv=function(){var e=1;return function(){return e++}}(),Bv=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,rt(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Pt;n.update(t);var r=n.digest();return ot.encodeByteArray(r)},zv=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Ct(r):r,t+=" "}return t},Vv=null,qv=!0,Wv=function(e,t){rt(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Uv.logLevel=Wt.VERBOSE,Vv=Uv.log.bind(Uv),t&&Lv.set("logging_enabled",!0)):"function"===typeof e?Vv=e:(Vv=null,Lv.remove("logging_enabled"))},Hv=function(){if(!0===qv&&(qv=!1,null===Vv&&!0===Lv.get("logging_enabled")&&Wv(!0)),Vv){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=zv.apply(null,t);Vv(r)}},Kv=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Hv.apply(void 0,[e].concat(n))}},Gv=function(){var e="FIREBASE INTERNAL ERROR: "+zv.apply(void 0,arguments);Uv.error(e)},Qv=function(){var e="FIREBASE FATAL ERROR: ".concat(zv.apply(void 0,arguments));throw Uv.error(e),new Error(e)},Jv=function(){var e="FIREBASE WARNING: "+zv.apply(void 0,arguments);Uv.warn(e)},$v=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Yv="[MIN_NAME]",Xv="[MAX_NAME]",Zv=function(e,t){if(e===t)return 0;if(e===Yv||t===Xv)return-1;if(t===Yv||e===Xv)return 1;var n=lm(e),r=lm(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},em=function(e,t){return e===t?0:e<t?-1:1},tm=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ct(t))},nm=function e(t){if("object"!==typeof t||null===t)return Ct(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Ct(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},rm=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function im(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var am=function(e){rt(!$v(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var om=new RegExp("^-?(0*)\\d{1,10}$"),sm=-2147483648,um=2147483647,lm=function(e){if(om.test(e)){var t=Number(e);if(t>=sm&&t<=um)return t}return null},cm=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw Jv("Exception was thrown by user callback.",e),t}),Math.floor(0))}},fm=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},hm=function(){function e(t,n){var r=this;v(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return g(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Jv('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),dm=function(){function e(t,n,r){var i=this;v(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return g(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Hv("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jv(e)}}]),e}(),pm=function(){function e(t){v(this,e),this.accessToken=t}return g(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();pm.OWNER="owner";var vm="5",mm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gm="websocket",ym="long_polling",bm=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];v(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Mv.get("host:"+t)||this._host}return g(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Mv.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function wm(e,t,n){var r;if(rt("string"===typeof t,"typeof type must == string"),rt("object"===typeof n,"typeof params must == object"),t===gm)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ym)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return im(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var km=function(){function e(){v(this,e),this.counters_={}}return g(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Tt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return ct(this.counters_)}}]),e}(),_m={},xm={};function Sm(e){var t=e.toString();return _m[t]||(_m[t]=new km),_m[t]}var Cm=function(){function e(t){v(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return g(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&cm((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Em="start",Tm="close",Nm=function(){function e(t,n,r,i,a,o,s){var u=this;v(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Kv(t),this.stats_=Sm(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),wm(n,ym,e)}}return g(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Cm(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(gt()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Im((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Em)n.id=a,n.password=o;else{if(i!==Tm)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=vm,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&mm.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Ct(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=st(t),r=rm(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!gt()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Ct(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!gt()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Im=function(){function e(t,n,r,i){if(v(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,gt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Fv(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){Hv("frame writing exception"),s.stack&&Hv(s.stack),Hv(s)}}}return g(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;gt()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Hv("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Hv("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),jm=null;"undefined"!==typeof MozWebSocket?jm=MozWebSocket:"undefined"!==typeof WebSocket&&(jm=WebSocket);var Am=function(){function e(t,n,r,i,a,o,s){v(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Kv(this.connId),this.stats_=Sm(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return g(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Mv.set("previous_websocket_failure",!0);try{var r;if(gt()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(vm,"/").concat(Rv,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/incommon",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new jm(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Mv.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=St(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(rt(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Ct(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=rm(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=vm,!gt()&&"undefined"!==typeof location&&location.hostname&&mm.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),wm(e,gm,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==jm&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Mv.isInMemoryStorage||!0===Mv.get("previous_websocket_failure")}}]),e}();Am.responsesRequiredToBeHealthy=2,Am.healthyTimeout=3e4;var Rm=function(){function e(t){v(this,e),this.initTransports_(t)}return g(e,[{key:"initTransports_",value:function(t){var n=Am&&Am.isAvailable(),r=n&&!Am.previouslyFailed();if(t.webSocketOnly&&(n||Jv("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Am];else{var i,a=this.transports_=[],o=I(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Nm,Am]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Rm.globalTransportInitialized_=!1;var Dm=function(){function e(t,n,r,i,a,o,s,u,l,c){v(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Kv("c:"+this.id+":"),this.transportManager_=new Rm(n),this.log_("Connection created"),this.start_()}return g(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=fm((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=tm("t",e),n=tm("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=tm("t",e),n=tm("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=tm("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Gv("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Gv("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),vm!==n&&Jv("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),fm((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fm((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Mv.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Pm=function(){function e(){v(this,e)}return g(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Om=function(){function e(t){v(this,e),this.allowedEvents_=t,this.listeners_={},rt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return g(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=p(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){rt(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Mm=function(e){b(n,e);var t=C(n);function n(){var e;return v(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||pt()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return g(n,[{key:"getInitialEvent",value:function(e){return rt("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Om),Lm=function(){function e(t,n){if(v(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return g(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Um(){return new Lm("")}function Fm(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Bm(e){return e.pieces_.length-e.pieceNum_}function zm(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Lm(e.pieces_,t)}function Vm(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function qm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Wm(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Lm(t,0)}function Hm(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Lm)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Lm(n,0)}function Km(e){return e.pieceNum_>=e.pieces_.length}function Gm(e,t){var n=Fm(e),r=Fm(t);if(null===n)return t;if(n===r)return Gm(zm(e),zm(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Qm(e,t){if(Bm(e)!==Bm(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Jm(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Bm(e)>Bm(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var $m=g((function e(t,n){v(this,e),this.errorPrefix_=n,this.parts_=qm(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Mt(this.parts_[r]);Ym(this)}));function Ym(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Xm(e))}function Xm(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Zm=function(e){b(n,e);var t=C(n);function n(){var e,r,i;return v(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return g(n,[{key:"getInitialEvent",value:function(e){return rt("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Om),eg=1e3,tg=function(e){b(n,e);var t=C(n);function n(e,r,i,a,o,s,u,l){var c;if(v(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=o,c.authTokenProvider_=s,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=n.nextPersistentConnectionId_++,c.log_=Kv("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=eg,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!gt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Zm.getInstance().on("visible",c.onVisible_,x(c)),-1===e.host.indexOf("fblocal")&&Mm.getInstance().on("online",c.onOnline_,x(c)),c}return g(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Ct(i)),rt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new ht,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),rt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),rt(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Et(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Et(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),rt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Ct(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Gv("Unrecognized action received from server: "+Ct(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;rt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=eg,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=eg,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=eg),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=$e(Qe().mark((function e(){var t,r,i,a,o,s,u,c,f,h,d,p,v,m,g=this;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,i())},f=function(e){rt(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,p=l(d,2),v=p[0],m=p[1],s?Hv("getToken() completed but was canceled"):(Hv("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,u=new Dm(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){Jv(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&Jv(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Hv("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Hv("Resuming connection for reason: "+e),delete this.interruptReasons_[e],It(this.interruptReasons_)&&(this.reconnectDelay_=eg,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return nm(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Lm(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Hv("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Hv("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=I(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=I(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";gt()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Rv.replace(/\./g,"-")]=1,pt()?e["framework.cordova"]=1:mt()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Mm.getInstance().currentlyOnline();return It(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Tt(e,"w")){var n=Nt(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Jv("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Pm);tg.nextPersistentConnectionId_=0,tg.nextConnectionId_=0;var ng,rg=function(){function e(t,n){v(this,e),this.name=t,this.node=n}return g(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),ig=function(){function e(){v(this,e)}return g(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new rg(Yv,e),r=new rg(Yv,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return rg.MIN}}]),e}(),ag=function(e){b(n,e);var t=C(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"compare",value:function(e,t){return Zv(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw it("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return rg.MIN}},{key:"maxPost",value:function(){return new rg(Xv,ng)}},{key:"makePost",value:function(e,t){return rt("string"===typeof e,"KeyIndex indexValue must always be a string."),new rg(e,ng)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return ng},set:function(e){ng=e}}]),n}(ig),og=new ag,sg=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;v(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return g(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),ug=function(){function e(t,n,r,i,a){v(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:fg.EMPTY_NODE,this.right=null!=a?a:fg.EMPTY_NODE}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return fg.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return fg.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();ug.RED=!0,ug.BLACK=!1;var lg,cg=function(){function e(){v(this,e)}return g(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ug(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),fg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;v(this,e),this.comparator_=t,this.root_=n}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ug.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ug.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new sg(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new sg(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new sg(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new sg(this.root_,null,this.comparator_,!0,e)}}]),e}();function hg(e,t){return Zv(e.name,t.name)}function dg(e,t){return Zv(e,t)}fg.EMPTY_NODE=new cg;var pg,vg,mg,gg=function(e){return"number"===typeof e?"number:"+am(e):"string:"+e},yg=function(e){if(e.isLeafNode()){var t=e.val();rt("string"===typeof t||"number"===typeof t||"object"===typeof t&&Tt(t,".sv"),"Priority must be a string or number.")}else rt(e===lg||e.isEmpty(),"priority of unexpected type.");rt(e===lg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},bg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;v(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,rt(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),yg(this.priorityNode_)}return g(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Km(t)?this:".priority"===Fm(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Fm(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(rt(".priority"!==r||1===Bm(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(zm(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+gg(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?am(this.value_):this.value_,this.lazyHash_=Bv(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(rt(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return rt(i>=0,"Unknown leaf type: "+n),rt(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return pg},set:function(e){pg=e}}]),e}();bg.VALUE_TYPE_ORDER=["object","boolean","number","string"];var wg,kg,_g=function(e){b(n,e);var t=C(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Zv(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return rg.MIN}},{key:"maxPost",value:function(){return new rg(Xv,new bg("[PRIORITY-POST]",mg))}},{key:"makePost",value:function(e,t){var n=vg(e);return new rg(t,new bg("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(ig),xg=new _g,Sg=Math.log(2),Cg=function(){function e(t){v(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Sg,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return g(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Eg=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new ug(o,a.node,ug.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return a=e[u],o=n?n(a):a,new ug(o,a.node,ug.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var l=i(a+1,s),c=e[a],f=n?n(c):c;u(new ug(f,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),f=Math.pow(2,t.count-(l+1));c?s(f,ug.BLACK):(s(f,ug.BLACK),s(f,ug.RED))}return a}(new Cg(e.length));return new fg(r||t,a)},Tg={},Ng=function(){function e(t,n){v(this,e),this.indexes_=t,this.indexSet_=n}return g(e,[{key:"get",value:function(e){var t=Nt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof fg?t:null}},{key:"hasIndex",value:function(e){return Tt(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){rt(t!==og,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(rg.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?Eg(i,t.getCompare()):Tg;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this,i=jt(this.indexes_,(function(e,i){var a=Nt(r.indexSet_,i);if(rt(a,"Missing index implementation for "+i),e===Tg){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(rg.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),Eg(o,a.getCompare())}return Tg}var l=n.get(t.name),c=e;return l&&(c=c.remove(new rg(t.name,l))),c.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(jt(this.indexes_,(function(e){if(e===Tg)return e;var r=n.get(t.name);return r?e.remove(new rg(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return rt(Tg&&xg,"ChildrenNode.ts has not been loaded"),wg=wg||new e({".priority":Tg},{".priority":xg})}}]),e}(),Ig=function(){function e(t,n,r){v(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&yg(this.priorityNode_),this.children_.isEmpty()&&rt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return g(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||kg}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?kg:t}},{key:"getChild",value:function(e){var t=Fm(e);return null===t?this:this.getImmediateChild(t).getChild(zm(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(rt(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new rg(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?kg:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Fm(e);if(null===n)return t;rt(".priority"!==Fm(e)||1===Bm(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(zm(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(xg,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+gg(this.getPriority().val())+":"),this.forEachChild(xg,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Bv(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new rg(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new rg(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new rg(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,rg.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,rg.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===jg?-1:0}},{key:"withIndex",value:function(t){if(t===og||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===og||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(xg),r=t.getIterator(xg),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===og?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return kg||(kg=new e(new fg(dg),null,Ng.Default))}}]),e}();Ig.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var jg=new(function(e){b(n,e);var t=C(n);function n(){return v(this,n),t.call(this,new fg(dg),Ig.EMPTY_NODE,Ng.Default)}return g(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Ig.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Ig));Object.defineProperties(rg,{MIN:{value:new rg(Yv,Ig.EMPTY_NODE)},MAX:{value:new rg(Xv,jg)}}),ag.__EMPTY_NODE=Ig.EMPTY_NODE,bg.__childrenNodeConstructor=Ig,lg=jg,function(e){mg=e}(jg);function Ag(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Ig.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),rt(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new bg(n,Ag(t))}if(e instanceof Array){var r=Ig.EMPTY_NODE;return im(e,(function(t,n){if(Tt(e,t)&&"."!==t.substring(0,1)){var i=Ag(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(Ag(t))}var i=[],a=!1,o=e;if(im(o,(function(e,t){if("."!==e.substring(0,1)){var n=Ag(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new rg(e,n)))}})),0===i.length)return Ig.EMPTY_NODE;var s=Eg(i,hg,(function(e){return e.name}),dg);if(a){var u=Eg(i,xg.getCompare());return new Ig(s,Ag(t),new Ng({".priority":u},{".priority":xg}))}return new Ig(s,Ag(t),Ng.Default)}!function(e){vg=e}(Ag);var Rg=function(e){b(n,e);var t=C(n);function n(e){var r;return v(this,n),(r=t.call(this)).indexPath_=e,rt(!Km(e)&&".priority"!==Fm(e),"Can't create PathIndex with empty path or .priority key"),r}return g(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Zv(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Ag(e),r=Ig.EMPTY_NODE.updateChild(this.indexPath_,n);return new rg(t,r)}},{key:"maxPost",value:function(){var e=Ig.EMPTY_NODE.updateChild(this.indexPath_,jg);return new rg(Xv,e)}},{key:"toString",value:function(){return qm(this.indexPath_,0).join("/")}}]),n}(ig),Dg=function(e){b(n,e);var t=C(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Zv(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return rg.MIN}},{key:"maxPost",value:function(){return rg.MAX}},{key:"makePost",value:function(e,t){var n=Ag(e);return new rg(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(ig),Pg=new Dg,Og="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function Mg(e){return{type:"value",snapshotNode:e}}function Lg(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ug(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Fg(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Bg=function(){function e(){v(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xg}return g(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return rt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return rt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yv}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return rt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return rt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xv}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return rt(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===xg}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function zg(e){var t,n={};return e.isDefault()||(e.index_===xg?t="$priority":e.index_===Pg?t="$value":e.index_===og?t="$key":(rt(e.index_ instanceof Rg,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Ct(t),e.startSet_&&(n.startAt=Ct(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Ct(e.indexStartName_))),e.endSet_&&(n.endAt=Ct(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Ct(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Vg(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==xg&&(t.i=e.index_.toString()),t}var qg=function(e){b(n,e);var t=C(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Kv("p:rest:"),o.listens_={},o}return g(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var l=zg(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Nt(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=zg(e._queryParams),r=e._path.toString(),i=new ht;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=l(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Dt(n);t.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=St(c.responseText)}catch(n){Jv("Failed to parse JSON response for "+u+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&Jv("Got unsuccessful REST response for "+u+" Status: "+c.status),r(c.status);r=null}},c.open("GET",u,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(rt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Pm),Wg=function(){function e(){v(this,e),this.rootNode_=Ig.EMPTY_NODE}return g(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Hg(){return{value:null,children:new Map}}function Kg(e,t,n){if(Km(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Fm(t);e.children.has(r)||e.children.set(r,Hg()),Kg(e.children.get(r),t=zm(t),n)}}function Gg(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Gg(r,new Lm(t.toString()+"/"+e),n)}))}var Qg,Jg=function(){function e(t){v(this,e),this.collection_=t,this.last_=null}return g(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&im(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),$g=function(){function e(t,n){v(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Jg(t);var r=1e4+2e4*Math.random();fm(this.reportStats_.bind(this),Math.floor(r))}return g(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;im(t,(function(t,i){i>0&&Tt(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),fm(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Yg(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Qg||(Qg={}));var Xg,Zg=function(){function e(t,n,r){v(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Qg.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return g(e,[{key:"operationForChild",value:function(t){if(Km(this.path)){if(null!=this.affectedTree.value)return rt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Lm(t));return new e(Um(),n,this.revert)}return rt(Fm(this.path)===t,"operationForChild called for unrelated child."),new e(zm(this.path),this.affectedTree,this.revert)}}]),e}(),ey=function(){function e(t,n,r){v(this,e),this.source=t,this.path=n,this.snap=r,this.type=Qg.OVERWRITE}return g(e,[{key:"operationForChild",value:function(t){return Km(this.path)?new e(this.source,Um(),this.snap.getImmediateChild(t)):new e(this.source,zm(this.path),this.snap)}}]),e}(),ty=function(){function e(t,n,r){v(this,e),this.source=t,this.path=n,this.children=r,this.type=Qg.MERGE}return g(e,[{key:"operationForChild",value:function(t){if(Km(this.path)){var n=this.children.subtree(new Lm(t));return n.isEmpty()?null:n.value?new ey(this.source,Um(),n.value):new e(this.source,Um(),n)}return rt(Fm(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,zm(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),ny=function(){function e(t,n,r){v(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return g(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Km(e))return this.isFullyInitialized()&&!this.filtered_;var t=Fm(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function ry(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw it("Should only compare child_ events.");var r=new rg(t.childName,t.snapshotNode),i=new rg(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function iy(e,t){return{eventCache:e,serverCache:t}}function ay(e,t,n,r){return iy(new ny(t,n,r),e.serverCache)}function oy(e,t,n,r){return iy(e.eventCache,new ny(t,n,r))}function sy(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function uy(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var ly=function(){return Xg||(Xg=new fg(em)),Xg},cy=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ly();v(this,e),this.value=t,this.children=n}return g(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Um(),value:this.value};if(Km(e))return null;var n=Fm(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(zm(e),t);return null!=i?{path:Hm(new Lm(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Km(t))return this;var n=Fm(t),r=this.children.get(n);return null!==r?r.subtree(zm(t)):new e(null)}},{key:"set",value:function(t,n){if(Km(t))return new e(n,this.children);var r=Fm(t),i=(this.children.get(r)||new e(null)).set(zm(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Km(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Fm(t),r=this.children.get(n);if(r){var i,a=r.remove(zm(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Km(e))return this.value;var t=Fm(e),n=this.children.get(t);return n?n.get(zm(e)):null}},{key:"setTree",value:function(t,n){if(Km(t))return n;var r,i=Fm(t),a=(this.children.get(i)||new e(null)).setTree(zm(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Um(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Hm(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Um(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Km(e))return null;var i=Fm(e),a=this.children.get(i);return a?a.findOnPath_(zm(e),Hm(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Um(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Km(t))return this;this.value&&r(n,this.value);var i=Fm(t),a=this.children.get(i);return a?a.foreachOnPath_(zm(t),Hm(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Um(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Hm(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return im(t,(function(e,t){n=n.set(new Lm(e),t)})),n}}]),e}(),fy=function(){function e(t){v(this,e),this.writeTree_=t}return g(e,null,[{key:"empty",value:function(){return new e(new cy(null))}}]),e}();function hy(e,t,n){if(Km(t))return new fy(new cy(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Gm(i,t);return a=a.updateChild(o,n),new fy(e.writeTree_.set(i,a))}var s=new cy(n),u=e.writeTree_.setTree(t,s);return new fy(u)}function dy(e,t,n){var r=e;return im(n,(function(e,n){r=hy(r,Hm(t,e),n)})),r}function py(e,t){if(Km(t))return fy.empty();var n=e.writeTree_.setTree(t,new cy(null));return new fy(n)}function vy(e,t){return null!=my(e,t)}function my(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Gm(n.path,t)):null}function gy(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(xg,(function(e,n){t.push(new rg(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new rg(e,n.value))})),t}function yy(e,t){if(Km(t))return e;var n=my(e,t);return new fy(null!=n?new cy(n):e.writeTree_.subtree(t))}function by(e){return e.writeTree_.isEmpty()}function wy(e,t){return ky(Um(),e.writeTree_,t)}function ky(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(rt(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=ky(Hm(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Hm(e,".priority"),r)),n}function _y(e,t){return My(t,e)}function xy(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function Sy(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));rt(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&Cy(s,r.path)?i=!1:Jm(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Ty(e.allWrites,Ey,Um()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=py(e.visibleWrites,r.path):im(r.children,(function(t){e.visibleWrites=py(e.visibleWrites,Hm(r.path,t))}));return!0}return!1}function Cy(e,t){if(e.snap)return Jm(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Jm(Hm(e.path,n),t))return!0;return!1}function Ey(e){return e.visible}function Ty(e,t,n){for(var r=fy.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)Jm(n,o)?r=hy(r,s=Gm(n,o),a.snap):Jm(o,n)&&(s=Gm(o,n),r=hy(r,Um(),a.snap.getChild(s)));else{if(!a.children)throw it("WriteRecord should have .snap or .children");if(Jm(n,o))r=dy(r,s=Gm(n,o),a.children);else if(Jm(o,n))if(Km(s=Gm(o,n)))r=dy(r,Um(),a.children);else{var u=Nt(a.children,Fm(s));if(u){var l=u.getChild(zm(s));r=hy(r,Um(),l)}}}}}return r}function Ny(e,t,n,r,i){if(r||i){var a=yy(e.visibleWrites,t);if(!i&&by(a))return n;if(i||null!=n||vy(a,Um())){return wy(Ty(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Jm(e.path,t)||Jm(t,e.path))}),t),n||Ig.EMPTY_NODE)}return null}var o=my(e.visibleWrites,t);if(null!=o)return o;var s=yy(e.visibleWrites,t);return by(s)?n:null!=n||vy(s,Um())?wy(s,n||Ig.EMPTY_NODE):null}function Iy(e,t,n,r){return Ny(e.writeTree,e.treePath,t,n,r)}function jy(e,t){return function(e,t,n){var r=Ig.EMPTY_NODE,i=my(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(xg,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=yy(e.visibleWrites,t);return n.forEachChild(xg,(function(e,t){var n=wy(yy(a,new Lm(e)),t);r=r.updateImmediateChild(e,n)})),gy(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return gy(yy(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Ay(e,t,n,r){return function(e,t,n,r,i){rt(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Hm(t,n);if(vy(e.visibleWrites,a))return null;var o=yy(e.visibleWrites,a);return by(o)?i.getChild(n):wy(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Ry(e,t){return function(e,t){return my(e.visibleWrites,t)}(e.writeTree,Hm(e.treePath,t))}function Dy(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=yy(e.visibleWrites,t),l=my(u,Um());if(null!=l)s=l;else{if(null==n)return[];s=wy(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&c.length<i;)0!==f(d,r)&&c.push(d),d=h.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function Py(e,t,n){return function(e,t,n,r){var i=Hm(t,n),a=my(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?wy(yy(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Oy(e,t){return My(Hm(e.treePath,t),e.writeTree)}function My(e,t){return{treePath:e,writeTree:t}}var Ly=function(){function e(){v(this,e),this.changeMap=new Map}return g(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;rt("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),rt(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Fg(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Ug(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Lg(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw it("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Fg(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Uy=new(function(){function e(){v(this,e)}return g(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Fy=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;v(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return g(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new ny(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Py(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:uy(this.viewCache_),i=Dy(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function By(e,t,n,r,i){var a,o,s=new Ly;if(n.type===Qg.OVERWRITE){var u=n;u.source.fromUser?a=qy(e,t,u.path,u.snap,r,i,s):(rt(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Km(u.path),a=Vy(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Qg.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var l=Hm(n,r);Wy(t,Fm(l))&&(s=qy(e,s,l,u,i,a,o))})),r.foreach((function(r,u){var l=Hm(n,r);Wy(t,Fm(l))||(s=qy(e,s,l,u,i,a,o))})),s}(e,t,l.path,l.children,r,i,s):(rt(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=Ky(e,t,l.path,l.children,r,i,o,s))}else if(n.type===Qg.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=Ry(r,n))return t;var s,u=new Fy(r,t,i),l=t.eventCache.getNode();if(Km(n)||".priority"===Fm(n)){var c;if(t.serverCache.isFullyInitialized())c=Iy(r,uy(t));else{var f=t.serverCache.getNode();rt(f instanceof Ig,"serverChildren would be complete if leaf node"),c=jy(r,f)}s=e.filter.updateFullNode(l,c,a)}else{var h=Fm(n),d=Py(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=l.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(l,h,d,zm(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(l,h,Ig.EMPTY_NODE,zm(n),u,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Iy(r,uy(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Ry(r,Um()),ay(t,s,o,e.filter.filtersNodes())}(e,t,c.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Ry(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Km(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Vy(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Km(n)){var l=new cy(null);return u.getNode().forEachChild(og,(function(e,t){l=l.set(new Lm(e),t)})),Ky(e,t,n,l,i,a,s,o)}return t}var c=new cy(null);return r.foreach((function(e,t){var r=Hm(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),Ky(e,t,n,c,i,a,s,o)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==Qg.LISTEN_COMPLETE)throw it("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=oy(t,a.getNode(),a.isFullyInitialized()||Km(n),a.isFiltered());return zy(e,o,n,r,Uy,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=sy(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Mg(sy(t)))}}(t,a,f),{viewCache:a,changes:f}}function zy(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Ry(r,n))return t;if(Km(n))if(rt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=uy(t),c=jy(r,l instanceof Ig?l:Ig.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var f=Iy(r,uy(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Fm(n);if(".priority"===h){rt(1===Bm(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Ay(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=zm(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var g=Ay(r,n,u.getNode(),s);v=null!=g?u.getNode().getImmediateChild(h).updateChild(m,g):u.getNode().getImmediateChild(h)}else v=Py(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,a):u.getNode()}}return ay(t,o,u.isFullyInitialized()||Km(n),e.filter.filtersNodes())}function Vy(e,t,n,r,i,a,o,s){var u,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(Km(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{var h=Fm(n);if(!l.isCompleteForPath(n)&&Bm(n)>1)return t;var d=zm(n),p=l.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),h,p,d,Uy,null)}var v=oy(t,u,l.isFullyInitialized()||Km(n),c.filtersNodes());return zy(e,v,n,i,new Fy(i,v,a),s)}function qy(e,t,n,r,i,a,o){var s,u,l=t.eventCache,c=new Fy(i,t,a);if(Km(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=ay(t,u,!0,e.filter.filtersNodes());else{var f=Fm(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=ay(t,u,l.isFullyInitialized(),l.isFiltered());else{var h,d=zm(n),p=l.getNode().getImmediateChild(f);if(Km(d))h=r;else{var v=c.getCompleteChild(f);h=null!=v?".priority"===Vm(d)&&v.getChild(Wm(d)).isEmpty()?v:v.updateChild(d,r):Ig.EMPTY_NODE}if(p.equals(h))s=t;else s=ay(t,e.filter.updateChild(l.getNode(),f,h,d,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Wy(e,t){return e.eventCache.isCompleteForChild(t)}function Hy(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Ky(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=Km(n)?r:new cy(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=Hy(0,t.serverCache.getNode().getImmediateChild(n),r);l=Vy(e,l,new Lm(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!u){var f=Hy(0,t.serverCache.getNode().getImmediateChild(n),r);l=Vy(e,l,new Lm(n),f,i,a,o,s)}})),l}var Gy;function Qy(e,t){var n=uy(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Km(t)&&!n.getImmediateChild(Fm(t)).isEmpty())?n.getChild(t):null}function Jy(e,t,n,r){t.type===Qg.MERGE&&null!==t.source.queryId&&(rt(uy(e.viewCache_),"We should always have a full cache before handling merges"),rt(sy(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=By(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,rt(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),rt(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),rt(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,$y(e,s.changes,s.viewCache.eventCache.getNode(),null)}function $y(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),ry(e,i,"child_removed",t,r,n),ry(e,i,"child_added",t,r,n),ry(e,i,"child_moved",a,r,n),ry(e,i,"child_changed",t,r,n),ry(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Yy;function Xy(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return rt(null!=a,"SyncTree gave us an op for an invalid query."),Jy(a,t,n,r)}var o,s=[],u=I(e.views.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s=s.concat(Jy(l,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return s}function Zy(e,t){var n,r=null,i=I(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Qy(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var eb=g((function e(t){v(this,e),this.listenProvider_=t,this.syncPointTree_=new cy(null),this.pendingWriteTree_={visibleWrites:fy.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function tb(e,t,n,r,i){return function(e,t,n,r,i){rt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=hy(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?ob(e,new ey({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function nb(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=xy(e.pendingWriteTree_,t),i=Sy(e.pendingWriteTree_,t);if(i){var a=new cy(null);return null!=r.snap?a=a.set(Um(),!0):im(r.children,(function(e){a=a.set(new Lm(e),!0)})),ob(e,new Zg(r.path,a,n))}return[]}function rb(e,t,n){return ob(e,new ey({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function ib(e,t,n,r){var i=lb(e,r);if(null!=i){var a=cb(i),o=a.path,s=a.queryId,u=Gm(o,t);return fb(e,o,new ey(Yg(s),u,n))}return[]}function ab(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Zy(n,Gm(e,t));if(r)return r}));return Ny(r,t,i,n,!0)}function ob(e,t){return sb(t,e.syncPointTree_,null,_y(e.pendingWriteTree_,Um()))}function sb(e,t,n,r){if(Km(e.path))return ub(e,t,n,r);var i=t.get(Um());null==n&&null!=i&&(n=Zy(i,Um()));var a=[],o=Fm(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var l=n?n.getImmediateChild(o):null,c=Oy(r,o);a=a.concat(sb(s,u,l,c))}return i&&(a=a.concat(Xy(i,e,r,n))),a}function ub(e,t,n,r){var i=t.get(Um());null==n&&null!=i&&(n=Zy(i,Um()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Oy(r,t),u=e.operationForChild(t);u&&(a=a.concat(ub(u,i,o,s)))})),i&&(a=a.concat(Xy(i,e,r,n))),a}function lb(e,t){return e.tagToQueryMap.get(t)}function cb(e){var t=e.indexOf("$");return rt(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Lm(e.substr(0,t))}}function fb(e,t,n){var r=e.syncPointTree_.get(t);return rt(r,"Missing sync point for query tag that we're tracking"),Xy(r,n,_y(e.pendingWriteTree_,t),null)}var hb=function(){function e(t){v(this,e),this.node_=t}return g(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),db=function(){function e(t,n){v(this,e),this.syncTree_=t,this.path_=n}return g(e,[{key:"getImmediateChild",value:function(t){var n=Hm(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return ab(this.syncTree_,this.path_)}}]),e}(),pb=function(e,t,n){return e&&"object"===typeof e?(rt(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?vb(e[".sv"],t,n):"object"===typeof e[".sv"]?mb(e[".sv"],t):void rt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},vb=function(e,t,n){if("timestamp"===e)return n.timestamp;rt(!1,"Unexpected server value: "+e)},mb=function(e,t,n){e.hasOwnProperty("increment")||rt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&rt(!1,"Unexpected increment value: "+r);var i=t.node();if(rt(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},gb=function(e,t,n,r){return bb(t,new db(n,e),r)},yb=function(e,t,n){return bb(e,new hb(t),n)};function bb(e,t,n){var r,i=e.getPriority().val(),a=pb(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=pb(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new bg(s,Ag(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new bg(a))),u.forEachChild(xg,(function(e,i){var a=bb(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var wb=g((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};v(this,e),this.name=t,this.parent=n,this.node=r}));function kb(e,t){for(var n=t instanceof Lm?t:new Lm(t),r=e,i=Fm(n);null!==i;){var a=Nt(r.node.children,i)||{children:{},childCount:0};r=new wb(i,r,a),i=Fm(n=zm(n))}return r}function _b(e){return e.node.value}function xb(e,t){e.node.value=t,Nb(e)}function Sb(e){return e.node.childCount>0}function Cb(e,t){im(e.node.children,(function(n,r){t(new wb(n,e,r))}))}function Eb(e,t,n,r){n&&!r&&t(e),Cb(e,(function(e){Eb(e,t,!0,r)})),n&&r&&t(e)}function Tb(e){return new Lm(null===e.parent?e.name:Tb(e.parent)+"/"+e.name)}function Nb(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===_b(e)&&!Sb(e)}(n),i=Tt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Nb(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Nb(e))}(e.parent,e.name,e)}var Ib=/[\[\].#$\/\u0000-\u001F\u007F]/,jb=/[\[\].#$\u0000-\u001F\u007F]/,Ab=10485760,Rb=function(e){return"string"===typeof e&&0!==e.length&&!Ib.test(e)},Db=function(e){return"string"===typeof e&&0!==e.length&&!jb.test(e)},Pb=function e(t,n,r){var i=r instanceof Lm?new $m(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Xm(i));if("function"===typeof n)throw new Error(t+"contains a function "+Xm(i)+" with contents = "+n.toString());if($v(n))throw new Error(t+"contains "+n.toString()+" "+Xm(i));if("string"===typeof n&&n.length>Ab/3&&Mt(n)>Ab)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Xm(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(im(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Rb(n)))throw new Error(t+" contains an invalid key ("+n+") "+Xm(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=Mt(u),Ym(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Mt(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Xm(i)+" in addition to actual children.")}},Ob=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Rb(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Db(e)}(n))throw new Error(Ot(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Mb=g((function e(){v(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Lb(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Qm(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Ub(e,t,n){Lb(e,n),Fb(e,(function(e){return Jm(e,t)||Jm(t,e)}))}function Fb(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Bb(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Bb(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Vv&&Hv("event: "+n.toString()),cm(r)}}}var zb="repo_interrupt",Vb=function(){function e(t,n,r,i){v(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Mb,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hg(),this.transactionQueueTree_=new wb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return g(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function qb(e,t,n){if(e.stats_=Sm(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new qg(e.repoInfo_,(function(t,n,r,i){Kb(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Gb(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ct(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new tg(e.repoInfo_,t,(function(t,n,r,i){Kb(e,t,n,r,i)}),(function(t){Gb(e,t)}),(function(t){!function(e,t){im(t,(function(t,n){Qb(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return xm[n]||(xm[n]=t()),xm[n]}(e.repoInfo_,(function(){return new $g(e.stats_,e.server_)})),e.infoData_=new Wg,e.infoSyncTree_=new eb({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=rb(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),Qb(e,"connected",!1),e.serverSyncTree_=new eb({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Ub(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Wb(e){var t=e.infoData_.getNode(new Lm(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Hb(e){return(t=(t={timestamp:Wb(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Kb(e,t,n,r,i){e.dataUpdateCount++;var a=new Lm(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=jt(n,(function(e){return Ag(e)}));o=function(e,t,n,r){var i=lb(e,r);if(i){var a=cb(i),o=a.path,s=a.queryId,u=Gm(o,t),l=cy.fromObject(n);return fb(e,o,new ty(Yg(s),u,l))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Ag(n);o=ib(e.serverSyncTree_,a,u,i)}else if(r){var l=jt(n,(function(e){return Ag(e)}));o=function(e,t,n){var r=cy.fromObject(n);return ob(e,new ty({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=Ag(n);o=rb(e.serverSyncTree_,a,c)}var f=a;o.length>0&&(f=tw(e,a)),Ub(e.eventQueue_,f,o)}function Gb(e,t){Qb(e,"connected",t),!1===t&&function(e){Yb(e,"onDisconnectEvents");var t=Hb(e),n=Hg();Gg(e.onDisconnect_,Um(),(function(r,i){var a=gb(r,i,e.serverSyncTree_,t);Kg(n,r,a)}));var r=[];Gg(n,Um(),(function(t,n){r=r.concat(rb(e.serverSyncTree_,t,n));var i=ow(e,t);tw(e,i)})),e.onDisconnect_=Hg(),Ub(e.eventQueue_,Um(),r)}(e)}function Qb(e,t,n){var r=new Lm("/.info/"+t),i=Ag(n);e.infoData_.updateSnapshot(r,i);var a=rb(e.infoSyncTree_,r,i);Ub(e.eventQueue_,r,a)}function Jb(e){return e.nextWriteId_++}function $b(e){e.persistentConnection_&&e.persistentConnection_.interrupt(zb)}function Yb(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Hv.apply(void 0,[t].concat(r))}function Xb(e,t,n){return ab(e.serverSyncTree_,t,n)||Ig.EMPTY_NODE}function Zb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||aw(e,t),_b(t)){var n=rw(e,t);rt(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&ew(e,Tb(t),n)}else Sb(t)&&Cb(t,(function(t){Zb(e,t)}))}function ew(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Xb(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];rt(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=Gm(t,u.path);a=a.updateChild(l,u.currentOutputSnapshotRaw)}var c=a.val(!0),f=t;e.server_.put(f.toString(),c,(function(r){Yb(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(nb(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);aw(e,kb(e.transactionQueueTree_,t)),Zb(e,e.transactionQueueTree_),Ub(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)cm(a[u])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{Jv("transaction at "+f.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}tw(e,t)}}),o)}function tw(e,t){var n=nw(e,t),r=Tb(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],l=Gm(n,u.path),c=!1,f=void 0;if(rt(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)c=!0,f=u.abortReason,i=i.concat(nb(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)c=!0,f="maxretry",i=i.concat(nb(e.serverSyncTree_,u.currentWriteId,!0));else{var h=Xb(e,u.path,o);u.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){Pb("transaction failed: Data returned ",d,u.path);var p=Ag(d);"object"===typeof d&&null!=d&&Tt(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,m=Hb(e),g=yb(p,h,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=g,u.currentWriteId=Jb(e),o.splice(o.indexOf(v),1),i=(i=i.concat(tb(e.serverSyncTree_,u.path,g,u.currentWriteId,u.applyLocally))).concat(nb(e.serverSyncTree_,v,!0))}else c=!0,f="nodata",i=i.concat(nb(e.serverSyncTree_,u.currentWriteId,!0))}Ub(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)s(u);aw(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)cm(r[l]);Zb(e,e.transactionQueueTree_)}(e,rw(e,n),r),r}function nw(e,t){var n,r=e.transactionQueueTree_;for(n=Fm(t);null!==n&&void 0===_b(r);)r=kb(r,n),n=Fm(t=zm(t));return r}function rw(e,t){var n=[];return iw(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function iw(e,t,n){var r=_b(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Cb(t,(function(t){iw(e,t,n)}))}function aw(e,t){var n=_b(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,xb(t,n.length>0?n:void 0)}Cb(t,(function(t){aw(e,t)}))}function ow(e,t){var n=Tb(nw(e,t)),r=kb(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){sw(e,t)})),sw(e,r),Eb(r,(function(t){sw(e,t)})),n}function sw(e,t){var n=_b(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(rt(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(rt(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(nb(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?xb(t,void 0):n.length=a+1,Ub(e.eventQueue_,Tb(t),i);for(var s=0;s<r.length;s++)cm(r[s])}}var uw=function(e,t){var n=lw(e),r=n.namespace;"firebase.com"===n.domain&&Qv(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Qv("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Jv("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new bm(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Lm(n.pathString)}},lw=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(c,f)),c<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(c,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=I(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Jv("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;var d=t.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},cw=function(){function e(t,n,r,i){v(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return g(e,[{key:"key",get:function(){return Km(this._path)?null:Vm(this._path)}},{key:"ref",get:function(){return new fw(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Vg(this._queryParams),t=nm(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Vg(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Ft(t))instanceof e))return!1;var n=this._repo===t._repo,r=Qm(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var fw=function(e){b(n,e);var t=C(n);function n(e,r){return v(this,n),t.call(this,e,r,new Bg,!1)}return g(n,[{key:"parent",get:function(){var e=Wm(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(cw);!function(e){rt(!Gy,"__referenceConstructor has already been defined"),Gy=e}(fw),function(e){rt(!Yy,"__referenceConstructor has already been defined"),Yy=e}(fw);var hw={},dw=!1;function pw(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Qv("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Hv("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=uw(a,i),u=s.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"/incommon",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),l?(o=!0,a="http://".concat(l,"?ns=").concat(u.namespace),u=(s=uw(a,i)).repoInfo):o=!s.repoInfo.secure;var c=i&&o?new pm(pm.OWNER):new dm(e.name,e.options,t);Ob("Invalid Firebase Database URL",s),Km(s.path)||Qv("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=hw[t.name];i||(i={},hw[t.name]=i);var a=i[e.toURLString()];a&&Qv("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Vb(e,dw,n,r),i[e.toURLString()]=a,a}(u,e,c,new hm(e.name,n));return new vw(f,e)}var vw=function(){function e(t,n){v(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return g(e,[{key:"_repo",get:function(){return this._instanceStarted||(qb(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new fw(this._repo,Um())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=hw[t];n&&n[e.key]===e||Qv("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),$b(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Qv("Cannot call "+e+" on a deleted database.")}}]),e}();tg.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},tg.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){Rv=e}(Dn),Nn(new Bt("database",(function(e,t){var n=t.instanceIdentifier;return pw(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),On(jv,Av,e),On(jv,Av,"esm2017")}();var mw,gw;var yw=new WeakMap,bw=new WeakMap,ww=new WeakMap,kw=new WeakMap,_w=new WeakMap;var xw={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bw.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ww.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ew(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Sw(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(gw||(gw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Tw(this),n),Ew(yw.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ew(e.apply(Tw(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Tw(this),t].concat(r));return ww.set(a,t.sort?t.sort():[t]),Ew(a)}}function Cw(e){return"function"===typeof e?Sw(e):(e instanceof IDBTransaction&&function(e){if(!bw.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));bw.set(e,t)}}(e),t=e,(mw||(mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,xw):e);var t}function Ew(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ew(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&yw.set(t,e)})).catch((function(){})),_w.set(t,e),t}(e);if(kw.has(e))return kw.get(e);var t=Cw(e);return t!==e&&(kw.set(e,t),_w.set(t,e)),t}var Tw=function(e){return _w.get(e)};var Nw,Iw=["get","getKey","getAll","getAllKeys","count"],jw=["put","add","delete","clear"],Aw=new Map;function Rw(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Aw.get(t))return Aw.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=jw.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Iw.includes(n))){var a=function(){var e=$e(Qe().mark((function e(t){var a,o,s,u,l,c,f=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=f[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Aw.set(t,a),a}}}!function(e){xw=e(xw)}((function(e){return Zt(Zt({},e),{},{get:function(t,n,r){return Rw(t,n)||e.get(t,n,r)},has:function(t,n){return!!Rw(t,n)||e.has(t,n)}})}));var Dw="@firebase/installations",Pw="0.5.12",Ow=1e4,Mw="w:".concat(Pw),Lw="FIS_v2",Uw=36e5,Fw=(Ze(Nw={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Ze(Nw,"not-registered","Firebase Installation is not registered."),Ze(Nw,"installation-not-found","Firebase Installation not found."),Ze(Nw,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),Ze(Nw,"app-offline","Could not process request. Application offline."),Ze(Nw,"delete-pending-registration","Can't delete installation while there is a pending registration request."),Nw),Bw=new kt("installations","Installations",Fw);function zw(e){return e instanceof wt&&e.code.includes("request-failed")}function Vw(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function qw(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Ww(e,t){return Hw.apply(this,arguments)}function Hw(){return Hw=$e(Qe().mark((function e(t,n){var r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",Bw.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)}))),Hw.apply(this,arguments)}function Kw(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Gw(e,t){var n=t.refreshToken,r=Kw(e);return r.append("Authorization",function(e){return"".concat(Lw," ").concat(e)}(n)),r}function Qw(e){return Jw.apply(this,arguments)}function Jw(){return Jw=$e(Qe().mark((function e(t){var n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),Jw.apply(this,arguments)}function $w(e,t){return Yw.apply(this,arguments)}function Yw(){return(Yw=$e(Qe().mark((function e(t,n){var r,i,a,o,s,u,l,c,f,h,d,p;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=Vw(r),s=Kw(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(l=e.sent)&&s.append("x-firebase-client",l);case 10:return c={fid:a,authVersion:Lw,appId:r.appId,sdkVersion:Mw},f={method:"POST",headers:s,body:JSON.stringify(c)},e.next=14,Qw((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:qw(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,Ww("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xw(e){return new Promise((function(t){setTimeout(t,e)}))}var Zw=/^[cdef][\w-]{21}$/;function ek(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return function(e){return btoa(String.fromCharCode.apply(String,p(e))).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return Zw.test(t)?t:""}catch(n){return""}}function tk(e){return"".concat(e.appName,"!").concat(e.appId)}var nk=new Map;function rk(e,t){var n=tk(e);ik(n,t),function(e,t){var n=ok();n&&n.postMessage({key:e,fid:t});sk()}(n,t)}function ik(e,t){var n=nk.get(e);if(n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var ak=null;function ok(){return!ak&&"BroadcastChannel"in self&&((ak=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){ik(e.data.key,e.data.fid)}),ak}function sk(){0===nk.size&&ak&&(ak.close(),ak=null)}var uk="firebase-installations-store",lk=null;function ck(){return lk||(lk=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Ew(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Ew(s.result),e.oldVersion,e.newVersion,Ew(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(uk)}})),lk}function fk(e,t){return hk.apply(this,arguments)}function hk(){return hk=$e(Qe().mark((function e(t,n){var r,i,a,o,s;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tk(t),e.next=3,ck();case 3:return i=e.sent,a=i.transaction(uk,"readwrite"),o=a.objectStore(uk),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||rk(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),hk.apply(this,arguments)}function dk(e){return pk.apply(this,arguments)}function pk(){return pk=$e(Qe().mark((function e(t){var n,r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tk(t),e.next=3,ck();case 3:return r=e.sent,i=r.transaction(uk,"readwrite"),e.next=7,i.objectStore(uk).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),pk.apply(this,arguments)}function vk(e,t){return mk.apply(this,arguments)}function mk(){return mk=$e(Qe().mark((function e(t,n){var r,i,a,o,s,u;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tk(t),e.next=3,ck();case 3:return i=e.sent,a=i.transaction(uk,"readwrite"),o=a.objectStore(uk),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||rk(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),mk.apply(this,arguments)}function gk(e){return yk.apply(this,arguments)}function yk(){return(yk=$e(Qe().mark((function e(t){var n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vk(t.appConfig,(function(e){var r=bk(e),i=wk(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bk(e){return Ck(e||{fid:ek(),registrationStatus:0})}function wk(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Bw.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return kk.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:_k(e)}:{installationEntry:t}}function kk(){return(kk=$e(Qe().mark((function e(t,n){var r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$w(t,n);case 3:return r=e.sent,e.abrupt("return",fk(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!zw(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,dk(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,fk(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function _k(e){return xk.apply(this,arguments)}function xk(){return(xk=$e(Qe().mark((function e(t){var n,r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sk(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,Xw(100);case 6:return e.next=8,Sk(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,gk(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sk(e){return vk(e,(function(e){if(!e)throw Bw.create("installation-not-found");return Ck(e)}))}function Ck(e){return 1===(t=e).registrationStatus&&t.registrationTime+Ow<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Ek(e,t){return Tk.apply(this,arguments)}function Tk(){return(Tk=$e(Qe().mark((function e(t,n){var r,i,a,o,s,u,l,c,f,h,d;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=Nk(r,n),o=Gw(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return l={installation:{sdkVersion:Mw,appId:r.appId}},c={method:"POST",headers:o,body:JSON.stringify(l)},e.next=13,Qw((function(){return fetch(a,c)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=qw(h),e.abrupt("return",d);case 22:return e.next=24,Ww("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nk(e,t){var n=t.fid;return"".concat(Vw(e),"/").concat(n,"/authTokens:generate")}function Ik(e){return jk.apply(this,arguments)}function jk(){return jk=$e(Qe().mark((function e(t){var n,r,i,a,o=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,vk(t.appConfig,(function(e){if(!Mk(e))throw Bw.create("not-registered");var i=e.authToken;if(!n&&Lk(i))return e;if(1===i.requestStatus)return r=Ak(t,n),e;if(!navigator.onLine)throw Bw.create("app-offline");var a=Uk(e);return r=Pk(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),jk.apply(this,arguments)}function Ak(e,t){return Rk.apply(this,arguments)}function Rk(){return(Rk=$e(Qe().mark((function e(t,n){var r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dk(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,Xw(100);case 6:return e.next=8,Dk(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",Ik(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dk(e){return vk(e,(function(e){if(!Mk(e))throw Bw.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+Ow<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function Pk(e,t){return Ok.apply(this,arguments)}function Ok(){return(Ok=$e(Qe().mark((function e(t,n){var r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ek(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,fk(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!zw(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,dk(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,fk(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Mk(e){return void 0!==e&&2===e.registrationStatus}function Lk(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Uw}(e)}function Uk(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Fk(){return(Fk=$e(Qe().mark((function e(t){var n,r,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,gk(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):Ik(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bk(){return Bk=$e(Qe().mark((function e(t){var n,r,i,a=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,zk(r);case 4:return e.next=6,Ik(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),Bk.apply(this,arguments)}function zk(e){return Vk.apply(this,arguments)}function Vk(){return(Vk=$e(Qe().mark((function e(t){var n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gk(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qk(e){return Bw.create("missing-app-config-values",{valueName:e})}var Wk,Hk="installations",Kk=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw qk("App Configuration");if(!e.name)throw qk("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw qk(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:In(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},Gk=function(e){var t=In(e.getProvider("app").getImmediate(),Hk).getImmediate(),n={getId:function(){return function(e){return Fk.apply(this,arguments)}(t)},getToken:function(e){return function(e){return Bk.apply(this,arguments)}(t,e)}};return n};Nn(new Bt(Hk,Kk,"PUBLIC")),Nn(new Bt("installations-internal",Gk,"PRIVATE")),On(Dw,Pw),On(Dw,Pw,"esm2017");var Qk="analytics",Jk=6e4,$k="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yk="https://www.googletagmanager.com/gtag/js",Xk=new Yt("@firebase/analytics");function Zk(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function e_(e,t){var n=document.createElement("script");n.src="".concat(Yk,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function t_(e,t,n,r,i,a){return n_.apply(this,arguments)}function n_(){return n_=$e(Qe().mark((function e(t,n,r,i,a,o){var s,u,l;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,Zk(r);case 9:if(u=e.sent,l=u.find((function(e){return e.measurementId===a})),!l){e.next=14;break}return e.next=14,n[l.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),Xk.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),n_.apply(this,arguments)}function r_(e,t,n,r,i){return i_.apply(this,arguments)}function i_(){return i_=$e(Qe().mark((function e(t,n,r,i,a){var o,s,u,l,c,f;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,Zk(r);case 7:u=e.sent,l=I(s),e.prev=9,f=function(){var e=c.value,t=u.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},l.s();case 12:if((c=l.n()).done){e.next=18;break}if("break"!==f()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),l.e(e.t0);case 23:return e.prev=23,l.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),Xk.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),i_.apply(this,arguments)}function a_(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return i=$e(Qe().mark((function i(a,o,s){return Qe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,r_(e,t,n,o,s);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,t_(e,t,n,r,o,s);case 9:i.next=12;break;case 11:"consent"===a?e("consent","update",s):e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),Xk.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])}))),i.apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function o_(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(Yk))return r}return null}var s_=(Ze(Wk={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),Ze(Wk,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),Ze(Wk,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),Ze(Wk,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),Ze(Wk,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),Ze(Wk,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),Ze(Wk,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),Ze(Wk,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),Ze(Wk,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),Ze(Wk,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),Wk),u_=new kt("analytics","Analytics",s_),l_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;v(this,e),this.throttleMetadata=t,this.intervalMillis=n}return g(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),c_=new l_;function f_(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function h_(e){return d_.apply(this,arguments)}function d_(){return d_=$e(Qe().mark((function e(t){var n,r,i,a,o,s,u,l;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:f_(i)},o=$k.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:l=e.sent,(null===(n=l.error)||void 0===n?void 0:n.message)&&(u=l.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw u_.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),d_.apply(this,arguments)}function p_(e){return v_.apply(this,arguments)}function v_(){return v_=$e(Qe().mark((function e(t){var n,r,i,a,o,s,u,l,c=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:c_,r=c.length>2?c[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw u_.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw u_.create("no-api-key");case 9:return u=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new __,setTimeout($e(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:Jk),e.abrupt("return",m_({appId:a,apiKey:o,measurementId:s},u,l,n));case 13:case"end":return e.stop()}}),e)}))),v_.apply(this,arguments)}function m_(e,t,n){return g_.apply(this,arguments)}function g_(){return g_=$e(Qe().mark((function e(t,n,r){var i,a,o,s,u,l,c,f,h,d,p,v=arguments;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=v.length>3&&void 0!==v[3]?v[3]:c_,l=t.appId,c=t.measurementId,e.prev=3,e.next=6,y_(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!c){e.next=13;break}return Xk.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===(s=e.t0)||void 0===s?void 0:s.message,"]")),e.abrupt("return",{appId:l,measurementId:c});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,h_(t);case 17:return f=e.sent,o.deleteThrottleMetadata(l),e.abrupt("return",f);case 22:if(e.prev=22,e.t1=e.catch(14),b_(h=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(l),!c){e.next=32;break}return Xk.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===h||void 0===h?void 0:h.message,"]")),e.abrupt("return",{appId:l,measurementId:c});case 32:throw e.t1;case 33:return d=503===Number(null===(u=null===h||void 0===h?void 0:h.customData)||void 0===u?void 0:u.httpStatus)?Ut(a,o.intervalMillis,30):Ut(a,o.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:a+1},o.setThrottleMetadata(l,p),Xk.debug("Calling attemptFetch again in ".concat(d," millis")),e.abrupt("return",m_(t,p,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),g_.apply(this,arguments)}function y_(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(u_.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function b_(e){if(!(e instanceof wt)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var w_,k_,__=function(){function e(){v(this,e),this.listeners=[]}return g(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function x_(){return(x_=$e(Qe().mark((function e(t,n,r,i,a){var o,s;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,s=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S_(e){k_=e}function C_(e){w_=e}function E_(){return T_.apply(this,arguments)}function T_(){return T_=$e(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yt()){e.next=5;break}return Xk.warn(u_.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,bt();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),Xk.warn(u_.create("indexeddb-unavailable",{errorInfo:null===(t=e.t0)||void 0===t?void 0:t.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])}))),T_.apply(this,arguments)}function N_(){return N_=$e(Qe().mark((function e(t,n,r,i,a,o,s){var u,c,f,h,d,p,v,m;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=p_(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Xk.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Xk.error(e)})),n.push(c),f=E_().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([c,f]);case 6:return h=e.sent,d=l(h,2),p=d[0],v=d[1],o_()||e_(o,p.measurementId),k_&&(a("consent","default",k_),S_(void 0)),a("js",new Date),(m=null!==(u=null===s||void 0===s?void 0:s.config)&&void 0!==u?u:{}).origin="firebase",m.update=!0,null!=v&&(m.firebase_id=v),a("config",p.measurementId,m),w_&&(a("set",w_),C_(void 0)),e.abrupt("return",p.measurementId);case 20:case"end":return e.stop()}}),e)}))),N_.apply(this,arguments)}var I_,j_,A_=function(){function e(t){v(this,e),this.app=t}return g(e,[{key:"_delete",value:function(){return delete R_[this.app.options.appId],Promise.resolve()}}]),e}(),R_={},D_=[],P_={},O_="dataLayer",M_="gtag",L_=!1;function U_(){var e=[];if(vt()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=u_.create("invalid-analytics-context",{errorInfo:t});Xk.warn(n.message)}}function F_(e,t,n){U_();var r=e.options.appId;if(!r)throw u_.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw u_.create("no-api-key");Xk.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=R_[r])throw u_.create("already-exists",{id:r});if(!L_){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(O_);var i=a_(R_,D_,P_,O_,M_),a=i.wrappedGtag,o=i.gtagCore;j_=a,I_=o,L_=!0}return R_[r]=function(e,t,n,r,i,a,o){return N_.apply(this,arguments)}(e,D_,P_,t,I_,O_,n),new A_(e)}function B_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=In(e,Qk);if(n.isInitialized()){var r=n.getImmediate();if(At(t,n.getOptions()))return r;throw u_.create("already-initialized")}var i=n.initialize({options:t});return i}function z_(e,t,n,r){e=Ft(e),function(e,t,n,r,i){return x_.apply(this,arguments)}(j_,R_[e.app.options.appId],t,n,r).catch((function(e){return Xk.error(e)}))}var V_="@firebase/analytics",q_="0.8.0";Nn(new Bt(Qk,(function(e,t){var n=t.options;return F_(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Nn(new Bt("analytics-internal",(function(e){try{var t=e.getProvider(Qk).getImmediate();return{logEvent:function(e,n,r){return z_(t,e,n,r)}}}catch(n){throw u_.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),On(V_,q_),On(V_,q_,"esm2017");var W_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:xn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw An.create("bad-app-name",{appName:String(i)});var a=Cn.get(i);if(a){if(At(e,a.options)&&At(r,a.config))return a;throw An.create("duplicate-app",{appName:i})}var o,s=new Ht(i),u=I(En.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s.addComponent(l)}}catch(f){u.e(f)}finally{u.f()}var c=new Rn(e,r,s);return Cn.set(i,c),c}({apiKey:"AIzaSyBdLzhc6y-wl1WgUGZtLM-KwEVMJzGLXUg",authDomain:"incommon-5a80d.firebaseapp.com",projectId:"incommon-5a80d",storageBucket:"incommon-5a80d.appspot.com",messagingSenderId:"628109166184",appId:"1:628109166184:web:c32f3050c96227bcfb9ddd",measurementId:"G-1DGT55E1YT"}),H_=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn(),t=In(e=Ft(e),Qk);t.isInitialized()?t.getImmediate():B_(e)}(W_),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn();return In(e,"firestore").getImmediate()}()),K_=JSON.parse('{"festivus":[{"name":"Adriana Lima","imageUrl":"Adriana_Lima.jpg"},{"name":"Alexandra Daddario","imageUrl":"Alexandra_Daddario.jpeg"},{"name":"Alison Brie","imageUrl":"Alison_Brie.jpg"},{"name":"Amy Adams","imageUrl":"Amy_Adams.jpg"},{"name":"Ana De Armas","imageUrl":"Ana_De_Armas.jpg"},{"name":"Aubrey Plaza","imageUrl":"Aubrey_Plaza.png"},{"name":"Audrey Hepburn","imageUrl":"Audrey_Hepburn.jpeg"},{"name":"Charlize Theron","imageUrl":"Charlize_Theron.jpg"},{"name":"Christina Hendricks","imageUrl":"Christina_Hendricks.jpg"},{"name":"Cindy Crawford","imageUrl":"Cindy_Crawford.jpg"},{"name":"Claudia Schiffer","imageUrl":"Claudia_Schiffer.jpg"},{"name":"Emma Watson","imageUrl":"Emma_Watson.jpg"},{"name":"Gal Gadot","imageUrl":"Gal_Gadot.jpg"},{"name":"Halle Berry","imageUrl":"Halle_Berry.jpeg"},{"name":"Heidi Klum","imageUrl":"Heidi_Klum.jpg"},{"name":"Jennifer Connelly","imageUrl":"Jennifer_Connelly.jpg"},{"name":"Jennifer Lawrence","imageUrl":"Jennifer_Lawrence.jpg"},{"name":"Jennifer Lopez","imageUrl":"Jennifer_Lopez.jpg"},{"name":"Jennifer Love Hewitt","imageUrl":"Jennifer_Love_Hewitt.jpg"},{"name":"Jessica Alba","imageUrl":"Jessica_Alba.jpg"},{"name":"Julia Louis Dreyfus","imageUrl":"Julia_Louis_Dreyfus.jpeg"},{"name":"Kate Beckinsale","imageUrl":"Kate_Beckinsale.jpeg"},{"name":"Kate Upton","imageUrl":"Kate_Upton.jpeg"},{"name":"Kristen Bell","imageUrl":"Kristen_Bell.jpg"},{"name":"Lauren Summer","imageUrl":"Lauren_Summer.jpg"},{"name":"Livvy Dunne","imageUrl":"Livvy_Dunne.jpeg"},{"name":"Margot Robbie","imageUrl":"Margot_Robbie.jpg"},{"name":"Maria Sharapova","imageUrl":"Maria_Sharapova.jpg"},{"name":"Marisa Tomei","imageUrl":"Marisa_Tomei.jpg"},{"name":"Megan Fox","imageUrl":"Megan_Fox.jpeg"},{"name":"Mila Kunis","imageUrl":"Mila_Kunis.jpg"},{"name":"Milana Vayntrub","imageUrl":"Milana_Vayntrub.jpeg"},{"name":"Monica Bellucci","imageUrl":"Monica_Bellucci.jpeg"},{"name":"Natalie Portman","imageUrl":"Natalie_Portman.jpg"},{"name":"Rihanna","imageUrl":"Rihanna.jpg"},{"name":"Salma Hayak","imageUrl":"Salma_Hayak.jpg"},{"name":"Scarlett Johansson","imageUrl":"Scarlett_Johansson.jpeg"},{"name":"Scarlett Johansson","imageUrl":"Scarlett_Johansson.jpg"},{"name":"Sharon Stone","imageUrl":"Sharon_Stone.jpg"},{"name":"Sofia Vergara","imageUrl":"Sofia_Vergara.jpg"},{"name":"Sydney Sweeney","imageUrl":"Sydney_Sweeney.jpg"}],"celebrities":[{"name":"Dwayne Johnson","imageUrl":"Dwayne_Johnson.jpg"},{"name":"Taylor Swift","imageUrl":"Taylor_Swift.png"},{"name":"Beyonc\xe9","imageUrl":"Beyonc\xe9.jpg"},{"name":"Leonardo DiCaprio","imageUrl":"Leonardo_DiCaprio.jpg"},{"name":"Kim Kardashian","imageUrl":"Kim_Kardashian.jpg"},{"name":"Oprah Winfrey","imageUrl":"Oprah_Winfrey.jpg"},{"name":"Brad Pitt","imageUrl":"Brad_Pitt.jpg"},{"name":"Rihanna","imageUrl":"Rihanna.png"},{"name":"Justin Bieber","imageUrl":"Justin_Bieber.jpg"},{"name":"Ellen DeGeneres","imageUrl":"Ellen_DeGeneres.jpg"},{"name":"Kanye West","imageUrl":"Kanye_West.jpg"},{"name":"Ariana Grande","imageUrl":"Ariana_Grande.jpg"},{"name":"Jennifer Lopez","imageUrl":"Jennifer_Lopez.jpg"},{"name":"Lady Gaga","imageUrl":"Lady_Gaga.jpg"},{"name":"Tom Hanks","imageUrl":"Tom_Hanks.jpg"},{"name":"Kylie Jenner","imageUrl":"Kylie_Jenner.jpg"},{"name":"Will Smith","imageUrl":"Will_Smith.jpg"},{"name":"Angelina Jolie","imageUrl":"Angelina_Jolie.jpg"},{"name":"Katy Perry","imageUrl":"Katy_Perry.png"},{"name":"Chris Hemsworth","imageUrl":"Chris_Hemsworth.jpg"},{"name":"Robert Downey Jr.","imageUrl":"Robert_Downey_Jr..jpg"},{"name":"Scarlett Johansson","imageUrl":"Scarlett_Johansson.jpg"},{"name":"Jennifer Aniston","imageUrl":"Jennifer_Aniston.jpg"},{"name":"Michael B. Jordan","imageUrl":"Michael_B._Jordan.jpg"},{"name":"Selena Gomez","imageUrl":"Selena_Gomez.png"},{"name":"Cardi B","imageUrl":"Cardi_B.jpg"},{"name":"Billie Eilish","imageUrl":"Billie_Eilish.jpg"},{"name":"Kevin Hart","imageUrl":"Kevin_Hart.jpg"},{"name":"Sandra Bullock","imageUrl":"Sandra_Bullock.jpg"},{"name":"Mark Wahlberg","imageUrl":"Mark_Wahlberg.jpg"},{"name":"Meryl Streep","imageUrl":"Meryl_Streep.jpg"},{"name":"Jimmy Fallon","imageUrl":"Jimmy_Fallon.jpg"},{"name":"Denzel Washington","imageUrl":"Denzel_Washington.jpg"},{"name":"Jennifer Lawrence","imageUrl":"Jennifer_Lawrence.jpg"},{"name":"Adam Sandler","imageUrl":"Adam_Sandler.jpg"},{"name":"Morgan Freeman","imageUrl":"Morgan_Freeman.jpg"},{"name":"Reese Witherspoon","imageUrl":"Reese_Witherspoon.jpg"},{"name":"Lizzo","imageUrl":"Lizzo.jpg"},{"name":"Margot Robbie","imageUrl":"Margot_Robbie.jpg"},{"name":"Ryan Reynolds","imageUrl":"Ryan_Reynolds.jpg"},{"name":"Stephen Curry","imageUrl":"Stephen_Curry.jpg"},{"name":"Gal Gadot","imageUrl":"Gal_Gadot.jpg"},{"name":"Tom Cruise","imageUrl":"Tom_Cruise.jpg"},{"name":"Johnny Depp","imageUrl":"Johnny_Depp.jpg"},{"name":"Bruno Mars","imageUrl":"Bruno_Mars.jpg"},{"name":"Emma Stone","imageUrl":"Emma_Stone.jpg"},{"name":"Blake Lively","imageUrl":"Blake_Lively.jpg"},{"name":"Hugh Jackman","imageUrl":"Hugh_Jackman.jpg"},{"name":"Zac Efron","imageUrl":"Zac_Efron.jpg"},{"name":"Sofia Vergara","imageUrl":"Sofia_Vergara.jpg"},{"name":"Jason Momoa","imageUrl":"Jason_Momoa.jpg"},{"name":"Charlize Theron","imageUrl":"Charlize_Theron.jpg"},{"name":"The Weeknd","imageUrl":"The_Weeknd.png"},{"name":"Nicole Kidman","imageUrl":"Nicole_Kidman.jpg"},{"name":"Ed Sheeran","imageUrl":"Ed_Sheeran.jpg"},{"name":"Viola Davis","imageUrl":"Viola_Davis.jpg"},{"name":"Daniel Radcliffe","imageUrl":"Daniel_Radcliffe.jpg"},{"name":"Emma Watson","imageUrl":"Emma_Watson.jpg"},{"name":"George Clooney","imageUrl":"George_Clooney.jpg"},{"name":"Halle Berry","imageUrl":"Halle_Berry.jpg"},{"name":"Matt Damon","imageUrl":"Matt_Damon.jpg"},{"name":"Zendaya","imageUrl":"Zendaya.jpg"},{"name":"Cristiano Ronaldo","imageUrl":"Cristiano_Ronaldo.jpg"},{"name":"Demi Lovato","imageUrl":"Demi_Lovato.jpg"},{"name":"Elon Musk","imageUrl":"Elon_Musk.jpg"},{"name":"James Corden","imageUrl":"James_Corden.jpg"},{"name":"John Legend","imageUrl":"John_Legend.jpg"},{"name":"Keanu Reeves","imageUrl":"Keanu_Reeves.jpg"},{"name":"Miley Cyrus","imageUrl":"Miley_Cyrus.jpg"},{"name":"Naomi Osaka","imageUrl":"Naomi_Osaka.png"},{"name":"Serena Williams","imageUrl":"Serena_Williams.jpg"},{"name":"Trevor Noah","imageUrl":"Trevor_Noah.png"},{"name":"Dave Chappelle","imageUrl":"Dave_Chappelle.jpg"},{"name":"Idris Elba","imageUrl":"Idris_Elba.jpg"},{"name":"Lionel Messi","imageUrl":"Lionel_Messi.jpg"},{"name":"Matthew McConaughey","imageUrl":"Matthew_McConaughey.jpg"},{"name":"Oscar Isaac","imageUrl":"Oscar_Isaac.jpg"},{"name":"Samuel L. Jackson","imageUrl":"Samuel_L._Jackson.jpg"},{"name":"Seth Rogen","imageUrl":"Seth_Rogen.jpg"},{"name":"Simone Biles","imageUrl":"Simone_Biles.jpg"},{"name":"Tyler Perry","imageUrl":"Tyler_Perry.jpg"},{"name":"Adele","imageUrl":"Adele.png"},{"name":"Amy Schumer","imageUrl":"Amy_Schumer.jpg"},{"name":"Brie Larson","imageUrl":"Brie_Larson.jpg"},{"name":"Chadwick Boseman","imageUrl":"Chadwick_Boseman.jpg"},{"name":"Chris Pratt","imageUrl":"Chris_Pratt.jpg"},{"name":"Conan O\'Brien","imageUrl":"Conan_OBrien.jpg"},{"name":"Dakota Johnson","imageUrl":"Dakota_Johnson.jpg"},{"name":"Emily Blunt","imageUrl":"Emily_Blunt.png"},{"name":"Gordon Ramsay","imageUrl":"Gordon_Ramsay.jpg"},{"name":"J.K. Rowling","imageUrl":"J.K._Rowling.jpg"},{"name":"Jake Gyllenhaal","imageUrl":"Jake_Gyllenhaal.jpg"},{"name":"Jared Leto","imageUrl":"Jared_Leto.jpg"},{"name":"Jessica Chastain","imageUrl":"Jessica_Chastain.jpg"},{"name":"John Krasinski","imageUrl":"John_Krasinski.png"},{"name":"Julia Roberts","imageUrl":"Julia_Roberts.jpg"},{"name":"LeBron James","imageUrl":"LeBron_James.jpg"},{"name":"Lin-Manuel Miranda","imageUrl":"Lin-Manuel_Miranda.jpg"},{"name":"Michael Jordan","imageUrl":"Michael_Jordan.jpg"}],"actors":[{"name":"Dwayne Johnson","imageUrl":"Dwayne_Johnson.jpg"},{"name":"Leonardo DiCaprio","imageUrl":"Leonardo_DiCaprio.jpg"},{"name":"Brad Pitt","imageUrl":"Brad_Pitt.jpg"},{"name":"Tom Hanks","imageUrl":"Tom_Hanks.jpg"},{"name":"Angelina Jolie","imageUrl":"Angelina_Jolie.jpg"},{"name":"Scarlett Johansson","imageUrl":"Scarlett_Johansson.jpg"},{"name":"Jennifer Aniston","imageUrl":"Jennifer_Aniston.jpg"},{"name":"Michael B. Jordan","imageUrl":"Michael_B._Jordan.jpg"},{"name":"Jennifer Lawrence","imageUrl":"Jennifer_Lawrence.jpg"},{"name":"Adam Sandler","imageUrl":"Adam_Sandler.jpg"},{"name":"Morgan Freeman","imageUrl":"Morgan_Freeman.jpg"},{"name":"Reese Witherspoon","imageUrl":"Reese_Witherspoon.jpg"},{"name":"Margot Robbie","imageUrl":"Margot_Robbie.jpg"},{"name":"Ryan Reynolds","imageUrl":"Ryan_Reynolds.jpg"},{"name":"Gal Gadot","imageUrl":"Gal_Gadot.jpg"},{"name":"Tom Cruise","imageUrl":"Tom_Cruise.jpg"},{"name":"Johnny Depp","imageUrl":"Johnny_Depp.jpg"},{"name":"Emma Stone","imageUrl":"Emma_Stone.jpg"},{"name":"Hugh Jackman","imageUrl":"Hugh_Jackman.jpg"},{"name":"Zac Efron","imageUrl":"Zac_Efron.jpg"},{"name":"Sofia Vergara","imageUrl":"Sofia_Vergara.jpg"},{"name":"Jason Momoa","imageUrl":"Jason_Momoa.jpg"},{"name":"Charlize Theron","imageUrl":"Charlize_Theron.jpg"},{"name":"Nicole Kidman","imageUrl":"Nicole_Kidman.jpg"},{"name":"Viola Davis","imageUrl":"Viola_Davis.jpg"},{"name":"Daniel Radcliffe","imageUrl":"Daniel_Radcliffe.jpg"},{"name":"Emma Watson","imageUrl":"Emma_Watson.jpg"},{"name":"George Clooney","imageUrl":"George_Clooney.jpg"},{"name":"Halle Berry","imageUrl":"Halle_Berry.jpg"},{"name":"Matt Damon","imageUrl":"Matt_Damon.jpg"},{"name":"Zendaya","imageUrl":"Zendaya.jpg"},{"name":"Demi Lovato","imageUrl":"Demi_Lovato.jpg"},{"name":"Keanu Reeves","imageUrl":"Keanu_Reeves.jpg"},{"name":"Miley Cyrus","imageUrl":"Miley_Cyrus.jpg"},{"name":"Dave Chappelle","imageUrl":"Dave_Chappelle.jpg"},{"name":"Idris Elba","imageUrl":"Idris_Elba.jpg"},{"name":"Matthew McConaughey","imageUrl":"Matthew_McConaughey.jpg"},{"name":"Oscar Isaac","imageUrl":"Oscar_Isaac.jpg"},{"name":"Samuel L. Jackson","imageUrl":"Samuel_L._Jackson.jpg"},{"name":"Seth Rogen","imageUrl":"Seth_Rogen.jpg"},{"name":"Tyler Perry","imageUrl":"Tyler_Perry.jpg"},{"name":"Amy Schumer","imageUrl":"Amy_Schumer.jpg"},{"name":"Brie Larson","imageUrl":"Brie_Larson.jpg"},{"name":"Chadwick Boseman","imageUrl":"Chadwick_Boseman.jpg"},{"name":"Chris Pratt","imageUrl":"Chris_Pratt.jpg"},{"name":"Dakota Johnson","imageUrl":"Dakota_Johnson.jpg"},{"name":"Emily Blunt","imageUrl":"Emily_Blunt.png"},{"name":"Jake Gyllenhaal","imageUrl":"Jake_Gyllenhaal.jpg"},{"name":"Jared Leto","imageUrl":"Jared_Leto.jpg"},{"name":"Jessica Chastain","imageUrl":"Jessica_Chastain.jpg"},{"name":"John Krasinski","imageUrl":"John_Krasinski.png"},{"name":"Julia Roberts","imageUrl":"Julia_Roberts.jpg"},{"name":"Anne Hathaway","imageUrl":"Anne_Hathaway.jpg"},{"name":"Ryan Gosling","imageUrl":"Ryan_Gosling.jpg"},{"name":"Sandra Bullock","imageUrl":"Sandra_Bullock.jpg"},{"name":"Will Ferrell","imageUrl":"Will_Ferrell.jpg"},{"name":"Robert De Niro","imageUrl":"Robert_De_Niro.jpg"},{"name":"Al Pacino","imageUrl":"Al_Pacino.jpg"},{"name":"Meryl Streep","imageUrl":"Meryl_Streep.jpg"},{"name":"Natalie Portman","imageUrl":"Natalie_Portman.jpg"},{"name":"Cate Blanchett","imageUrl":"Cate_Blanchett.jpg"},{"name":"Christian Bale","imageUrl":"Christian_Bale.jpg"},{"name":"Joaquin Phoenix","imageUrl":"Joaquin_Phoenix.jpg"},{"name":"Russell Crowe","imageUrl":"Russell_Crowe.jpg"},{"name":"Kate Winslet","imageUrl":"Kate_Winslet.jpg"},{"name":"Mark Wahlberg","imageUrl":"Mark_Wahlberg.jpg"},{"name":"Hugh Grant","imageUrl":"Hugh_Grant.jpg"},{"name":"Cameron Diaz","imageUrl":"Cameron_Diaz.jpg"},{"name":"Jennifer Garner","imageUrl":"Jennifer_Garner.jpg"},{"name":"Ben Affleck","imageUrl":"Ben_Affleck.jpg"},{"name":"Denzel Washington","imageUrl":"Denzel_Washington.jpg"},{"name":"Eddie Murphy","imageUrl":"Eddie_Murphy.jpg"},{"name":"Jim Carrey","imageUrl":"Jim_Carrey.jpg"},{"name":"Steve Carell","imageUrl":"Steve_Carell.jpg"},{"name":"Julianne Moore","imageUrl":"Julianne_Moore.jpg"},{"name":"Kevin Spacey","imageUrl":"Kevin_Spacey.jpg"},{"name":"Clint Eastwood","imageUrl":"Clint_Eastwood.jpg"},{"name":"Harrison Ford","imageUrl":"Harrison_Ford.jpg"},{"name":"Sigourney Weaver","imageUrl":"Sigourney_Weaver.jpg"},{"name":"Jamie Foxx","imageUrl":"Jamie_Foxx.jpg"},{"name":"Bill Murray","imageUrl":"Bill_Murray.jpg"},{"name":"Mel Gibson","imageUrl":"Mel_Gibson.jpg"},{"name":"Bruce Willis","imageUrl":"Bruce_Willis.jpg"},{"name":"Sean Penn","imageUrl":"Sean_Penn.jpg"},{"name":"Winona Ryder","imageUrl":"Winona_Ryder.jpg"},{"name":"Jack Nicholson","imageUrl":"Jack_Nicholson.jpg"},{"name":"Robin Williams","imageUrl":"Robin_Williams.jpg"},{"name":"Sylvester Stallone","imageUrl":"Sylvester_Stallone.jpg"},{"name":"Arnold Schwarzenegger","imageUrl":"Arnold_Schwarzenegger.jpg"},{"name":"Michelle Pfeiffer","imageUrl":"Michelle_Pfeiffer.jpg"},{"name":"Diane Keaton","imageUrl":"Diane_Keaton.jpg"},{"name":"Glenn Close","imageUrl":"Glenn_Close.jpg"},{"name":"Annette Bening","imageUrl":"Annette_Bening.jpg"},{"name":"Jodie Foster","imageUrl":"Jodie_Foster.jpg"},{"name":"Kirsten Dunst","imageUrl":"Kirsten_Dunst.jpg"},{"name":"Nicolas Cage","imageUrl":"Nicolas_Cage.jpg"},{"name":"John Travolta","imageUrl":"John_Travolta.jpg"},{"name":"Dustin Hoffman","imageUrl":"Dustin_Hoffman.jpg"},{"name":"Richard Gere","imageUrl":"Richard_Gere.jpg"},{"name":"Julia Louis-Dreyfus","imageUrl":"Julia_Louis-Dreyfus.jpg"},{"name":"Michael Douglas","imageUrl":"Michael_Douglas.jpg"},{"name":"Goldie Hawn","imageUrl":"Goldie_Hawn.jpg"},{"name":"Sharon Stone","imageUrl":"Sharon_Stone.jpg"},{"name":"Danny DeVito","imageUrl":"Danny_DeVito.jpg"},{"name":"Steve Martin","imageUrl":"Steve_Martin.jpg"},{"name":"Mickey Rourke","imageUrl":"Mickey_Rourke.jpeg"},{"name":"Woody Harrelson","imageUrl":"Woody_Harrelson.jpg"},{"name":"James Franco","imageUrl":"James_Franco.jpg"}],"animals":[{"name":"African Elephant","imageUrl":"African_Elephant.jpg"},{"name":"Bald Eagle","imageUrl":"Bald_Eagle.jpg"},{"name":"Cheetah","imageUrl":"Cheetah.jpg"},{"name":"Emperor Penguin","imageUrl":"Emperor_Penguin.jpg"},{"name":"Fennec Fox","imageUrl":"Fennec_Fox.jpg"},{"name":"Giraffe","imageUrl":"Giraffe.jpg"},{"name":"Hippopotamus","imageUrl":"Hippopotamus.jpg"},{"name":"Iguana","imageUrl":"Iguana.jpg"},{"name":"Jaguar","imageUrl":"Jaguar.jpg"},{"name":"Koala","imageUrl":"Koala.jpg"},{"name":"Lion","imageUrl":"Lion.jpg"},{"name":"Mongoose","imageUrl":"Mongoose.png"},{"name":"Narwhal","imageUrl":"Narwhal.jpg"},{"name":"Orangutan","imageUrl":"Orangutan.jpg"},{"name":"Panda","imageUrl":"Panda.jpg"},{"name":"Rhinoceros","imageUrl":"Rhinoceros.png"},{"name":"Sloth","imageUrl":"Sloth.jpg"},{"name":"Tiger","imageUrl":"Tiger.jpg"},{"name":"Grizzly Bear","imageUrl":"Grizzly_Bear.jpg"},{"name":"Hammerhead Shark","imageUrl":"Hammerhead_Shark.jpeg"},{"name":"Kangaroo","imageUrl":"Kangaroo.jpg"},{"name":"Leopard","imageUrl":"Leopard.jpg"},{"name":"Meerkat","imageUrl":"Meerkat.jpg"},{"name":"Octopus","imageUrl":"Octopus.jpg"},{"name":"Penguin","imageUrl":"Penguin.png"},{"name":"Sea Turtle","imageUrl":"Sea_Turtle.jpg"},{"name":"Toucan","imageUrl":"Toucan.jpg"},{"name":"Vulture","imageUrl":"Vulture.jpg"},{"name":"Wolverine","imageUrl":"Wolverine.jpg"},{"name":"Zebra","imageUrl":"Zebra.jpg"},{"name":"Armadillo","imageUrl":"Armadillo.jpg"},{"name":"Blue Whale","imageUrl":"Blue_Whale.jpg"},{"name":"Crocodile","imageUrl":"Crocodile.jpg"},{"name":"Deer","imageUrl":"Deer.jpg"},{"name":"Elephant Seal","imageUrl":"Elephant_Seal.jpg"},{"name":"Flamingo","imageUrl":"Flamingo.jpg"},{"name":"Gorilla","imageUrl":"Gorilla.jpg"},{"name":"Heron","imageUrl":"Heron.jpg"},{"name":"Jellyfish","imageUrl":"Jellyfish.jpg"},{"name":"Kingfisher","imageUrl":"Kingfisher.jpg"},{"name":"Llama","imageUrl":"Llama.jpg"},{"name":"Mandrill","imageUrl":"Mandrill.jpg"},{"name":"Ostrich","imageUrl":"Ostrich.jpg"},{"name":"Peacock","imageUrl":"Peacock.jpg"},{"name":"Rattlesnake","imageUrl":"Rattlesnake.jpg"},{"name":"Snow Leopard","imageUrl":"Snow_Leopard.jpg"},{"name":"Tapir","imageUrl":"Tapir.png"},{"name":"Viper","imageUrl":"Viper.jpg"},{"name":"Wolf","imageUrl":"Wolf.jpg"},{"name":"Yak","imageUrl":"Yak.jpg"},{"name":"Albatross","imageUrl":"Albatross.jpg"},{"name":"Bison","imageUrl":"Bison.jpg"},{"name":"Chimpanzee","imageUrl":"Chimpanzee.jpg"},{"name":"Duck","imageUrl":"Duck.jpg"},{"name":"Fox","imageUrl":"Fox.jpg"},{"name":"Goldfish","imageUrl":"Goldfish.jpg"},{"name":"Hawk","imageUrl":"Hawk.jpg"},{"name":"Ibis","imageUrl":"Ibis.jpg"},{"name":"Jackal","imageUrl":"Jackal.jpg"},{"name":"Komodo Dragon","imageUrl":"Komodo_Dragon.jpg"},{"name":"Lemur","imageUrl":"Lemur.jpg"},{"name":"Moose","imageUrl":"Moose.jpg"},{"name":"Otter","imageUrl":"Otter.jpg"},{"name":"Parrot","imageUrl":"Parrot.jpg"},{"name":"Quail","imageUrl":"Quail.jpg"},{"name":"Raccoon","imageUrl":"Raccoon.jpg"},{"name":"Shark","imageUrl":"Shark.jpg"},{"name":"Turtle","imageUrl":"Turtle.jpg"},{"name":"Walrus","imageUrl":"Walrus.jpg"},{"name":"Yellow Warbler","imageUrl":"Yellow_Warbler.jpg"},{"name":"Anaconda","imageUrl":"Anaconda.jpg"},{"name":"Beaver","imageUrl":"Beaver.jpg"},{"name":"Camel","imageUrl":"Camel.jpg"},{"name":"Eagle","imageUrl":"Eagle.jpg"},{"name":"Frog","imageUrl":"Frog.jpg"},{"name":"Gazelle","imageUrl":"Gazelle.jpg"},{"name":"Horse","imageUrl":"Horse.jpg"},{"name":"Impala","imageUrl":"Impala.jpg"},{"name":"Jaguar","imageUrl":"Jaguar.jpg"},{"name":"Lynx","imageUrl":"Lynx.jpg"},{"name":"Manta Ray","imageUrl":"Manta_Ray.jpg"},{"name":"Dog","imageUrl":"Dog.jpg"},{"name":"Owl","imageUrl":"Owl.jpg"},{"name":"Pig","imageUrl":"Pig.jpg"},{"name":"Quokka","imageUrl":"Quokka.jpg"},{"name":"Rabbit","imageUrl":"Rabbit.jpg"},{"name":"Squirrel","imageUrl":"Squirrel.jpg"},{"name":"Tiger Shark","imageUrl":"Tiger_Shark.jpg"},{"name":"Vampire Bat","imageUrl":"Vampire_Bat.jpg"},{"name":"Warthog","imageUrl":"Warthog.jpg"},{"name":"Tuna","imageUrl":"Tuna.png"}],"famousPeople":[{"name":"Albert Einstein","imageUrl":"Albert_Einstein.jpg"},{"name":"Isaac Newton","imageUrl":"Isaac_Newton.jpg"},{"name":"Leonardo da Vinci","imageUrl":"Leonardo_da_Vinci.png"},{"name":"Marie Curie","imageUrl":"Marie_Curie.jpg"},{"name":"William Shakespeare","imageUrl":"William_Shakespeare.jpg"},{"name":"Mozart","imageUrl":"Mozart.jpg"},{"name":"Ludwig van Beethoven","imageUrl":"Ludwig_van_Beethoven.jpg"},{"name":"Socrates","imageUrl":"Socrates.jpg"},{"name":"Julius Caesar","imageUrl":"Julius_Caesar.jpg"},{"name":"Alexander the Great","imageUrl":"Alexander_the_Great.jpg"},{"name":"Napoleon Bonaparte","imageUrl":"Napoleon_Bonaparte.jpg"},{"name":"Adolf Hitler","imageUrl":"Adolf_Hitler.jpg"},{"name":"Genghis Khan","imageUrl":"Genghis_Khan.jpg"},{"name":"Cleopatra","imageUrl":"Cleopatra.jpg"},{"name":"Joan of Arc","imageUrl":"Joan_of_Arc.jpg"},{"name":"Queen Elizabeth I","imageUrl":"Queen_Elizabeth_I.jpg"},{"name":"Thomas Edison","imageUrl":"Thomas_Edison.jpg"},{"name":"Galileo Galilei","imageUrl":"Galileo_Galilei.jpg"},{"name":"Aristotle","imageUrl":"Aristotle.jpg"},{"name":"Plato","imageUrl":"Plato.jpg"},{"name":"Confucius","imageUrl":"Confucius.jpg"},{"name":"Martin Luther King Jr.","imageUrl":"Martin_Luther_King_Jr..jpg"},{"name":"Nelson Mandela","imageUrl":"Nelson_Mandela.jpg"},{"name":"Winston Churchill","imageUrl":"Winston_Churchill.jpg"},{"name":"Mahatma Gandhi","imageUrl":"Mahatma_Gandhi.jpg"},{"name":"Mother Teresa","imageUrl":"Mother_Teresa.jpg"},{"name":"Margaret Thatcher","imageUrl":"Margaret_Thatcher.jpg"},{"name":"Christopher Columbus","imageUrl":"Christopher_Columbus.jpg"},{"name":"Marco Polo","imageUrl":"Marco_Polo.jpg"},{"name":"Vasco da Gama","imageUrl":"Vasco_da_Gama.jpg"},{"name":"Neil Armstrong","imageUrl":"Neil_Armstrong.jpg"},{"name":"Yuri Gagarin","imageUrl":"Yuri_Gagarin.jpg"},{"name":"Charles Darwin","imageUrl":"Charles_Darwin.jpg"},{"name":"Sigmund Freud","imageUrl":"Sigmund_Freud.jpg"},{"name":"Karl Marx","imageUrl":"Karl_Marx.jpg"},{"name":"Vladimir Lenin","imageUrl":"Vladimir_Lenin.jpg"},{"name":"Joseph Stalin","imageUrl":"Joseph_Stalin.jpg"},{"name":"Mao Zedong","imageUrl":"Mao_Zedong.jpg"},{"name":"Abraham Lincoln","imageUrl":"Abraham_Lincoln.jpg"},{"name":"George Washington","imageUrl":"George_Washington.jpg"},{"name":"John F. Kennedy","imageUrl":"John_F._Kennedy.jpg"},{"name":"Franklin D. Roosevelt","imageUrl":"Franklin_D._Roosevelt.jpg"},{"name":"Thomas Jefferson","imageUrl":"Thomas_Jefferson.jpg"},{"name":"Benjamin Franklin","imageUrl":"Benjamin_Franklin.jpg"},{"name":"Alexander Graham Bell","imageUrl":"Alexander_Graham_Bell.jpg"},{"name":"Nikola Tesla","imageUrl":"Nikola_Tesla.jpeg"},{"name":"Steve Jobs","imageUrl":"Steve_Jobs.jpg"},{"name":"Bill Gates","imageUrl":"Bill_Gates.jpg"},{"name":"Henry Ford","imageUrl":"Henry_Ford.jpg"},{"name":"Walt Disney","imageUrl":"Walt_Disney.jpg"},{"name":"Vincent van Gogh","imageUrl":"Vincent_van_Gogh.jpg"},{"name":"Pablo Picasso","imageUrl":"Pablo_Picasso.jpg"},{"name":"Michelangelo","imageUrl":"Michelangelo.jpg"},{"name":"Rembrandt","imageUrl":"Rembrandt.jpg"},{"name":"Andy Warhol","imageUrl":"Andy_Warhol.jpg"},{"name":"Louis Armstrong","imageUrl":"Louis_Armstrong.jpg"},{"name":"Elvis Presley","imageUrl":"Elvis_Presley.jpg"},{"name":"Bob Dylan","imageUrl":"Bob_Dylan.jpg"},{"name":"Michael Jackson","imageUrl":"Michael_Jackson.jpg"},{"name":"Madonna","imageUrl":"Madonna.jpg"},{"name":"Frida Kahlo","imageUrl":"Frida_Kahlo.jpg"},{"name":"Jane Austen","imageUrl":"Jane_Austen.jpg"},{"name":"Charles Dickens","imageUrl":"Charles_Dickens.jpg"},{"name":"J.K. Rowling","imageUrl":"J.K._Rowling.jpg"},{"name":"Stephen Hawking","imageUrl":"Stephen_Hawking.jpg"},{"name":"Homer","imageUrl":"Homer.jpg"},{"name":"Leo Tolstoy","imageUrl":"Leo_Tolstoy.jpg"},{"name":"Johann Sebastian Bach","imageUrl":"Johann_Sebastian_Bach.jpg"},{"name":"Frederic Chopin","imageUrl":"Frederic_Chopin.jpeg"},{"name":"Albert Camus","imageUrl":"Albert_Camus.jpg"},{"name":"Ernest Hemingway","imageUrl":"Ernest_Hemingway.jpg"},{"name":"George Orwell","imageUrl":"George_Orwell.jpg"},{"name":"Virginia Woolf","imageUrl":"Virginia_Woolf.jpg"},{"name":"Mark Twain","imageUrl":"Mark_Twain.jpg"},{"name":"Oscar Wilde","imageUrl":"Oscar_Wilde.jpg"},{"name":"Sigmund Freud","imageUrl":"Sigmund_Freud.jpg"},{"name":"Carl Jung","imageUrl":"Carl_Jung.jpg"},{"name":"Louis Pasteur","imageUrl":"Louis_Pasteur.jpg"},{"name":"Gregor Mendel","imageUrl":"Gregor_Mendel.jpg"},{"name":"Marie Antoinette","imageUrl":"Marie_Antoinette.jpg"},{"name":"Catherine the Great","imageUrl":"Catherine_the_Great.jpg"},{"name":"Queen Victoria","imageUrl":"Queen_Victoria.jpg"},{"name":"Anne Frank","imageUrl":"Anne_Frank.jpg"},{"name":"Rosa Parks","imageUrl":"Rosa_Parks.jpg"},{"name":"Amelia Earhart","imageUrl":"Amelia_Earhart.jpg"},{"name":"Florence Nightingale","imageUrl":"Florence_Nightingale.jpg"},{"name":"Helen Keller","imageUrl":"Helen_Keller.jpg"},{"name":"Eleanor Roosevelt","imageUrl":"Eleanor_Roosevelt.jpg"},{"name":"Coco Chanel","imageUrl":"Coco_Chanel.jpg"},{"name":"Malcolm X","imageUrl":"Malcolm_X.jpg"},{"name":"John Lennon","imageUrl":"John_Lennon.jpg"},{"name":"Che Guevara","imageUrl":"Che_Guevara.jpg"},{"name":"Bruce Lee","imageUrl":"Bruce_Lee.jpg"},{"name":"Marilyn Monroe","imageUrl":"Marilyn_Monroe.jpg"},{"name":"Charlie Chaplin","imageUrl":"Charlie_Chaplin.jpg"},{"name":"Albert Schweitzer","imageUrl":"Albert_Schweitzer.jpg"},{"name":"Alexander Fleming","imageUrl":"Alexander_Fleming.jpg"},{"name":"Enrico Fermi","imageUrl":"Enrico_Fermi.jpg"},{"name":"Alan Turing","imageUrl":"Alan_Turing.jpg"},{"name":"Srinivasa Ramanujan","imageUrl":"Srinivasa_Ramanujan.jpg"},{"name":"Leonhard Euler","imageUrl":"Leonhard_Euler.jpg"},{"name":"James Watt","imageUrl":"James_Watt.jpg"}]}'),G_=JSON.parse('{"life":["amazing","awesome","bright","brave","calm","cheerful","clever","colorful","cozy","curious","dazzling","delight","dreamy","eager","easy","exciting","fancy","fantastic","friendly","funny","gentle","glad","glowing","happy","harmony","hopeful","jolly","joyful","kind","laugh","light","lively","lovely","lucky","magic","merry","mystery","nice","peace","playful","pleasant","proud","quiet","rainy","relax","shiny","silly","simple","smart","smile","smooth","soft","sparkle","special","splendid","springy","sunny","super","sweet","thrill","tidy","tiny","tranquil","warm","wavy","whimsy","wild","wisdom","witty","wonder","yummy","zest","adventure","beauty","bliss","breeze","charm","comfort","courage","dream","ease","energy","freedom","friendship","fun","glory","grace","happiness","harmony","imagination","inspiration","joy","laughter","liberty","love","melody","miracle","mystery","passion","peace","pleasure","pride","serenity","spirit","surprise","unity","victory","vitality","whimsy","wonder","zen","angry","annoying","awful","bad","boring","chaos","clumsy","confused","creepy","cruel","dark","difficult","dirty","dull","embarrassed","fear","fierce","fright","gross","hard","harsh","heavy","jealous","lazy","lonely","mad","mean","messy","mid","miserable","nasty","naughty","noisy","odd","pain","panic","rude","sad","scary","selfish","shy","sick","silly","slow","small","sour","strange","stress","stupid","tense","terrible","tired","trouble","ugly","unhappy","upset","weak","weird","worried","worse","worst","yucky","zero"],"animals":["smelly","funny","weird","smart","majestic","crazy","incredible","favorite","scary","adorable","agile","amazing","angry","beautiful","brave","bright","calm","charming","cheerful","clever","clumsy","colorful","cuddly","curious","cute","daring","dazzling","delicate","elegant","energetic","exciting","fancy","fast","fierce","fluffy","friendly","furry","gentle","giant","graceful","happy","hardy","hungry","jumpy","kind","large","lazy","lively","loud","lovely","loyal","lucky","messy","mighty","mysterious","naughty","noisy","odd","playful","powerful","pretty","proud","quick","quiet","quirky","rare","rough","rowdy","sleek","slimy","slow","small","sneaky","soft","speedy","strong","stunning","sweet","swift","tiny","tough","tricky","ugly","wild","wise","witty","wonderful","young","yummy","zany","overrated","underrated","dumb","lonely","gross","creepy","boring","cold","energy","calm","awkward","bashful","blunt","bold","bossy","brash","busy","careless","cautious","clueless","clumsy","cocky","confident","cowardly","crafty","cranky","crazy","curious","deceitful","delicate","demanding","determined","dirty","dishonest","disloyal","distant","distracted","disturbed","dizzy","dopey","dramatic","dreary","eager","easygoing","eccentric","elusive","emotional","envious","erratic","excitable","fearful","feisty","fickle","fiery","flaky","flashy","foolish","frantic","frightened","frivolous","fussy","glum","grumpy","guilty","gullible","hasty","hazy","heated","helpless","hesitant","hotheaded","icy","idle","impatient","impolite","impulsive","indecisive","indifferent","insecure","insensitive","irritable","jealous","jittery","lazy","lethargic","loud","lousy","lovable","lovely","lukewarm","moody","mysterious","nervous","noisy","obnoxious","odd","ornery","passionate","pathetic","peaceful","peculiar","perky","pesky","picky","playful","pleasant","plucky","polite","pompous","proud","puzzling","quirky","rash","reckless","relaxed","reliable","restless","ridiculous","rude","sassy","scared","scatterbrained","scheming","selfish","sensitive","shaky","shallow","sharp","shifty","shy","silly","sincere","sleepy","sloppy","slow","sly","sneaky","snobby","solemn","somber","sour","spiteful","sprightly","squeamish","stable","stern","stingy","strange","strict","stubborn","stuffy","stupid","sturdy","sulky","superficial","surly","suspicious","sweet","tactful","tame","tardy","tearful","temperamental","tense","terrible","terrific","testy","thoughtful","timid","tired","tolerant","touchy","tranquil","tricky","troublesome","truthful","unpredictable","unruly","unsure","uptight","vain","vibrant","vicious","vigilant","vindictive","violent","vivid","wacky","wary","weak","weary","whimsical","wicked","wild","willful","wise","witty","wonderful","worried","worthless","wretched","young","youthful","zippy"],"famousPeople":["acclaimed","adored","adventurous","ambitious","artistic","awesome","awful","bold","brave","brilliant","captivating","charismatic","charming","clever","compassionate","confident","courageous","creative","daring","dazzling","dedicated","determined","dynamic","elegant","eloquent","eminent","energetic","enigmatic","entertaining","excellent","exceptional","exciting","extraordinary","famous","favorite","fearless","fiery","flamboyant","focused","friendly","funny","generous","genius","genuine","glamorous","graceful","great","heroic","hilarious","honest","honorable","humble","iconic","imaginative","impressive","incredible","influential","innovative","inspiring","intelligent","intense","kind","legendary","lively","loved","loyal","luminous","magnetic","magnificent","majestic","masterful","memorable","motivated","mysterious","notable","original","outstanding","passionate","pioneering","playful","popular","powerful","praised","profound","remarkable","renowned","resilient","respected","revolutionary","rich","sensational","skilled","smart","sophisticated","spectacular","spirited","successful","talented","thoughtful","tough","trailblazing","unique","visionary","vivacious","wicked","wise","witty","wonderful","arrogant","awkward","boastful","boring","bossy","brash","callous","careless","clumsy","controversial","cowardly","cruel","deceitful","demanding","dishonest","disliked","disrespectful","dramatic","dull","egotistical","envious","erratic","fickle","foolish","frivolous","greedy","grumpy","harsh","haughty","hateful","ignorant","immature","impatient","impolite","impulsive","inconsiderate","indecisive","inflexible","insensitive","irrational","irresponsible","jealous","lazy","mean","miserable","moody","narcissistic","nasty","naughty","neglectful","obnoxious","odd","overbearing","overconfident","overcritical","pessimistic","petty","pompous","pretentious","quarrelsome","quick-tempered","rash","reckless","rude","ruthless","sarcastic","self-centered","selfish","shallow","sly","sneaky","snobbish","sour","spiteful","stingy","stubborn","stupid","tactless","thoughtless","tiresome","troublesome","unapproachable","uncooperative","undependable","unfriendly","ungrateful","unhappy","unpleasant","unreliable","unsociable","vain","vengeful","vulgar","weak","wicked","wild","willful","worried","worthless"],"actors":["acclaimed","adored","adventurous","ambitious","artistic","awesome","awful","bold","brave","brilliant","captivating","charismatic","charming","clever","compassionate","confident","courageous","creative","daring","dazzling","dedicated","determined","dynamic","elegant","eloquent","eminent","energetic","enigmatic","entertaining","excellent","exceptional","exciting","extraordinary","famous","favorite","fearless","fiery","flamboyant","focused","friendly","funny","generous","genius","genuine","glamorous","graceful","great","heroic","hilarious","honest","honorable","humble","iconic","imaginative","impressive","incredible","influential","innovative","inspiring","intelligent","intense","kind","legendary","lively","loved","loyal","luminous","magnetic","magnificent","majestic","masterful","memorable","motivated","mysterious","notable","original","outstanding","passionate","pioneering","playful","popular","powerful","praised","profound","remarkable","renowned","resilient","respected","revolutionary","rich","sensational","skilled","smart","sophisticated","spectacular","spirited","successful","talented","thoughtful","tough","trailblazing","unique","visionary","vivacious","wicked","wise","witty","wonderful","arrogant","awkward","boastful","boring","bossy","brash","callous","careless","clumsy","controversial","cowardly","cruel","deceitful","demanding","dishonest","disliked","disrespectful","dramatic","dull","egotistical","envious","erratic","fickle","foolish","frivolous","greedy","grumpy","harsh","haughty","hateful","ignorant","immature","impatient","impolite","impulsive","inconsiderate","indecisive","inflexible","insensitive","irrational","irresponsible","jealous","lazy","mean","miserable","moody","narcissistic","nasty","naughty","neglectful","obnoxious","odd","overbearing","overconfident","overcritical","pessimistic","petty","pompous","pretentious","quarrelsome","quick-tempered","rash","reckless","rude","ruthless","sarcastic","self-centered","selfish","shallow","sly","sneaky","snobbish","sour","spiteful","stingy","stubborn","stupid","tactless","thoughtless","tiresome","troublesome","unapproachable","uncooperative","undependable","unfriendly","ungrateful","unhappy","unpleasant","unreliable","unsociable","vain","vengeful","vulgar","weak","wicked","wild","willful","worried","worthless"],"celebrities":["acclaimed","adored","adventurous","ambitious","artistic","awesome","awful","bold","brave","brilliant","captivating","charismatic","charming","clever","compassionate","confident","courageous","creative","daring","dazzling","dedicated","determined","dynamic","elegant","eloquent","eminent","energetic","enigmatic","entertaining","excellent","exceptional","exciting","extraordinary","famous","favorite","fearless","fiery","flamboyant","focused","friendly","funny","generous","genius","genuine","glamorous","graceful","great","heroic","hilarious","honest","honorable","humble","iconic","imaginative","impressive","incredible","influential","innovative","inspiring","intelligent","intense","kind","legendary","lively","loved","loyal","luminous","magnetic","magnificent","majestic","masterful","memorable","motivated","mysterious","notable","original","outstanding","passionate","pioneering","playful","popular","powerful","praised","profound","remarkable","renowned","resilient","respected","revolutionary","rich","sensational","skilled","smart","sophisticated","spectacular","spirited","successful","talented","thoughtful","tough","trailblazing","unique","visionary","vivacious","wicked","wise","witty","wonderful","arrogant","awkward","boastful","boring","bossy","brash","callous","careless","clumsy","controversial","cowardly","cruel","deceitful","demanding","dishonest","disliked","disrespectful","dramatic","dull","egotistical","envious","erratic","fickle","foolish","frivolous","greedy","grumpy","harsh","haughty","hateful","ignorant","immature","impatient","impolite","impulsive","inconsiderate","indecisive","inflexible","insensitive","irrational","irresponsible","jealous","lazy","mean","miserable","moody","narcissistic","nasty","naughty","neglectful","obnoxious","odd","overbearing","overconfident","overcritical","pessimistic","petty","pompous","pretentious","quarrelsome","quick-tempered","rash","reckless","rude","ruthless","sarcastic","self-centered","selfish","shallow","sly","sneaky","snobbish","sour","spiteful","stingy","stubborn","stupid","tactless","thoughtless","tiresome","troublesome","unapproachable","uncooperative","undependable","unfriendly","ungrateful","unhappy","unpleasant","unreliable","unsociable","vain","vengeful","vulgar","weak","wicked","wild","willful","worried","worthless"]}'),Q_=["#f8522e","#f8893a","#f7c045","#abc32f","#5ec618","#368d6d","#0d54c1","#4048aa","#733c93","#eae1a9","#c25469","#2d505d"],J_=[],$_=[];function Y_(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n="",r=0;r<4;r++){n+=t[Math.floor(Math.random()*t.length)]}return n}function X_(e){for(var t=[],n=0;n<32;n++)for(var r=!1;!r;){var i=Math.floor(Math.random()*e);t.includes(i)||(t.push(i),r=!0)}return t}function Z_(e){var t;switch(e){case"celebrities":case"actors":case"famousPeople":case"festivus":t=X_(K_[e].length);break;case"original":t=X_(52);break;case"life":t=X_(65);break;case"animals":t=X_(62)}return t}function ex(e,t){switch(t,J_=[],t){case"celebrities":case"actors":case"famousPeople":case"festivus":for(var n=0;n<32;n++){var r=e[n],i=K_[t][r].name,a="decks/".concat(t,"/").concat(K_[t][r].imageUrl);J_.push({name:i,imageUrl:a})}break;case"original":case"animals":case"life":for(var o=0;o<32;o++){var s=e[o],u="".concat(t,"-").concat(s,".jpg"),l="decks/".concat(t,"/").concat(u);J_.push({name:"",imageUrl:l})}}return J_}function tx(e,t){return(10-(e+t))*(10-Math.abs(e-t))}function nx(e,t){for(var n=0,r=0;r<e.length;r++){var i=e[r];i===t[r]?n+=tx(r,r):-1!==t.indexOf(i)&&(n+=tx(r,t.indexOf(i)))}return n}function rx(e){var t=e%10,n=e%100;return 1===t&&11!==n?e+"st":2===t&&12!==n?e+"nd":3===t&&13!==n?e+"rd":e+"th"}function ix(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t={3:"Short",5:"Medium",10:"Long"};return t[e]}function ax(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"life",t={life:"Life",original:"Original",actors:"Actors",celebrities:"Celebrities",famousPeople:"Famous People",festivus:"Festivus",animals:"Animals",custom:"Custom"};return t[e]}function ox(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"custom",t={custom:"Custom",wordList:"Word List"};return t[e]}function sx(e){return e=e.replace("#",""),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3>=128?"rgb(31,41,55)":"rgb(243, 244, 246)"}var ux=n(184),lx=(0,t.createContext)({gameRef:null,currentPlayerName:"",currentPlayerId:null,cards:[],setGameRef:function(){},setCurrentPlayerName:function(){},setCurrentPlayerId:function(){},setCards:function(){}}),cx=function(e){var n=e.children,r=l((0,t.useState)((function(){return localStorage.getItem("currentPlayerName")||""})),2),i=r[0],a=r[1],o=l((0,t.useState)(null),2),s=o[0],u=o[1],c=l((0,t.useState)(null),2),f=c[0],h=c[1],d=l((0,t.useState)([]),2),p=d[0],v=d[1],m={gameRef:f,currentPlayerName:i,currentPlayerId:s,cards:p,setGameRef:h,setCurrentPlayerName:function(e){a(e),function(e){localStorage.setItem("currentPlayerName",e)}(e)},setCurrentPlayerId:u,setCards:v};return(0,ux.jsx)(lx.Provider,{value:m,children:n})},fx=function(e){var t=e.children,n=e.onClick,r=e.className,i=e.style,a=e.disabled,o=void 0!==a&&a,s=e.type,u=void 0===s?"button":s,l=e.buttonType,c=void 0===l?"primary":l,f="";return f="secondary"===c?"bg-gray-800 border border-gray-300 text-gray-300 text-xl":"large"===c?"bg-green-600 text-white text-3xl":"bg-green-600 text-white text-xl",o&&(f+=" opacity-50 cursor-not-allowed"),(0,ux.jsx)("button",{type:u,onClick:n,style:Zt(Zt({},i),{},{userSelect:"none"}),className:"font-bold py-2 px-4 rounded-lg shadow-lg ".concat(f," ").concat(r),disabled:o,children:t})},hx=function(e){var t=e.className,n=e.word,r=e.round,i=e.name,a=e.gameCode;return(0,ux.jsx)("nav",{className:"bg-gray-800 text-gray-300 border-b border-gray-500",children:(0,ux.jsxs)("div",{className:"mx-auto px-4 py-3 flex justify-between items-end ".concat(t),children:[(0,ux.jsx)(He,{to:"/",children:(0,ux.jsx)("h1",{className:"text-xl font-bold",children:"Incommon"})}),a&&(0,ux.jsx)("div",{children:(0,ux.jsx)("p",{className:"text-xl",children:a})}),n&&(0,ux.jsx)("div",{children:(0,ux.jsx)("p",{className:"text-xl",children:n})}),r&&(0,ux.jsx)("div",{children:(0,ux.jsxs)("p",{className:"text-xl",children:["Round ",r]})}),i&&(0,ux.jsx)("div",{children:(0,ux.jsx)("p",{className:"text-xl",children:i})})]})})};var dx=function(){var e=(0,t.useContext)(lx),n=e.setCurrentPlayerName,r=e.setCurrentPlayerId,i=e.setGameRef;(0,t.useEffect)((function(){var e=localStorage.getItem("currentPlayerName");e&&n(e)}),[n]);var a=l((0,t.useState)(""),2),o=a[0],s=a[1],u=l((0,t.useState)(""),2),c=u[0],f=u[1],h=l((0,t.useState)("Incommon"),2),d=h[0],p=h[1],v=ye(),m={gameState:"setup",gameType:d},g=function(){var e=$e(Qe().mark((function e(){var t,n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ev(xp(H_,"games"),m);case 2:return t=e.sent,i(t),t.id,n=Y_(),e.next=8,Sv(t,{shortId:n});case 8:v("/host/".concat(n));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=$e(Qe().mark((function e(){var t,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&c){e.next=3;break}return alert("Please enter your name and game ID."),e.abrupt("return");case 3:return n(o),t=xp(H_,"games"),a=hv(t,pv("shortId","==",c)),e.next=8,xv(a).then((function(e){if(1===e.size){var t=e.docs[0].id,n=Sp(H_,"games",t);i(n),Ev(xp(n,"players"),{name:o,gameScore:0,roundScore:0,chosenCards:[],connections:{},joinedAt:new qp("serverTimestamp")}).then((function(e){r(e.id),v("/player/".concat(c))})).catch((function(e){console.error(e)}))}else alert("Invalid game ID.")}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,ux.jsxs)("div",{className:"",children:[(0,ux.jsx)(hx,{className:"max-w-screen-md"}),(0,ux.jsxs)("div",{className:"max-w-screen-md mx-auto text-gray-100",children:[(0,ux.jsxs)("div",{className:"bg-gray-800 mx-4 p-4 mt-4 rounded-lg",children:[(0,ux.jsxs)("div",{className:"mb-4",children:[(0,ux.jsx)("div",{className:"text-gray-300 text-2xl font-bold mb-2",children:"Select Game Type"}),(0,ux.jsxs)("div",{className:"flex items-center justify-evenly",children:[(0,ux.jsxs)("div",{className:"flex items-center mr-4",children:[(0,ux.jsx)("input",{type:"radio",id:"incommon",name:"gameType",value:"Incommon",checked:"Incommon"===d,onChange:function(e){return p(e.target.value)},className:"mr-2"}),(0,ux.jsx)("label",{htmlFor:"incommon",className:"text-gray-300 text-2xl",children:"Incommon"})]}),(0,ux.jsxs)("div",{className:"flex items-center",children:[(0,ux.jsx)("input",{type:"radio",id:"outofwords",name:"gameType",value:"Out of Words, Words",checked:"Out of Words, Words"===d,onChange:function(e){return p(e.target.value)},className:"mr-2"}),(0,ux.jsx)("label",{htmlFor:"outofwords",className:"text-gray-300 text-2xl",children:"Out of Words, Words"})]})]})]}),(0,ux.jsx)(fx,{onClick:g,buttonType:"large",className:"w-full bg-blue-500 text-white font-bold py-2 px-4 rounded",children:"Create Game"})]}),(0,ux.jsxs)("div",{className:"text-2xl bg-gray-800 mx-4 p-4 mt-4 rounded-lg",children:[(0,ux.jsxs)("div",{className:"flex",children:[(0,ux.jsxs)("div",{className:"mb-4 w-2/3",children:[(0,ux.jsx)("label",{htmlFor:"playerName",className:"block text-gray-300 text-2xl font-bold mb-2",children:"Your Name"}),(0,ux.jsx)("input",{type:"text",id:"playerName",value:o,onChange:function(e){return t=e.target.value,void s(t.slice(0,11).trim());var t},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-200 leading-tight focus:outline-none focus:shadow-outline bg-gray-800 text-gray-300"})]}),(0,ux.jsxs)("div",{className:"ml-4 mb-4 w-1/3",children:[(0,ux.jsx)("label",{htmlFor:"shortId",className:"block text-gray-300 text-2xl font-bold mb-2",children:"Game ID"}),(0,ux.jsx)("input",{type:"text",id:"shortId",value:c,onChange:function(e){return t=e.target.value,void f(t.toUpperCase().slice(0,4).trim());var t},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-200 leading-tight focus:outline-none focus:shadow-outline bg-gray-800 text-gray-300"})]})]}),(0,ux.jsx)(fx,{onClick:y,buttonType:"large",className:"w-full bg-blue-500 text-white font-bold py-2 px-4 rounded",children:"Join Game"})]})]})]})},px=function(e){var n=e.className,r=l((0,t.useState)(!1),2),i=r[0],a=r[1];return(0,ux.jsxs)("div",{className:"flex items-center cursor-pointer",onClick:function(){a(!i)},children:[(0,ux.jsxs)("div",{className:"relative",children:[(0,ux.jsx)("input",{type:"checkbox",className:"sr-only",checked:i,readOnly:!0}),(0,ux.jsx)("div",{className:"block w-14 h-8 rounded-full transition ".concat(i?"bg-green-500":"bg-gray-600")}),(0,ux.jsx)("div",{className:"dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition",style:{transform:i?"translateX(100%)":"none"}})]}),(0,ux.jsx)("div",{className:"ml-3 ".concat(n),children:i?"Sounds On":"Sounds Off"})]})};function vx(){}function mx(e){return null==e?vx:function(){return this.querySelector(e)}}function gx(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function yx(){return[]}function bx(e){return null==e?yx:function(){return this.querySelectorAll(e)}}function wx(e){return function(){return this.matches(e)}}function kx(e){return function(t){return t.matches(e)}}var _x=Array.prototype.find;function xx(){return this.firstElementChild}var Sx=Array.prototype.filter;function Cx(){return Array.from(this.children)}function Ex(e){return new Array(e.length)}function Tx(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Nx(e){return function(){return e}}function Ix(e,t,n,r,i,a){for(var o,s=0,u=t.length,l=a.length;s<l;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new Tx(e,a[s]);for(;s<u;++s)(o=t[s])&&(i[s]=o)}function jx(e,t,n,r,i,a,o){var s,u,l,c=new Map,f=t.length,h=a.length,d=new Array(f);for(s=0;s<f;++s)(u=t[s])&&(d[s]=l=o.call(u,u.__data__,s,t)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<h;++s)l=o.call(e,a[s],s,a)+"",(u=c.get(l))?(r[s]=u,u.__data__=a[s],c.delete(l)):n[s]=new Tx(e,a[s]);for(s=0;s<f;++s)(u=t[s])&&c.get(d[s])===u&&(i[s]=u)}function Ax(e){return e.__data__}function Rx(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Dx(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Tx.prototype={constructor:Tx,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Px="http://www.w3.org/1999/xhtml",Ox={svg:"http://www.w3.org/2000/svg",xhtml:Px,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mx(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Ox.hasOwnProperty(t)?{space:Ox[t],local:e}:e}function Lx(e){return function(){this.removeAttribute(e)}}function Ux(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Fx(e,t){return function(){this.setAttribute(e,t)}}function Bx(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function zx(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Vx(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function qx(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Wx(e){return function(){this.style.removeProperty(e)}}function Hx(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Kx(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Gx(e,t){return e.style.getPropertyValue(t)||qx(e).getComputedStyle(e,null).getPropertyValue(t)}function Qx(e){return function(){delete this[e]}}function Jx(e,t){return function(){this[e]=t}}function $x(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Yx(e){return e.trim().split(/^|\s+/)}function Xx(e){return e.classList||new Zx(e)}function Zx(e){this._node=e,this._names=Yx(e.getAttribute("class")||"")}function eS(e,t){for(var n=Xx(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function tS(e,t){for(var n=Xx(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function nS(e){return function(){eS(this,e)}}function rS(e){return function(){tS(this,e)}}function iS(e,t){return function(){(t.apply(this,arguments)?eS:tS)(this,e)}}function aS(){this.textContent=""}function oS(e){return function(){this.textContent=e}}function sS(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function uS(){this.innerHTML=""}function lS(e){return function(){this.innerHTML=e}}function cS(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function fS(){this.nextSibling&&this.parentNode.appendChild(this)}function hS(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dS(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Px&&t.documentElement.namespaceURI===Px?t.createElement(e):t.createElementNS(n,e)}}function pS(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function vS(e){var t=Mx(e);return(t.local?pS:dS)(t)}function mS(){return null}function gS(){var e=this.parentNode;e&&e.removeChild(this)}function yS(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function bS(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function wS(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function kS(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function _S(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function xS(e,t,n){var r=qx(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function SS(e,t){return function(){return xS(this,e,t)}}function CS(e,t){return function(){return xS(this,e,t.apply(this,arguments))}}Zx.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ES=Qe().mark(TS);function TS(){var e,t,n,r,i,a,o;return Qe().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:e=this._groups,t=0,n=e.length;case 1:if(!(t<n)){s.next=13;break}r=e[t],i=0,a=r.length;case 3:if(!(i<a)){s.next=10;break}if(!(o=r[i])){s.next=7;break}return s.next=7,o;case 7:++i,s.next=3;break;case 10:++t,s.next=1;break;case 13:case"end":return s.stop()}}),ES,this)}var NS=[null];function IS(e,t){this._groups=e,this._parents=t}function jS(){return new IS([[document.documentElement]],NS)}IS.prototype=jS.prototype=Ze({constructor:IS,select:function(e){"function"!==typeof e&&(e=mx(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=t[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(a=s[c])&&(o=e.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),l[c]=o);return new IS(r,this._parents)},selectAll:function(e){e="function"===typeof e?function(e){return function(){return gx(e.apply(this,arguments))}}(e):bx(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,s=t[a],u=s.length,l=0;l<u;++l)(o=s[l])&&(r.push(e.call(o,o.__data__,l,s)),i.push(o));return new IS(r,i)},selectChild:function(e){return this.select(null==e?xx:function(e){return function(){return _x.call(this.children,e)}}("function"===typeof e?e:kx(e)))},selectChildren:function(e){return this.selectAll(null==e?Cx:function(e){return function(){return Sx.call(this.children,e)}}("function"===typeof e?e:kx(e)))},filter:function(e){"function"!==typeof e&&(e=wx(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&u.push(a);return new IS(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Ax);var n=t?jx:Ix,r=this._parents,i=this._groups;"function"!==typeof e&&(e=Nx(e));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],f=i[l],h=f.length,d=Rx(e.call(c,c&&c.__data__,l,r)),p=d.length,v=s[l]=new Array(p),m=o[l]=new Array(p),g=u[l]=new Array(h);n(c,f,v,m,g,d,t);for(var y,b,w=0,k=0;w<p;++w)if(y=v[w]){for(w>=k&&(k=w+1);!(b=m[k])&&++k<p;);y._next=b||null}}return(o=new IS(o,r))._enter=s,o._exit=u,o},enter:function(){return new IS(this._enter||this._groups.map(Ex),this._parents)},exit:function(){return new IS(this._exit||this._groups.map(Ex),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),u=0;u<o;++u)for(var l,c=n[u],f=r[u],h=c.length,d=s[u]=new Array(h),p=0;p<h;++p)(l=c[p]||f[p])&&(d[p]=l);for(;u<i;++u)s[u]=n[u];return new IS(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Dx);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],u=s.length,l=i[a]=new Array(u),c=0;c<u;++c)(o=s[c])&&(l[c]=o);l.sort(t)}return new IS(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var e,t=0,n=I(this);try{for(n.s();!(e=n.n()).done;){e.value;++t}}catch(r){n.e(r)}finally{n.f()}return t},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=Mx(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Ux:Lx:"function"===typeof t?n.local?Vx:zx:n.local?Bx:Fx)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Wx:"function"===typeof t?Kx:Hx)(e,t,null==n?"":n)):Gx(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Qx:"function"===typeof t?$x:Jx)(e,t)):this.node()[e]},classed:function(e,t){var n=Yx(e+"");if(arguments.length<2){for(var r=Xx(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?iS:t?nS:rS)(n,t))},text:function(e){return arguments.length?this.each(null==e?aS:("function"===typeof e?sS:oS)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?uS:("function"===typeof e?cS:lS)(e)):this.node().innerHTML},raise:function(){return this.each(fS)},lower:function(){return this.each(hS)},append:function(e){var t="function"===typeof e?e:vS(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:vS(e),r=null==t?mS:"function"===typeof t?t:mx(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(gS)},clone:function(e){return this.select(e?bS:yS)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=wS(e+""),o=a.length;if(!(arguments.length<2)){for(s=t?_S:kS,r=0;r<o;++r)this.each(s(a[r],t,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<o;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(e,t){return this.each(("function"===typeof t?CS:SS)(e,t))}},Symbol.iterator,TS);var AS=jS,RS={value:function(){}};function DS(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new PS(r)}function PS(e){this._=e}function OS(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function MS(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function LS(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=RS,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}PS.prototype=DS.prototype={constructor:PS,on:function(e,t){var n,r=this._,i=OS(e+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=LS(r[n],e.name,t);else if(null==t)for(n in r)r[n]=LS(r[n],e.name,null);return this}for(;++a<o;)if((n=(e=i[a]).type)&&(n=MS(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new PS(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var US,FS,BS=DS,zS=0,VS=0,qS=0,WS=0,HS=0,KS=0,GS="object"===typeof performance&&performance.now?performance:Date,QS="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function JS(){return HS||(QS($S),HS=GS.now()+KS)}function $S(){HS=0}function YS(){this._call=this._time=this._next=null}function XS(e,t,n){var r=new YS;return r.restart(e,t,n),r}function ZS(){HS=(WS=GS.now())+KS,zS=VS=0;try{!function(){JS(),++zS;for(var e,t=US;t;)(e=HS-t._time)>=0&&t._call.call(void 0,e),t=t._next;--zS}()}finally{zS=0,function(){var e,t,n=US,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:US=t);FS=e,tC(r)}(),HS=0}}function eC(){var e=GS.now(),t=e-WS;t>1e3&&(KS-=t,WS=e)}function tC(e){zS||(VS&&(VS=clearTimeout(VS)),e-HS>24?(e<1/0&&(VS=setTimeout(ZS,e-GS.now()-KS)),qS&&(qS=clearInterval(qS))):(qS||(WS=GS.now(),qS=setInterval(eC,1e3)),zS=1,QS(ZS)))}function nC(e,t,n){var r=new YS;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r}YS.prototype=XS.prototype={constructor:YS,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?JS():+n)+(null==t?0:+t),this._next||FS===this||(FS?FS._next=this:US=this,FS=this),this._call=e,this._time=n,tC()},stop:function(){this._call&&(this._call=null,this._time=1/0,tC())}};var rC=BS("start","end","cancel","interrupt"),iC=[];function aC(e,t,n,r,i,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(a){var l,c,f,h;if(1!==n.state)return u();for(l in i)if((h=i[l]).name===n.name){if(3===h.state)return nC(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[l]):+l<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[l])}if(nC((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),l=0,c=-1;l<f;++l)(h=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function s(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(u),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=XS(a,0,n.time)}(e,n,{name:t,index:r,group:i,on:rC,tween:iC,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function oC(e,t){var n=uC(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function sC(e,t){var n=uC(e,t);if(n.state>3)throw new Error("too late; already running");return n}function uC(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function lC(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var cC,fC=180/Math.PI,hC={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dC(e,t,n,r,i,a){var o,s,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*fC,skewX:Math.atan(u)*fC,scaleX:o,scaleY:s}}function pC(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var s=[],u=[];return a=e(a),o=e(o),function(e,r,i,a,o,s){if(e!==i||r!==a){var u=o.push("translate(",null,t,null,n);s.push({i:u-4,x:lC(e,i)},{i:u-2,x:lC(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,u),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:lC(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,s,u),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:lC(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,s,u),function(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:lC(e,n)},{i:s-2,x:lC(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,u),a=o=null,function(e){for(var t,n=-1,r=u.length;++n<r;)s[(t=u[n]).i]=t.x(e);return s.join("")}}}var vC=pC((function(e){var t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?hC:dC(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),mC=pC((function(e){return null==e?hC:(cC||(cC=document.createElementNS("http://www.w3.org/2000/svg","g")),cC.setAttribute("transform",e),(e=cC.transform.baseVal.consolidate())?dC((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):hC)}),", ",")",")");function gC(e,t){var n,r;return function(){var i=sC(this,e),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function yC(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var a=sC(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}function bC(e,t,n){var r=e._id;return e.each((function(){var e=sC(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return uC(e,r).value[t]}}function wC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function kC(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function _C(){}var xC=.7,SC=1/xC,CC="\\s*([+-]?\\d+)\\s*",EC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",TC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NC=/^#([0-9a-f]{3,8})$/,IC=new RegExp("^rgb\\(".concat(CC,",").concat(CC,",").concat(CC,"\\)$")),jC=new RegExp("^rgb\\(".concat(TC,",").concat(TC,",").concat(TC,"\\)$")),AC=new RegExp("^rgba\\(".concat(CC,",").concat(CC,",").concat(CC,",").concat(EC,"\\)$")),RC=new RegExp("^rgba\\(".concat(TC,",").concat(TC,",").concat(TC,",").concat(EC,"\\)$")),DC=new RegExp("^hsl\\(".concat(EC,",").concat(TC,",").concat(TC,"\\)$")),PC=new RegExp("^hsla\\(".concat(EC,",").concat(TC,",").concat(TC,",").concat(EC,"\\)$")),OC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function MC(){return this.rgb().formatHex()}function LC(){return this.rgb().formatRgb()}function UC(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=NC.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?FC(t):3===n?new qC(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?BC(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?BC(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=IC.exec(e))?new qC(t[1],t[2],t[3],1):(t=jC.exec(e))?new qC(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=AC.exec(e))?BC(t[1],t[2],t[3],t[4]):(t=RC.exec(e))?BC(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=DC.exec(e))?JC(t[1],t[2]/100,t[3]/100,1):(t=PC.exec(e))?JC(t[1],t[2]/100,t[3]/100,t[4]):OC.hasOwnProperty(e)?FC(OC[e]):"transparent"===e?new qC(NaN,NaN,NaN,0):null}function FC(e){return new qC(e>>16&255,e>>8&255,255&e,1)}function BC(e,t,n,r){return r<=0&&(e=t=n=NaN),new qC(e,t,n,r)}function zC(e){return e instanceof _C||(e=UC(e)),e?new qC((e=e.rgb()).r,e.g,e.b,e.opacity):new qC}function VC(e,t,n,r){return 1===arguments.length?zC(e):new qC(e,t,n,null==r?1:r)}function qC(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function WC(){return"#".concat(QC(this.r)).concat(QC(this.g)).concat(QC(this.b))}function HC(){var e=KC(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(GC(this.r),", ").concat(GC(this.g),", ").concat(GC(this.b)).concat(1===e?")":", ".concat(e,")"))}function KC(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function GC(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function QC(e){return((e=GC(e))<16?"0":"")+e.toString(16)}function JC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new YC(e,t,n,r)}function $C(e){if(e instanceof YC)return new YC(e.h,e.s,e.l,e.opacity);if(e instanceof _C||(e=UC(e)),!e)return new YC;if(e instanceof YC)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new YC(o,s,u,e.opacity)}function YC(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function XC(e){return(e=(e||0)%360)<0?e+360:e}function ZC(e){return Math.max(0,Math.min(1,e||0))}function eE(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function tE(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}wC(_C,UC,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:MC,formatHex:MC,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return $C(this).formatHsl()},formatRgb:LC,toString:LC}),wC(qC,VC,kC(_C,{brighter:function(e){return e=null==e?SC:Math.pow(SC,e),new qC(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?xC:Math.pow(xC,e),new qC(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new qC(GC(this.r),GC(this.g),GC(this.b),KC(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WC,formatHex:WC,formatHex8:function(){return"#".concat(QC(this.r)).concat(QC(this.g)).concat(QC(this.b)).concat(QC(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:HC,toString:HC})),wC(YC,(function(e,t,n,r){return 1===arguments.length?$C(e):new YC(e,t,n,null==r?1:r)}),kC(_C,{brighter:function(e){return e=null==e?SC:Math.pow(SC,e),new YC(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?xC:Math.pow(xC,e),new YC(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new qC(eE(e>=240?e-240:e+120,i,r),eE(e,i,r),eE(e<120?e+240:e-120,i,r),this.opacity)},clamp:function(){return new YC(XC(this.h),ZC(this.s),ZC(this.l),KC(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=KC(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(XC(this.h),", ").concat(100*ZC(this.s),"%, ").concat(100*ZC(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));var nE=function(e){return function(){return e}};function rE(e,t){return function(n){return e+n*t}}function iE(e){return 1===(e=+e)?aE:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):nE(isNaN(t)?n:t)}}function aE(e,t){var n=t-e;return n?rE(e,n):nE(isNaN(e)?t:e)}var oE=function e(t){var n=iE(t);function r(e,t){var r=n((e=VC(e)).r,(t=VC(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=aE(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function sE(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=VC(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}sE((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return tE((n-r/t)*t,o,i,a,s)}})),sE((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return tE((n-r/t)*t,i,a,o,s)}}));var uE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lE=new RegExp(uE.source,"g");function cE(e,t){var n,r,i,a=uE.lastIndex=lE.lastIndex=0,o=-1,s=[],u=[];for(e+="",t+="";(n=uE.exec(e))&&(r=lE.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:lC(n,r)})),a=lE.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function fE(e,t){var n;return("number"===typeof t?lC:t instanceof UC?oE:(n=UC(t))?(t=n,oE):cE)(e,t)}function hE(e){return function(){this.removeAttribute(e)}}function dE(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pE(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function vE(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function mE(e,t,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttribute(e))===(s=u+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,u));this.removeAttribute(e)}}function gE(e,t,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttributeNS(e.space,e.local))===(s=u+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,u));this.removeAttributeNS(e.space,e.local)}}function yE(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function bE(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function wE(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&bE(e,i)),n}return i._value=t,i}function kE(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&yE(e,i)),n}return i._value=t,i}function _E(e,t){return function(){oC(this,e).delay=+t.apply(this,arguments)}}function xE(e,t){return t=+t,function(){oC(this,e).delay=t}}function SE(e,t){return function(){sC(this,e).duration=+t.apply(this,arguments)}}function CE(e,t){return t=+t,function(){sC(this,e).duration=t}}function EE(e,t){if("function"!==typeof t)throw new Error;return function(){sC(this,e).ease=t}}function TE(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?oC:sC;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}var NE=AS.prototype.constructor;function IE(e){return function(){this.style.removeProperty(e)}}function jE(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function AE(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&jE(e,a,n)),r}return a._value=t,a}function RE(e){return function(t){this.textContent=e.call(this,t)}}function DE(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&RE(r)),t}return r._value=e,r}var PE=0;function OE(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ME(){return++PE}var LE=AS.prototype;OE.prototype=function(e){return AS().transition(e)}.prototype=Ze({constructor:OE,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=mx(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,u,l=r[o],c=l.length,f=a[o]=new Array(c),h=0;h<c;++h)(s=l[h])&&(u=e.call(s,s.__data__,h,l))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,aC(f[h],t,n,h,f,uC(s,n)));return new OE(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=bx(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,f=0;f<c;++f)if(u=l[f]){for(var h,d=e.call(u,u.__data__,f,l),p=uC(u,n),v=0,m=d.length;v<m;++v)(h=d[v])&&aC(h,t,n,v,d,p);a.push(d),o.push(u)}return new OE(a,o,t,n)},selectChild:LE.selectChild,selectChildren:LE.selectChildren,filter:function(e){"function"!==typeof e&&(e=wx(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&u.push(a);return new OE(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,l=t[s],c=n[s],f=l.length,h=o[s]=new Array(f),d=0;d<f;++d)(u=l[d]||c[d])&&(h[d]=u);for(;s<r;++s)o[s]=t[s];return new OE(o,this._parents,this._name,this._id)},selection:function(){return new NE(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=ME(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)if(o=s[l]){var c=uC(o,t);aC(o,e,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new OE(r,this._parents,e,n)},call:LE.call,nodes:LE.nodes,node:LE.node,size:LE.size,empty:LE.empty,each:LE.each,on:function(e,t){var n=this._id;return arguments.length<2?uC(this.node(),n).on.on(e):this.each(TE(n,e,t))},attr:function(e,t){var n=Mx(e),r="transform"===n?mC:fE;return this.attrTween(e,"function"===typeof t?(n.local?gE:mE)(n,r,bC(this,"attr."+e,t)):null==t?(n.local?dE:hE)(n):(n.local?vE:pE)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=Mx(e);return this.tween(n,(r.local?wE:kE)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?vC:fE;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=Gx(this,e),o=(this.style.removeProperty(e),Gx(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}(e,r)).on("end.style."+e,IE(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var o=Gx(this,e),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(e),u=s=Gx(this,e)),o===u?null:o===r&&u===i?a:(i=u,a=t(r=o,s))}}(e,r,bC(this,"style."+e,t))).each(function(e,t){var n,r,i,a,o="style."+t,s="end."+o;return function(){var u=sC(this,e),l=u.on,c=null==u.value[o]?a||(a=IE(t)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var o=Gx(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,AE(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(bC(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,DE(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=uC(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?gC:yC)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?_E:xE)(t,e)):uC(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?SE:CE)(t,e)):uC(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(EE(t,e)):uC(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;sC(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},u={value:function(){0===--i&&a()}};n.each((function(){var n=sC(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),n.on=t})),0===i&&a()}))}},Symbol.iterator,LE[Symbol.iterator]);var UE={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function FE(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}AS.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,r,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete e.__transition}}(this,e)}))},AS.prototype.transition=function(e){var t,n;e instanceof OE?(t=e._id,e=e._name):(t=ME(),(n=UE).time=JS(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)(o=s[l])&&aC(o,e,t,l,s,n||FE(o,t));return new OE(r,this._parents,e,t)};Math.abs,Math.max,Math.min;function BE(e){return[+e[0],+e[1]]}function zE(e){return[BE(e[0]),BE(e[1])]}["w","e"].map(VE),["n","s"].map(VE),["n","w","e","s","nw","ne","sw","se"].map(VE);function VE(e){return{type:e}}function qE(e){return"string"===typeof e?new IS([[document.querySelector(e)]],[document.documentElement]):new IS([[e]],NS)}function WE(e,t){if(e=function(e){for(var t;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}var HE={passive:!1},KE={capture:!0,passive:!1};function GE(e){e.stopImmediatePropagation()}function QE(e){e.preventDefault(),e.stopImmediatePropagation()}var JE=function(e){return function(){return e}};function $E(e,t){var n=t.sourceEvent,r=t.subject,i=t.target,a=t.identifier,o=t.active,s=t.x,u=t.y,l=t.dx,c=t.dy,f=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}function YE(e){return!e.ctrlKey&&!e.button}function XE(){return this.parentNode}function ZE(e,t){return null==t?{x:e.x,y:e.y}:t}function eT(){return navigator.maxTouchPoints||"ontouchstart"in this}function tT(){var e,t,n,r,i=YE,a=XE,o=ZE,s=eT,u={},l=BS("start","drag","end"),c=0,f=0;function h(e){e.on("mousedown.drag",d).filter(s).on("touchstart.drag",m).on("touchmove.drag",g,HE).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(o,s){if(!r&&i.call(this,o,s)){var u=b(this,a.call(this,o,s),o,s,"mouse");u&&(qE(o.view).on("mousemove.drag",p,KE).on("mouseup.drag",v,KE),function(e){var t=e.document.documentElement,n=qE(e).on("dragstart.drag",QE,KE);"onselectstart"in t?n.on("selectstart.drag",QE,KE):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}(o.view),GE(o),n=!1,e=o.clientX,t=o.clientY,u("start",o))}}function p(r){if(QE(r),!n){var i=r.clientX-e,a=r.clientY-t;n=i*i+a*a>f}u.mouse("drag",r)}function v(e){qE(e.view).on("mousemove.drag mouseup.drag",null),function(e,t){var n=e.document.documentElement,r=qE(e).on("dragstart.drag",null);t&&(r.on("click.drag",QE,KE),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(e.view,n),QE(e),u.mouse("end",e)}function m(e,t){if(i.call(this,e,t)){var n,r,o=e.changedTouches,s=a.call(this,e,t),u=o.length;for(n=0;n<u;++n)(r=b(this,s,e,t,o[n].identifier,o[n]))&&(GE(e),r("start",e,o[n]))}}function g(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=u[r[t].identifier])&&(QE(e),n("drag",e,r[t]))}function y(e){var t,n,i=e.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<a;++t)(n=u[i[t].identifier])&&(GE(e),n("end",e,i[t]))}function b(e,t,n,r,i,a){var s,f,d,p=l.copy(),v=WE(a||n,t);if(null!=(d=o.call(e,new $E("beforestart",{sourceEvent:n,target:h,identifier:i,active:c,x:v[0],y:v[1],dx:0,dy:0,dispatch:p}),r)))return s=d.x-v[0]||0,f=d.y-v[1]||0,function n(a,o,l){var m,g=v;switch(a){case"start":u[i]=n,m=c++;break;case"end":delete u[i],--c;case"drag":v=WE(l||o,t),m=c}p.call(a,e,new $E(a,{sourceEvent:o,subject:d,target:h,identifier:i,active:m,x:v[0]+s,y:v[1]+f,dx:v[0]-g[0],dy:v[1]-g[1],dispatch:p}),r)}}return h.filter=function(e){return arguments.length?(i="function"===typeof e?e:JE(!!e),h):i},h.container=function(e){return arguments.length?(a="function"===typeof e?e:JE(e),h):a},h.subject=function(e){return arguments.length?(o="function"===typeof e?e:JE(e),h):o},h.touchable=function(e){return arguments.length?(s="function"===typeof e?e:JE(!!e),h):s},h.on=function(){var e=l.on.apply(l,arguments);return e===l?h:e},h.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,h):Math.sqrt(f)},h}function nT(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,o,s,u,l,c,f,h,d=e._root,p={data:r},v=e._x0,m=e._y0,g=e._x1,y=e._y1;if(!d)return e._root=p,e;for(;d.length;)if((l=t>=(a=(v+g)/2))?v=a:g=a,(c=n>=(o=(m+y)/2))?m=o:y=o,i=d,!(d=d[f=c<<1|l]))return i[f]=p,e;if(s=+e._x.call(null,d.data),u=+e._y.call(null,d.data),t===s&&n===u)return p.next=d,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(l=t>=(a=(v+g)/2))?v=a:g=a,(c=n>=(o=(m+y)/2))?m=o:y=o}while((f=c<<1|l)===(h=(u>=o)<<1|s>=a));return i[h]=d,i[f]=p,e}function rT(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function iT(e){return e[0]}function aT(e){return e[1]}function oT(e,t,n){var r=new sT(null==t?iT:t,null==n?aT:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function sT(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function uT(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}$E.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var lT=oT.prototype=sT.prototype;function cT(e){return function(){return e}}function fT(e){return 1e-6*(e()-.5)}function hT(e){return e.x+e.vx}function dT(e){return e.y+e.vy}function pT(e){var t,n,r,i=1,a=1;function o(){for(var e,o,u,l,c,f,h,d=t.length,p=0;p<a;++p)for(o=oT(t,hT,dT).visitAfter(s),e=0;e<d;++e)u=t[e],f=n[u.index],h=f*f,l=u.x+u.vx,c=u.y+u.vy,o.visit(v);function v(e,t,n,a,o){var s=e.data,d=e.r,p=f+d;if(!s)return t>l+p||a<l-p||n>c+p||o<c-p;if(s.index>u.index){var v=l-s.x-s.vx,m=c-s.y-s.vy,g=v*v+m*m;g<p*p&&(0===v&&(g+=(v=fT(r))*v),0===m&&(g+=(m=fT(r))*m),g=(p-(g=Math.sqrt(g)))/g*i,u.vx+=(v*=g)*(p=(d*=d)/(h+d)),u.vy+=(m*=g)*p,s.vx-=v*(p=1-p),s.vy-=m*p)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function u(){if(t){var r,i,a=t.length;for(n=new Array(a),r=0;r<a;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=cT(null==e?1:+e)),o.initialize=function(e,n){t=e,r=n,u()},o.iterations=function(e){return arguments.length?(a=+e,o):a},o.strength=function(e){return arguments.length?(i=+e,o):i},o.radius=function(t){return arguments.length?(e="function"===typeof t?t:cT(+t),u(),o):e},o}function vT(e){return e.index}function mT(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}lT.copy=function(){var e,t,n=new sT(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=uT(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=uT(t));return n},lT.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return nT(this.cover(t,n),t,n,e)},lT.addAll=function(e){var t,n,r,i,a=e.length,o=new Array(a),s=new Array(a),u=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>f&&(f=i));if(u>c||l>f)return this;for(this.cover(u,l).cover(c,f),n=0;n<a;++n)nT(this,o[n],s[n],e[n]);return this},lT.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o,s,u=i-n||1,l=this._root;n>e||e>=i||r>t||t>=a;)switch(s=(t<r)<<1|e<n,(o=new Array(4))[s]=l,l=o,u*=2,s){case 0:i=n+u,a=r+u;break;case 1:n=i-u,a=r+u;break;case 2:i=n+u,r=a-u;break;case 3:n=i-u,r=a-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},lT.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},lT.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},lT.find=function(e,t,n){var r,i,a,o,s,u,l,c=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new rT(v,c,f,h,d)),null==n?n=1/0:(c=e-n,f=t-n,h=e+n,d=t+n,n*=n);u=p.pop();)if(!(!(v=u.node)||(i=u.x0)>h||(a=u.y0)>d||(o=u.x1)<c||(s=u.y1)<f))if(v.length){var m=(i+o)/2,g=(a+s)/2;p.push(new rT(v[3],m,g,o,s),new rT(v[2],i,g,m,s),new rT(v[1],m,a,o,g),new rT(v[0],i,a,m,g)),(l=(t>=g)<<1|e>=m)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var y=e-+this._x.call(null,v.data),b=t-+this._y.call(null,v.data),w=y*y+b*b;if(w<n){var k=Math.sqrt(n=w);c=e-k,f=t-k,h=e+k,d=t+k,r=v.data}}return r},lT.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,a,o,s,u,l,c,f,h,d=this._root,p=this._x0,v=this._y0,m=this._x1,g=this._y1;if(!d)return this;if(d.length)for(;;){if((l=a>=(s=(p+m)/2))?p=s:m=s,(c=o>=(u=(v+g)/2))?v=u:g=u,t=d,!(d=d[f=c<<1|l]))return this;if(!d.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,h=f)}for(;d.data!==e;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)},lT.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},lT.root=function(){return this._root},lT.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},lT.visit=function(e){var t,n,r,i,a,o,s=[],u=this._root;for(u&&s.push(new rT(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,i=t.y0,a=t.x1,o=t.y1)&&u.length){var l=(r+a)/2,c=(i+o)/2;(n=u[3])&&s.push(new rT(n,l,c,a,o)),(n=u[2])&&s.push(new rT(n,r,c,l,o)),(n=u[1])&&s.push(new rT(n,l,i,a,c)),(n=u[0])&&s.push(new rT(n,r,i,l,c))}return this},lT.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new rT(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,s=t.y0,u=t.x1,l=t.y1,c=(o+u)/2,f=(s+l)/2;(a=i[0])&&n.push(new rT(a,o,s,c,f)),(a=i[1])&&n.push(new rT(a,c,s,u,f)),(a=i[2])&&n.push(new rT(a,o,f,c,l)),(a=i[3])&&n.push(new rT(a,c,f,u,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},lT.x=function(e){return arguments.length?(this._x=e,this):this._x},lT.y=function(e){return arguments.length?(this._y=e,this):this._y};var gT=4294967296;function yT(e){return e.x}function bT(e){return e.y}var wT=Math.PI*(3-Math.sqrt(5));function kT(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,u=XS(f),l=BS("tick","end"),c=function(){var e=1;return function(){return(e=(1664525*e+1013904223)%gT)/gT}}();function f(){h(),l.call("tick",t),n<r&&(u.stop(),l.call("end",t))}function h(r){var u,l,c=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(a-n)*i,s.forEach((function(e){e(n)})),u=0;u<c;++u)null==(l=e[u]).fx?l.x+=l.vx*=o:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=o:(l.y=l.fy,l.vy=0);return t}function d(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+n),a=n*wT;t.x=i*Math.cos(a),t.y=i*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,c),t}return null==e&&(e=[]),d(),t={tick:h,restart:function(){return u.restart(f),t},stop:function(){return u.stop(),t},nodes:function(n){return arguments.length?(e=n,d(),s.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(a=+e,t):a},velocityDecay:function(e){return arguments.length?(o=1-e,t):1-o},randomSource:function(e){return arguments.length?(c=e,s.forEach(p),t):c},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,p(n)),t):s.get(e)},find:function(t,n,r){var i,a,o,s,u,l=0,c=e.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(o=(i=t-(s=e[l]).x)*i+(a=n-s.y)*a)<r&&(u=s,r=o);return u},on:function(e,n){return arguments.length>1?(l.on(e,n),t):l.on(e)}}}function _T(e){var t,n,r,i=cT(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vx+=(r[a]-i.x)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=cT(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:cT(+e),o(),a):i},a.x=function(t){return arguments.length?(e="function"===typeof t?t:cT(+t),o(),a):e},a}function xT(e){var t,n,r,i=cT(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vy+=(r[a]-i.y)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=cT(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:cT(+e),o(),a):i},a.y=function(t){return arguments.length?(e="function"===typeof t?t:cT(+t),o(),a):e},a}function ST(e,t,n){this.k=e,this.x=t,this.y=n}ST.prototype={constructor:ST,scale:function(e){return 1===e?this:new ST(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new ST(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new ST(1,0,0);ST.prototype;var CT=function(e){return 26-e.name.length+"px"},ET=function(e){var n=e.players,r=e.width,i=e.height,a=(0,t.useRef)(),o=l((0,t.useState)([]),2),s=o[0],u=o[1];return(0,t.useEffect)((function(){if(s&&0!==s.length)if(n.length<s.length){var e=s.filter((function(e){return void 0!==n.find((function(t){return t.name===e.name}))}));u(e)}else{var t,a=[],o=I(n);try{var l=function(){var e=t.value;if(!s.find((function(t){return t.name===e.name}))){var o=n[e.id];o.x=r/2,o.y=i/2,a.push(o)}};for(o.s();!(t=o.n()).done;)l()}catch(f){o.e(f)}finally{o.f()}u([].concat(p(s),a))}else{var c=n.map((function(e){return Zt(Zt({},e),{},{x:r/2,y:i/2})}));u(c)}}),[n]),(0,t.useEffect)((function(){if(0!==s.length){var e=qE(a.current),t=kT(s).force("x",_T((function(e){return function(e,t,n){var r=10*Math.random()+40;return e.id*r+((n+r/2)/2-t*r/2)}(e,n.length,r)})).strength(.2)).force("y",xT(i/2).strength(.2)).force("collide",pT((function(e){return 40*(.7*Math.random()+1.1)}))).alpha(1).alphaDecay(.01).velocityDecay(.5);t.on("tick",(function(){e.selectAll("circle").data(s).join((function(e){return e.append("circle").attr("r",0).attr("fill",(function(e){return Q_[e.id]})).attr("stroke-width",(function(e){return 0===e.id?4:2})).attr("stroke",(function(e){return 0===e.id?"gold":"rgb(107,114,128)"})).attr("r",40)}),(function(e){return e}),(function(e){return e.remove()})).attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})),e.selectAll("text").data(s).join((function(e){return e.append("text").style("fill-opacity",0).text((function(e){return e.name})).style("fill-opacity",1)}),(function(e){return e}),(function(e){return e.remove()})).attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y+1})).attr("text-anchor","middle").attr("dominant-baseline","middle").style("fill",(function(e){return sx(Q_[e.id])})).style("font-size",CT).style("font-weight","bold")}))}}),[r,i,s]),(0,ux.jsx)("svg",{ref:a,width:r,height:i})},TT=function(e){var n=e.gameData,r=e.players,i=n.shortId,a=n.gameType;(0,t.useEffect)((function(){r.length>0&&new Audio("sounds/bubble.mp3").play().catch((function(e){return console.log("Error playing the sound:",e)}))}),[r]);return(0,ux.jsxs)("div",{className:"",children:[(0,ux.jsx)(hx,{className:"max-w-screen-md"}),(0,ux.jsxs)("div",{className:"max-w-screen-md mx-auto px-4 pt-2 text-gray-200",children:[" ",(0,ux.jsxs)("div",{className:"flex justify-between bg-gray-800 p-6 rounded-lg",children:[(0,ux.jsxs)("h2",{className:"text-5xl font-bold text-gray-200 ",children:["Game Code: ",(0,ux.jsx)("span",{className:"text-green-500",children:i})]}),(0,ux.jsx)(px,{className:"text-2xl text-gray-200",children:"Allow Sounds"})]}),(0,ux.jsxs)("div",{className:"mt-2 p-6 bg-gray-800 rounded-lg",children:[(0,ux.jsxs)("div",{className:"flex justify-between items-end pb-2 text-2xl",children:[(0,ux.jsx)("div",{className:"text-2xl",children:"Joined Players"}),r.length>1&&(0,ux.jsxs)("div",{className:"text-xl",children:[(0,ux.jsx)("span",{className:"text-yellow-400 font-bold",children:r[0].name})," start the game once everyone joins!"]})]}),(0,ux.jsx)("div",{className:"md:col-span-1 bg-gray-100 border border-4 border-gray-500 rounded-lg",children:(0,ux.jsx)(ET,{players:r.map((function(e,t){return{id:t,name:e.name}})),width:680,height:300})})]}),"Incommon"===a?(0,ux.jsxs)("div",{className:"mt-2 p-6 bg-gray-800 rounded-lg text-2xl",children:[(0,ux.jsxs)("label",{htmlFor:"deckType",className:"block border-b pb-2 border-gray-600",children:["Deck: ",(0,ux.jsx)("span",{className:"font-bold",children:ax(n.deckType)})]}),(0,ux.jsxs)("label",{htmlFor:"deckType",className:"block border-b py-2 border-gray-600",children:["Game Length: ",(0,ux.jsx)("span",{className:"font-bold",children:ix(n.gameLength)})]}),(0,ux.jsxs)("label",{htmlFor:"deckType",className:"block pt-2",children:["Word Selection: ",(0,ux.jsx)("span",{className:"font-bold",children:ox(n.wordSelection)})]})]}):"Out of Words, Words"===a?(0,ux.jsxs)("div",{className:"mt-2 p-6 bg-gray-800 rounded-lg text-2xl",children:[(0,ux.jsxs)("label",{htmlFor:"minWordLength",className:"block",children:["Minimum Word Length: ",(0,ux.jsx)("span",{className:"font-bold",children:n.minWordLength})]}),(0,ux.jsxs)("label",{htmlFor:"minWordLength",className:"block",children:["Game Time (Minutes): ",(0,ux.jsx)("span",{className:"font-bold",children:n.gameTime})]})]}):void 0]})]})},NT=function(e){var t=e.gameData;e.players,t.shortId;return(0,ux.jsxs)("div",{className:"",children:[(0,ux.jsx)(hx,{className:"max-w-screen-md"}),"Players building the deck..."]})};function IT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var jT=Object.defineProperty,AT={};!function(e,t){for(var n in t)jT(e,n,{get:t[n],enumerable:!0})}(AT,{assign:function(){return cN},colors:function(){return sN},createStringInterpolator:function(){return rN},skipAnimation:function(){return uN},to:function(){return iN},willAdvance:function(){return lN}});var RT=QT(),DT=function(e){return WT(e,RT)},PT=QT();DT.write=function(e){return WT(e,PT)};var OT=QT();DT.onStart=function(e){return WT(e,OT)};var MT=QT();DT.onFrame=function(e){return WT(e,MT)};var LT=QT();DT.onFinish=function(e){return WT(e,LT)};var UT=[];DT.setTimeout=function(e,t){var n=DT.now()+t,r={time:n,handler:e,cancel:function e(){var t=UT.findIndex((function(t){return t.cancel==e}));~t&&UT.splice(t,1),VT-=~t?1:0}};return UT.splice(FT(n),0,r),VT+=1,HT(),r};var FT=function(e){return~(~UT.findIndex((function(t){return t.time>e}))||~UT.length)};DT.cancel=function(e){OT.delete(e),MT.delete(e),LT.delete(e),RT.delete(e),PT.delete(e)},DT.sync=function(e){qT=!0,DT.batchedUpdates(e),qT=!1},DT.throttle=function(e){var t;function n(){try{e.apply(void 0,p(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,DT.onStart(n)}return r.handler=e,r.cancel=function(){OT.delete(n),t=null},r};var BT="undefined"!=typeof window?window.requestAnimationFrame:function(){};DT.use=function(e){return BT=e},DT.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,DT.batchedUpdates=function(e){return e()},DT.catch=console.error,DT.frameLoop="always",DT.advance=function(){"demand"!==DT.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):GT()};var zT=-1,VT=0,qT=!1;function WT(e,t){qT?(t.delete(e),e(0)):(t.add(e),HT())}function HT(){zT<0&&(zT=0,"demand"!==DT.frameLoop&&BT(KT))}function KT(){~zT&&(BT(KT),DT.batchedUpdates(GT))}function GT(){var e=zT;zT=DT.now();var t=FT(zT);t&&(JT(UT.splice(0,t),(function(e){return e.handler()})),VT-=t),VT?(OT.flush(),RT.flush(e?Math.min(64,zT-e):16.667),MT.flush(),PT.flush(),LT.flush()):zT=-1}function QT(){var e=new Set,t=e;return{add:function(n){VT+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return VT-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,VT-=t.size,JT(t,(function(t){return t(n)&&e.add(t)})),VT+=e.size,t=e)}}}function JT(e,t){e.forEach((function(e){try{t(e)}catch(n){DT.catch(n)}}))}function $T(){}var YT={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function XT(e,t){if(YT.arr(e)){if(!YT.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var ZT=function(e,t){return e.forEach(t)};function eN(e,t,n){if(YT.arr(e))for(var r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var tN=function(e){return YT.und(e)?[]:YT.arr(e)?e:[e]};function nN(e,t){if(e.size){var n=Array.from(e);e.clear(),ZT(n,t)}}var rN,iN,aN=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return nN(e,(function(e){return e.apply(void 0,n)}))},oN=function(){return"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)},sN=null,uN=!1,lN=$T,cN=function(e){e.to&&(iN=e.to),e.now&&(DT.now=e.now),void 0!==e.colors&&(sN=e.colors),null!=e.skipAnimation&&(uN=e.skipAnimation),e.createStringInterpolator&&(rN=e.createStringInterpolator),e.requestAnimationFrame&&DT.use(e.requestAnimationFrame),e.batchedUpdates&&(DT.batchedUpdates=e.batchedUpdates),e.willAdvance&&(lN=e.willAdvance),e.frameLoop&&(DT.frameLoop=e.frameLoop)},fN=new Set,hN=[],dN=[],pN=0,vN={get idle(){return!fN.size&&!hN.length},start:function(e){pN>e.priority?(fN.add(e),DT.onStart(mN)):(gN(e),DT(bN))},advance:bN,sort:function(e){if(pN)DT.onFrame((function(){return vN.sort(e)}));else{var t=hN.indexOf(e);~t&&(hN.splice(t,1),yN(e))}},clear:function(){hN=[],fN.clear()}};function mN(){fN.forEach(gN),fN.clear(),DT(bN)}function gN(e){hN.includes(e)||yN(e)}function yN(e){hN.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(hN,(function(t){return t.priority>e.priority})),0,e)}function bN(e){for(var t=dN,n=0;n<hN.length;n++){var r=hN[n];pN=r.priority,r.idle||(lN(r),r.advance(e),r.idle||t.push(r))}return pN=0,(dN=hN).length=0,(hN=t).length>0}var wN=function(e,t,n){return Math.min(Math.max(n,e),t)},kN="[-+]?\\d*\\.?\\d+",_N=kN+"%";function xN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var SN=new RegExp("rgb"+xN(kN,kN,kN)),CN=new RegExp("rgba"+xN(kN,kN,kN,kN)),EN=new RegExp("hsl"+xN(kN,_N,_N)),TN=new RegExp("hsla"+xN(kN,_N,_N,kN)),NN=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,IN=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,jN=/^#([0-9a-fA-F]{6})$/,AN=/^#([0-9a-fA-F]{8})$/;function RN(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function DN(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,a=RN(i,r,e+1/3),o=RN(i,r,e),s=RN(i,r,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}function PN(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function ON(e){return(parseFloat(e)%360+360)%360/360}function MN(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function LN(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function UN(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=jN.exec(e))?parseInt(t[1]+"ff",16)>>>0:sN&&void 0!==sN[e]?sN[e]:(t=SN.exec(e))?(PN(t[1])<<24|PN(t[2])<<16|PN(t[3])<<8|255)>>>0:(t=CN.exec(e))?(PN(t[1])<<24|PN(t[2])<<16|PN(t[3])<<8|MN(t[4]))>>>0:(t=NN.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=AN.exec(e))?parseInt(t[1],16)>>>0:(t=IN.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=EN.exec(e))?(255|DN(ON(t[1]),LN(t[2]),LN(t[3])))>>>0:(t=TN.exec(e))?(DN(ON(t[1]),LN(t[2]),LN(t[3]))|MN(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var FN=function e(t,n,r){if(YT.fun(t))return t;if(YT.arr(t))return e({range:t,output:n,extrapolate:r});if(YT.str(t.output[0]))return rN(t);var i=t,a=i.output,o=i.range||[0,1],s=i.extrapolateLeft||i.extrapolate||"extend",u=i.extrapolateRight||i.extrapolate||"extend",l=i.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,a,o,s,u){var l=u?u(e):e;if(l<t){if("identity"===o)return l;"clamp"===o&&(l=t)}if(l>n){if("identity"===s)return l;"clamp"===s&&(l=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?l=-l:n===1/0?l-=t:l=(l-t)/(n-t);l=a(l),r===-1/0?l=-l:i===1/0?l+=r:l=l*(i-r)+r;return l}(e,o[t],o[t+1],a[t],a[t+1],l,s,u,i.map)}};var BN=1.70158,zN=1.525*BN,VN=BN+1,qN=2*Math.PI/3,WN=2*Math.PI/4.5,HN=function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},KN={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-Math.pow(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-Math.pow(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-Math.pow(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},easeInCirc:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},easeInBack:function(e){return VN*e*e*e-BN*e*e},easeOutBack:function(e){return 1+VN*Math.pow(e-1,3)+BN*Math.pow(e-1,2)},easeInOutBack:function(e){return e<.5?Math.pow(2*e,2)*(7.189819*e-zN)/2:(Math.pow(2*e-2,2)*((zN+1)*(2*e-2)+zN)+2)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*qN)},easeOutElastic:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*qN)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*WN)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*WN)/2+1},easeInBounce:function(e){return 1-HN(1-e)},easeOutBounce:HN,easeInOutBounce:function(e){return e<.5?(1-HN(1-2*e))/2:(1+HN(2*e-1))/2},steps:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return function(n){var r=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e,i="end"===t?Math.floor(r):Math.ceil(r);return wN(0,1,i/e)}}},GN=Symbol.for("FluidValue.get"),QN=Symbol.for("FluidValue.observers"),JN=function(e){return Boolean(e&&e[GN])},$N=function(e){return e&&e[GN]?e[GN]():e},YN=function(e){return e[QN]||null};function XN(e,t){var n=e[QN];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var ZN=g((function e(t){if(v(this,e),!t&&!(t=this.get))throw Error("Unknown getter");eI(this,t)})),eI=function(e,t){return iI(e,GN,t)};function tI(e,t){if(e[GN]){var n=e[QN];n||iI(e,QN,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function nI(e,t){var n=e[QN];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[QN]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var rI,iI=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},aI=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,oI=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,sI=new RegExp("(".concat(aI.source,")(%|[a-z]+)"),"i"),uI=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,lI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,cI=function e(t){var n=l(fI(t),2),r=n[0],i=n[1];if(!r||oN())return t;var a=window.getComputedStyle(document.documentElement).getPropertyValue(r);if(a)return a.trim();if(i&&i.startsWith("--")){var o=window.getComputedStyle(document.documentElement).getPropertyValue(i);return o||t}return i&&lI.test(i)?e(i):i||t},fI=function(e){var t=lI.exec(e);if(!t)return[,];var n=l(t,3);return[n[1],n[2]]},hI=function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")},dI=function(e){rI||(rI=sN?new RegExp("(".concat(Object.keys(sN).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return $N(e).replace(lI,cI).replace(oI,UN).replace(rI,UN)})),n=t.map((function(e){return e.match(aI).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return FN(Zt(Zt({},e),{},{output:t}))}));return function(e){var n,i=!sI.test(t[0])&&(null===(n=t.find((function(e){return sI.test(e)})))||void 0===n?void 0:n.replace(aI,"")),a=0;return t[0].replace(aI,(function(){return"".concat(r[a++](e)).concat(i||"")})).replace(uI,hI)}},pI="react-spring: ",vI=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(pI,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},mI=vI(console.warn);function gI(){mI("".concat(pI,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var yI=vI(console.warn);function bI(e){return YT.str(e)&&("#"==e[0]||/\d/.test(e)||!oN()&&lI.test(e)||e in(sN||{}))}var wI=oN()?t.useEffect:t.useLayoutEffect;function kI(){var e=(0,t.useState)()[1],n=function(){var e=(0,t.useRef)(!1);return wI((function(){return e.current=!0,function(){e.current=!1}}),[]),e}();return function(){n.current&&e(Math.random())}}var _I=function(e){return(0,t.useEffect)(e,xI)},xI=[];function SI(e){var n=(0,t.useRef)();return(0,t.useEffect)((function(){n.current=e})),n.current}var CI=Symbol.for("Animated:node"),EI=function(e){return e&&e[CI]},TI=function(e,t){return n=e,r=CI,i=t,Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0});var n,r,i},NI=function(e){return e&&e[CI]&&e[CI].getPayload()},II=function(){function e(){v(this,e),TI(this,this)}return g(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),jI=function(e){b(n,e);var t=C(n);function n(e){var r;return v(this,n),(r=t.call(this))._value=e,r.done=!0,r.durationProgress=0,YT.num(r._value)&&(r.lastPosition=r._value),r}return g(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return YT.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,YT.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(II),AI=function(e){b(n,e);var t=C(n);function n(e){var r;return v(this,n),(r=t.call(this,0))._string=null,r._toString=FN({output:[e,e]}),r}return g(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(YT.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!Xe(w(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=FN({output:[this.getValue(),e]})),this._value=0,Xe(w(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(jI),RI={dependencies:null},DI=function(e){b(n,e);var t=C(n);function n(e){var r;return v(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return g(n,[{key:"getValue",value:function(e){var t={};return eN(this.source,(function(n,r){var i;(i=n)&&i[CI]===i?t[r]=n.getValue(e):JN(n)?t[r]=$N(n):e||(t[r]=n)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&ZT(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return eN(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;RI.dependencies&&JN(e)&&RI.dependencies.add(e);var n=NI(e);n&&ZT(n,(function(e){return t.add(e)}))}}]),n}(II),PI=function(e){b(n,e);var t=C(n);function n(e){return v(this,n),t.call(this,e)}return g(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):(Xe(w(n.prototype),"setValue",this).call(this,e.map(OI)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(DI);function OI(e){return(bI(e)?AI:jI).create(e)}function MI(e){var t=EI(e);return t?t.constructor:YT.arr(e)?PI:bI(e)?AI:jI}var LI=function(e,n){var r=!YT.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,t.forwardRef)((function(i,a){var o=(0,t.useRef)(null),s=r&&(0,t.useCallback)((function(e){o.current=function(e,t){e&&(YT.fun(e)?e(t):e.current=t);return t}(a,e)}),[a]),u=function(e,t){var n=new Set;RI.dependencies=n,e.style&&(e=Zt(Zt({},e),{},{style:t.createAnimatedStyle(e.style)}));return e=new DI(e),RI.dependencies=null,[e,n]}(i,n),c=l(u,2),f=c[0],h=c[1],d=kI(),p=function(){var e=o.current;r&&!e||!1===(!!e&&n.applyAnimatedValues(e,f.getValue(!0)))&&d()},v=new UI(p,h),m=(0,t.useRef)();wI((function(){return m.current=v,ZT(h,(function(e){return tI(e,v)})),function(){m.current&&(ZT(m.current.deps,(function(e){return nI(e,m.current)})),DT.cancel(m.current.update))}})),(0,t.useEffect)(p,[]),_I((function(){return function(){var e=m.current;ZT(e.deps,(function(t){return nI(t,e)}))}}));var g=n.getComponentProps(f.getValue());return t.createElement(e,Zt(Zt({},g),{},{ref:s}))}))},UI=function(){function e(t,n){v(this,e),this.update=t,this.deps=n}return g(e,[{key:"eventObserved",value:function(e){"change"==e.type&&DT.write(this.update)}}]),e}();var FI=Symbol.for("AnimatedComponent"),BI=function(e){return YT.str(e)?e:e&&YT.str(e.displayName)?e.displayName:YT.fun(e)&&e.name||null},zI=["children"];function VI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return YT.fun(e)?e.apply(void 0,n):e}var qI=function(e,t){return!0===e||!!(t&&e&&(YT.fun(e)?e(t):tN(e).includes(t)))},WI=function(e,t){return YT.obj(e)?t&&e[t]:e},HI=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},KI=function(e){return e},GI=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KI,n=QI;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,i={},a=I(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=t(e[o],o);YT.und(s)||(i[o]=s)}}catch(u){a.e(u)}finally{a.f()}return i},QI=["config","onProps","onStart","onChange","onPause","onResume","onRest"],JI={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function $I(e){var t=function(e){var t={},n=0;if(eN(e,(function(e,r){JI[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return eN(e,(function(e,r){return r in t||(n[r]=e)})),n}return Zt({},e)}function YI(e){return e=$N(e),YT.arr(e)?e.map(YI):bI(e)?AT.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function XI(e){for(var t in e)return!0;return!1}function ZI(e){return YT.fun(e)||YT.arr(e)&&YT.obj(e[0])}function ej(e,t){var n;null===(n=e.ref)||void 0===n||n.delete(e),null===t||void 0===t||t.delete(e)}function tj(e,t){var n;t&&e.ref!==t&&(null===(n=e.ref)||void 0===n||n.delete(e),t.add(e),e.ref=t)}var nj=Zt(Zt({},{tension:170,friction:26}),{},{mass:1,damping:1,easing:KN.linear,clamp:!1}),rj=g((function e(){v(this,e),this.velocity=0,Object.assign(this,nj)}));function ij(e,t){if(YT.und(t.decay)){var n=!YT.und(t.tension)||!YT.und(t.friction);!n&&YT.und(t.frequency)&&YT.und(t.damping)&&YT.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var aj=[],oj=g((function e(){v(this,e),this.changed=!1,this.values=aj,this.toValues=null,this.fromValues=aj,this.config=new rj,this.immediate=!1}));function sj(e,t){var n=t.key,r=t.props,i=t.defaultProps,a=t.state,o=t.actions;return new Promise((function(t,s){var u,l,c,f=qI(null!==(u=r.cancel)&&void 0!==u?u:null===i||void 0===i?void 0:i.cancel,n);if(f)v();else{YT.und(r.pause)||(a.paused=qI(r.pause,n));var h=null===i||void 0===i?void 0:i.pause;!0!==h&&(h=a.paused||qI(h,n)),l=VI(r.delay||0,n),h?(a.resumeQueue.add(p),o.pause()):(o.resume(),p())}function d(){a.resumeQueue.add(p),a.timeouts.delete(c),c.cancel(),l=c.time-DT.now()}function p(){l>0&&!AT.skipAnimation?(a.delayed=!0,c=DT.setTimeout(v,l),a.pauseQueue.add(d),a.timeouts.add(c)):v()}function v(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(d),a.timeouts.delete(c),e<=(a.cancelId||0)&&(f=!0);try{o.start(Zt(Zt({},r),{},{callId:e,cancel:f}),t)}catch(n){s(n)}}}))}var uj=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?fj(e.get()):t.every((function(e){return e.noop}))?lj(e.get()):cj(e.get(),t.every((function(e){return e.finished})))},lj=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},cj=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:n}},fj=function(e){return{value:e,cancelled:!0,finished:!1}};function hj(e,t,n,r){var i=t.callId,a=t.parentId,o=t.onRest,s=n.asyncTo,u=n.promise;return a||e!==s||t.reset?n.promise=$e(Qe().mark((function l(){var c,f,h,d,p,v,m,g;return Qe().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(n.asyncId=i,n.asyncTo=e,c=GI(t,(function(e,t){return"onRest"===t?void 0:e})),d=new Promise((function(e,t){return f=e,h=t})),p=function(e){var t=i<=(n.cancelId||0)&&fj(r)||i!==n.asyncId&&cj(r,!1);if(t)throw e.result=t,h(e),e},v=function(e,t){var a=new pj,o=new vj;return $e(Qe().mark((function s(){var u,l;return Qe().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!AT.skipAnimation){s.next=5;break}throw dj(n),o.result=cj(r,!1),h(o),o;case 5:return p(a),(u=YT.obj(e)?Zt({},e):Zt(Zt({},t),{},{to:e})).parentId=i,eN(c,(function(e,t){YT.und(u[t])&&(u[t]=e)})),s.next=11,r.start(u);case 11:if(l=s.sent,p(a),!n.paused){s.next=16;break}return s.next=16,new Promise((function(e){n.resumeQueue.add(e)}));case 16:return s.abrupt("return",l);case 17:case"end":return s.stop()}}),s)})))()},!AT.skipAnimation){l.next=9;break}return dj(n),l.abrupt("return",cj(r,!1));case 9:return l.prev=9,g=YT.arr(e)?function(){var e=$e(Qe().mark((function e(t){var n,r,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=I(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,v(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(v,r.stop.bind(r))),l.next=13,Promise.all([g.then(f),d]);case 13:m=cj(r.get(),!0,!1),l.next=27;break;case 16:if(l.prev=16,l.t0=l.catch(9),!(l.t0 instanceof pj)){l.next=22;break}m=l.t0.result,l.next=27;break;case 22:if(!(l.t0 instanceof vj)){l.next=26;break}m=l.t0.result,l.next=27;break;case 26:throw l.t0;case 27:return l.prev=27,i==n.asyncId&&(n.asyncId=a,n.asyncTo=a?s:void 0,n.promise=a?u:void 0),l.finish(27);case 30:return YT.fun(o)&&DT.batchedUpdates((function(){o(m,r,r.item)})),l.abrupt("return",m);case 32:case"end":return l.stop()}}),l,null,[[9,16,27,30]])})))():u}function dj(e,t){nN(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var pj=function(e){b(n,e);var t=C(n);function n(){return v(this,n),t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}return g(n)}(T(Error)),vj=function(e){b(n,e);var t=C(n);function n(){return v(this,n),t.call(this,"SkipAnimationSignal")}return g(n)}(T(Error)),mj=function(e){return e instanceof yj},gj=1,yj=function(e){b(n,e);var t=C(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).id=gj++,e._priority=0,e}return g(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=EI(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return AT.to(this,t)}},{key:"interpolate",value:function(){gI();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return AT.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];XN(this,{type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||vN.sort(this),XN(this,{type:"priority",parent:this,priority:e})}}]),n}(ZN),bj=Symbol.for("SpringPhase"),wj=function(e){return(1&e[bj])>0},kj=function(e){return(2&e[bj])>0},_j=function(e){return(4&e[bj])>0},xj=function(e,t){return t?e[bj]|=3:e[bj]&=-3},Sj=function(e,t){return t?e[bj]|=4:e[bj]&=-5},Cj=function(e){b(n,e);var t=C(n);function n(e,r){var i;if(v(this,n),(i=t.call(this)).animation=new oj,i.defaultProps={},i._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},i._pendingCalls=new Set,i._lastCallId=0,i._lastToId=0,i._memoizedDuration=0,!YT.und(e)||!YT.und(r)){var a=YT.obj(e)?Zt({},e):Zt(Zt({},r),{},{from:e});YT.und(a.default)&&(a.default=!0),i.start(a)}return i}return g(n,[{key:"idle",get:function(){return!(kj(this)||this._state.asyncTo)||_j(this)}},{key:"goal",get:function(){return $N(this.animation.to)}},{key:"velocity",get:function(){var e=EI(this);return e instanceof jI?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return wj(this)}},{key:"isAnimating",get:function(){return kj(this)}},{key:"isPaused",get:function(){return _j(this)}},{key:"isDelayed",get:function(){return this._state.delayed}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,a=i.toValues,o=i.config,s=NI(i.to);!s&&JN(i.to)&&(a=tN($N(i.to))),i.values.forEach((function(u,l){if(!u.done){var c=u.constructor==AI?1:s?s[l].lastPosition:a[l],f=i.immediate,h=c;if(!f){if(h=u.lastPosition,o.tension<=0)return void(u.done=!0);var d,p=u.elapsedTime+=e,v=i.fromValues[l],m=null!=u.v0?u.v0:u.v0=YT.arr(o.velocity)?o.velocity[l]:o.velocity,g=o.precision||(v==c?.005:Math.min(1,.001*Math.abs(c-v)));if(YT.und(o.duration))if(o.decay){var y=!0===o.decay?.998:o.decay,b=Math.exp(-(1-y)*p);h=v+m/(1-y)*(1-b),f=Math.abs(u.lastPosition-h)<=g,d=m*b}else{d=null==u.lastVelocity?m:u.lastVelocity;for(var w=o.restVelocity||g/10,k=o.clamp?0:o.bounce,_=!YT.und(k),x=v==c?u.v0>0:v<c,S=Math.ceil(e/1),C=0;C<S&&(Math.abs(d)>w||!(f=Math.abs(c-h)<=g));++C){_&&(h==c||h>c==x)&&(d=-d*k,h=c),h+=1*(d+=1*((1e-6*-o.tension*(h-c)+.001*-o.friction*d)/o.mass))}}else{var E=1;o.duration>0&&(t._memoizedDuration!==o.duration&&(t._memoizedDuration=o.duration,u.durationProgress>0&&(u.elapsedTime=o.duration*u.durationProgress,p=u.elapsedTime+=e)),E=(E=(o.progress||0)+p/t._memoizedDuration)>1?1:E<0?0:E,u.durationProgress=E),d=((h=v+o.easing(E)*(c-v))-u.lastPosition)/e,f=1==E}u.lastVelocity=d,Number.isNaN(h)&&(console.warn("Got NaN while animating:",t),f=!0)}s&&!s[l].done&&(f=!1),f?u.done=!0:n=!1,u.setValue(h,o.round)&&(r=!0)}}));var u=EI(this),l=u.getValue();if(n){var c=$N(i.to);l===c&&!r||o.decay?r&&o.decay&&this._onChange(l):(u.setValue(c),this._onChange(c)),this._stop()}else r&&this._onChange(l)}},{key:"set",value:function(e){var t=this;return DT.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(kj(this)){var t=this.animation,n=t.to,r=t.config;DT.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return YT.und(e)?(n=this.queue||[],this.queue=[]):n=[YT.obj(e)?e:Zt(Zt({},t),{},{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return uj(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),dj(this._state,e&&this._lastCallId),DT.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,r=e.from;(null==(n=YT.obj(n)?n[t]:n)||ZI(n))&&(n=void 0),null==(r=YT.obj(r)?r[t]:r)&&(r=void 0);var i={to:n,from:r};if(!wj(this)){if(e.reverse){var a=[r,n];n=a[0],r=a[1]}r=$N(r),YT.und(r)?EI(this)||this._set(n):this._set(r)}return i}},{key:"_update",value:function(e,t){var n=this,r=Object.assign({},e),i=this.key,a=this.defaultProps;r.default&&Object.assign(a,GI(r,(function(e,t){return/^on/.test(t)?WI(e,i):e}))),Rj(this,r,"onProps"),Dj(this,"onProps",r,this);var o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var s=this._state;return sj(++this._lastCallId,{key:i,props:r,defaultProps:a,state:s,actions:{pause:function(){_j(n)||(Sj(n,!0),aN(s.pauseQueue),Dj(n,"onPause",cj(n,Ej(n,n.animation.to)),n))},resume:function(){_j(n)&&(Sj(n,!1),kj(n)&&n._resume(),aN(s.resumeQueue),Dj(n,"onResume",cj(n,Ej(n,n.animation.to)),n))},start:this._merge.bind(this,o)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var i=Tj(r);if(i)return n._update(i,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r=this;if(t.cancel)return this.stop(!0),n(fj(this));var i=!YT.und(e.to),a=!YT.und(e.from);if(i||a){if(!(t.callId>this._lastToId))return n(fj(this));this._lastToId=t.callId}var o=this.key,s=this.defaultProps,u=this.animation,l=u.to,c=u.from,f=e.to,h=void 0===f?l:f,d=e.from,p=void 0===d?c:d;if(!a||i||t.default&&!YT.und(h)||(h=p),t.reverse){var v=[p,h];h=v[0],p=v[1]}var m=!XT(p,c);m&&(u.from=p),p=$N(p);var g=!XT(h,l);g&&this._focus(h);var y=ZI(t.to),b=u.config,w=b.decay,k=b.velocity;(i||a)&&(b.velocity=0),t.config&&!y&&function(e,t,n){for(var r in n&&(ij(n=Zt({},n),t),t=Zt(Zt({},n),t)),ij(e,t),Object.assign(e,t),nj)null==e[r]&&(e[r]=nj[r]);var i=e.frequency,a=e.damping,o=e.mass;YT.und(i)||(i<.01&&(i=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/i,2)*o,e.friction=4*Math.PI*a*o/i)}(b,VI(t.config,o),t.config!==s.config?VI(s.config,o):void 0);var _=EI(this);if(!_||YT.und(h))return n(cj(this,!0));var x=YT.und(t.reset)?a&&!t.default:!YT.und(p)&&qI(t.reset,o),S=x?p:this.get(),C=YI(h),E=YT.num(C)||YT.arr(C)||bI(C),T=!y&&(!E||qI(s.immediate||t.immediate,o));if(g){var N=MI(h);if(N!==_.constructor){if(!T)throw Error("Cannot animate between ".concat(_.constructor.name," and ").concat(N.name,', as the "to" prop suggests'));_=this._set(C)}}var I=_.constructor,j=JN(h),A=!1;if(!j){var R=x||!wj(this)&&m;(g||R)&&(j=!(A=XT(YI(S),C))),(XT(u.immediate,T)||T)&&XT(b.decay,w)&&XT(b.velocity,k)||(j=!0)}if(A&&kj(this)&&(u.changed&&!x?j=!0:j||this._stop(l)),!y&&((j||JN(l))&&(u.values=_.getPayload(),u.toValues=JN(h)?null:I==AI?[1]:tN(C)),u.immediate!=T&&(u.immediate=T,T||x||this._set(l)),j)){var D=u.onRest;ZT(Aj,(function(e){return Rj(r,t,e)}));var P=cj(this,Ej(this,l));aN(this._pendingCalls,P),this._pendingCalls.add(n),u.changed&&DT.batchedUpdates((function(){var e;(u.changed=!x,null===D||void 0===D||D(P,r),x)?VI(s.onRest,P):null===(e=u.onStart)||void 0===e||e.call(u,P,r)}))}x&&this._set(S),y?n(hj(t.to,t,this._state,this)):j?this._start():kj(this)&&!g?this._pendingCalls.add(n):n(lj(S))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&(YN(this)&&this._detach(),t.to=e,YN(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;JN(t)&&(tI(t,this),mj(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;JN(e)&&nI(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=$N(e);if(!YT.und(r)){var i=EI(this);if(!i||!XT(r,i.getValue())){var a=MI(r);i&&i.constructor==a?i.setValue(r):TI(this,a.create(r)),i&&DT.batchedUpdates((function(){t._onChange(r,n)}))}}return EI(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,Dj(this,"onStart",cj(this,Ej(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),VI(this.animation.onChange,e,this)),VI(this.defaultProps.onChange,e,this),Xe(w(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;EI(this).reset($N(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),kj(this)||(xj(this,!0),_j(this)||this._resume())}},{key:"_resume",value:function(){AT.skipAnimation?this.finish():vN.start(this)}},{key:"_stop",value:function(e,t){if(kj(this)){xj(this,!1);var n=this.animation;ZT(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),XN(this,{type:"idle",parent:this});var r=t?fj(this.get()):cj(this.get(),Ej(this,null!==e&&void 0!==e?e:n.to));aN(this._pendingCalls,r),n.changed&&(n.changed=!1,Dj(this,"onRest",r,this))}}}]),n}(yj);function Ej(e,t){var n=YI(t);return XT(YI(e.get()),n)}function Tj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=VI(t);if(r){var i=!0!==r&&$I(r),a=(i||e).reverse,o=!i||i.reset;return Nj(Zt(Zt({},e),{},{loop:t,default:!1,pause:void 0,to:!a||ZI(n)?n:void 0,from:o?e.from:void 0,reset:o},i))}}function Nj(e){var t=e=$I(e),n=t.to,r=t.from,i=new Set;return YT.obj(n)&&jj(n,i),YT.obj(r)&&jj(r,i),e.keys=i.size?Array.from(i):null,e}function Ij(e){var t=Nj(e);return YT.und(t.default)&&(t.default=GI(t)),t}function jj(e,t){eN(e,(function(e,n){return null!=e&&t.add(n)}))}var Aj=["onStart","onRest","onChange","onPause","onResume"];function Rj(e,t,n){e.animation[n]=t[n]!==HI(t,n)?WI(t[n],e.key):void 0}function Dj(e,t){for(var n,r,i,a,o=arguments.length,s=new Array(o>2?o-2:0),u=2;u<o;u++)s[u-2]=arguments[u];null===(n=(r=e.animation)[t])||void 0===n||n.call.apply(n,[r].concat(s)),null===(i=(a=e.defaultProps)[t])||void 0===i||i.call.apply(i,[a].concat(s))}var Pj=["onStart","onChange","onRest"],Oj=1,Mj=function(){function e(t,n){v(this,e),this.id=Oj++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(Zt({default:!0},t))}return g(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle&&!e.isDelayed&&!e.isPaused}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];YT.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(Nj(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=tN(e).map(Nj):this.queue=[],this._flush?this._flush(this,t):(Wj(this,t),Lj(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;ZT(tN(t),(function(t){return n[t].stop(!!e)}))}else dj(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(YT.und(e))this.start({pause:!0});else{var t=this.springs;ZT(tN(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(YT.und(e))this.start({pause:!1});else{var t=this.springs;ZT(tN(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){eN(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,i=t.onRest,a=this._active.size>0,o=this._changed.size>0;(a&&!this._started||o&&!this._started)&&(this._started=!0,nN(n,(function(t){var n=l(t,2),r=n[0],i=n[1];i.value=e.get(),r(i,e,e._item)})));var s=!a&&this._started,u=o||s&&i.size?this.get():null;o&&r.size&&nN(r,(function(t){var n=l(t,2),r=n[0],i=n[1];i.value=u,r(i,e,e._item)})),s&&(this._started=!1,nN(i,(function(t){var n=l(t,2),r=n[0],i=n[1];i.value=u,r(i,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}DT.onFrame(this._onFrame)}}]),e}();function Lj(e,t){return Promise.all(t.map((function(t){return Uj(e,t)}))).then((function(t){return uj(e,t)}))}function Uj(e,t,n){return Fj.apply(this,arguments)}function Fj(){return Fj=$e(Qe().mark((function e(t,n,r){var i,a,o,s,u,l,c,f,h,d,p,v,m;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.keys,a=n.to,o=n.from,s=n.loop,u=n.onRest,l=n.onResolve,c=YT.obj(n.default)&&n.default,s&&(n.loop=!1),!1===a&&(n.to=null),!1===o&&(n.from=null),(f=YT.arr(a)||YT.fun(a)?a:void 0)?(n.to=void 0,n.onRest=void 0,c&&(c.onRest=void 0)):ZT(Pj,(function(e){var r=n[e];if(YT.fun(r)){var i=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,a=i.get(r);a?(t||(a.finished=!1),n&&(a.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},c&&(c[e]=n[e])}})),h=t._state,n.pause===!h.paused?(h.paused=n.pause,aN(n.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(n.pause=!0),d=(i||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),p=!0===n.cancel||!0===HI(n,"cancel"),(f||p&&h.asyncId)&&d.push(sj(++t._lastAsyncId,{props:n,state:h,actions:{pause:$T,resume:$T,start:function(e,n){p?(dj(h,t._lastAsyncId),n(fj(t))):(e.onRest=u,n(hj(f,e,h,t)))}}})),!h.paused){e.next=15;break}return e.next=15,new Promise((function(e){h.resumeQueue.add(e)}));case 15:return e.t0=uj,e.t1=t,e.next=19,Promise.all(d);case 19:if(e.t2=e.sent,v=(0,e.t0)(e.t1,e.t2),!s||!v.finished||r&&v.noop){e.next=26;break}if(!(m=Tj(n,s,a))){e.next=26;break}return Wj(t,[m]),e.abrupt("return",Uj(t,m,!0));case 26:return l&&DT.batchedUpdates((function(){return l(v,t,t.item)})),e.abrupt("return",v);case 28:case"end":return e.stop()}}),e)}))),Fj.apply(this,arguments)}function Bj(e,t){var n=Zt({},e.springs);return t&&ZT(tN(t),(function(e){YT.und(e.keys)&&(e=Nj(e)),YT.obj(e.to)||(e=Zt(Zt({},e),{},{to:void 0})),qj(n,e,(function(e){return Vj(e)}))})),zj(e,n),n}function zj(e,t){eN(t,(function(t,n){e.springs[n]||(e.springs[n]=t,tI(t,e))}))}function Vj(e,t){var n=new Cj;return n.key=e,t&&tI(n,t),n}function qj(e,t,n){t.keys&&ZT(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function Wj(e,t){ZT(t,(function(t){qj(e.springs,t,(function(t){return Vj(t,e)}))}))}var Hj=function(e){var n=e.children,r=IT(e,zI),i=(0,t.useContext)(Kj),a=r.pause||!!i.pause,o=r.immediate||!!i.immediate;r=function(e,n){var r=l((0,t.useState)((function(){return{inputs:n,result:e()}})),1)[0],i=(0,t.useRef)(),a=i.current,o=a;return o?Boolean(n&&o.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(n,o.inputs))||(o={inputs:n,result:e()}):o=r,(0,t.useEffect)((function(){i.current=o,a==r&&(r.inputs=r.result=void 0)}),[o]),o.result}((function(){return{pause:a,immediate:o}}),[a,o]);var s=Kj.Provider;return t.createElement(s,{value:r},n)},Kj=function(e,n){return Object.assign(e,t.createContext(n)),e.Provider._context=e,e.Consumer._context=e,e}(Hj,{});Hj.Provider=Kj.Provider,Hj.Consumer=Kj.Consumer;var Gj=function(){var e=[],t=function(t){yI("".concat(pI,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));var r=[];return ZT(e,(function(e,i){if(YT.und(t))r.push(e.start());else{var a=n(t,e,i);a&&r.push(e.start(a))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return ZT(e,(function(e){return e.pause.apply(e,p(t))})),this},t.resume=function(){var t=arguments;return ZT(e,(function(e){return e.resume.apply(e,p(t))})),this},t.set=function(t){ZT(e,(function(e,n){var r=YT.fun(t)?t(n,e):t;r&&e.set(r)}))},t.start=function(t){var n=this,r=[];return ZT(e,(function(e,i){if(YT.und(t))r.push(e.start());else{var a=n._getProps(t,e,i);a&&r.push(e.start(a))}})),r},t.stop=function(){var t=arguments;return ZT(e,(function(e){return e.stop.apply(e,p(t))})),this},t.update=function(t){var n=this;return ZT(e,(function(e,r){return e.update(n._getProps(t,e,r))})),this};var n=function(e,t,n){return YT.fun(e)?e(n,t):e};return t._getProps=n,t};function Qj(e,n,r){var i=arguments,a=YT.fun(n)&&n;a&&!r&&(r=[]);var o=(0,t.useMemo)((function(){return a||3==i.length?Gj():void 0}),[]),s=(0,t.useRef)(0),u=kI(),l=(0,t.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=Bj(e,t);return s.current>0&&!l.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}))?Lj(e,t):new Promise((function(r){zj(e,n),l.queue.push((function(){r(Lj(e,t))})),u()}))}}}),[]),c=(0,t.useRef)(p(l.ctrls)),f=[],h=SI(e)||0;function d(e,t){for(var r=e;r<t;r++){var i=c.current[r]||(c.current[r]=new Mj(null,l.flush)),o=a?a(r,i):n[r];o&&(f[r]=Ij(o))}}(0,t.useMemo)((function(){ZT(c.current.slice(e,h),(function(e){ej(e,o),e.stop(!0)})),c.current.length=e,d(h,e)}),[e]),(0,t.useMemo)((function(){d(0,Math.min(h,e))}),r);var v=c.current.map((function(e,t){return Bj(e,f[t])})),m=(0,t.useContext)(Hj),g=SI(m),y=m!==g&&XI(m);wI((function(){s.current++,l.ctrls=c.current;var e=l.queue;e.length&&(l.queue=[],ZT(e,(function(e){return e()}))),ZT(c.current,(function(e,t){null===o||void 0===o||o.add(e),y&&e.start({default:m});var n=f[t];n&&(tj(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),_I((function(){return function(){ZT(l.ctrls,(function(e){return e.stop(!0)}))}}));var b=v.map((function(e){return Zt({},e)}));return o?[b,o]:b}function Jj(e,t){var n=YT.fun(e),r=Qj(1,n?e:[e],n?t||[]:t),i=l(r,2),a=l(i[0],1),o=a[0],s=i[1];return n||2==arguments.length?[o,s]:o}var $j=function(e){b(n,e);var t=C(n);function n(e,r){var i;v(this,n),(i=t.call(this)).source=e,i.idle=!0,i._active=new Set,i.calc=FN.apply(void 0,p(r));var a=i._get(),o=MI(a);return TI(x(i),o.create(a)),i}return g(n,[{key:"advance",value:function(e){var t=this._get();XT(t,this.get())||(EI(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Xj(this._active)&&Zj(this)}},{key:"_get",value:function(){var e=YT.arr(this.source)?this.source.map($N):tN($N(this.source));return this.calc.apply(this,p(e))}},{key:"_start",value:function(){var e=this;this.idle&&!Xj(this._active)&&(this.idle=!1,ZT(NI(this),(function(e){e.done=!1})),AT.skipAnimation?(DT.batchedUpdates((function(){return e.advance()})),Zj(this)):vN.start(this))}},{key:"_attach",value:function(){var e=this,t=1;ZT(tN(this.source),(function(n){JN(n)&&tI(n,e),mj(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;ZT(tN(this.source),(function(t){JN(t)&&nI(t,e)})),this._active.clear(),Zj(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=tN(this.source).reduce((function(e,t){return Math.max(e,(mj(t)?t.priority:0)+1)}),0))}}]),n}(yj);function Yj(e){return!1!==e.idle}function Xj(e){return!e.size||Array.from(e).every(Yj)}function Zj(e){e.idle||(e.idle=!0,ZT(NI(e),(function(e){e.done=!0})),XN(e,{type:"idle",parent:e}))}var eA=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new $j(e,n)};AT.assign({createStringInterpolator:dI,to:function(e,t){return new $j(e,t)}});vN.advance;var tA=["style","children","scrollTop","scrollLeft","viewBox"],nA=["x","y","z"],rA=["scrollTop","scrollLeft"],iA=/^--/;function aA(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||iA.test(e)||sA.hasOwnProperty(e)&&sA[e]?(""+t).trim():t+"px"}var oA={};var sA={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uA=["Webkit","Ms","Moz","O"];sA=Object.keys(sA).reduce((function(e,t){return uA.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),sA);var lA=/^(matrix|translate|scale|rotate|skew)/,cA=/^(translate)/,fA=/^(rotate|skew)/,hA=function(e,t){return YT.num(e)&&0!==e?e+t:e},dA=function e(t,n){return YT.arr(t)?t.every((function(t){return e(t,n)})):YT.num(t)?t===n:parseFloat(t)===n},pA=function(e){b(n,e);var t=C(n);function n(e){var r=e.x,i=e.y,a=e.z,o=IT(e,nA);v(this,n);var s=[],u=[];return(r||i||a)&&(s.push([r||0,i||0,a||0]),u.push((function(e){return["translate3d(".concat(e.map((function(e){return hA(e,"px")})).join(","),")"),dA(e,0)]}))),eN(o,(function(e,t){if("transform"===t)s.push([e||""]),u.push((function(e){return[e,""===e]}));else if(lA.test(t)){if(delete o[t],YT.und(e))return;var n=cA.test(t)?"px":fA.test(t)?"deg":"";s.push(tN(e)),u.push("rotate3d"===t?function(e){var t=l(e,4),r=t[0],i=t[1],a=t[2],o=t[3];return["rotate3d(".concat(r,",").concat(i,",").concat(a,",").concat(hA(o,n),")"),dA(o,0)]}:function(e){return["".concat(t,"(").concat(e.map((function(e){return hA(e,n)})).join(","),")"),dA(e,t.startsWith("scale")?1:0)]})}})),s.length&&(o.transform=new vA(s,u)),t.call(this,o)}return g(n)}(DI),vA=function(e){b(n,e);var t=C(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).inputs=e,i.transforms=r,i._value=null,i}return g(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return ZT(this.inputs,(function(r,i){var a=$N(r[0]),o=l(e.transforms[i](YT.arr(a)?a:r.map($N)),2),s=o[0],u=o[1];t+=" "+s,n=n&&u})),n?"none":t}},{key:"observerAdded",value:function(e){var t=this;1==e&&ZT(this.inputs,(function(e){return ZT(e,(function(e){return JN(e)&&tI(e,t)}))}))}},{key:"observerRemoved",value:function(e){var t=this;0==e&&ZT(this.inputs,(function(e){return ZT(e,(function(e){return JN(e)&&nI(e,t)}))}))}},{key:"eventObserved",value:function(e){"change"==e.type&&(this._value=null),XN(this,e)}}]),n}(ZN);AT.assign({batchedUpdates:f.unstable_batchedUpdates,createStringInterpolator:dI,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var mA=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,a=void 0===i?function(e){return new DI(e)}:i,o=t.getComponentProps,s=void 0===o?function(e){return e}:o,u={applyAnimatedValues:r,createAnimatedStyle:a,getComponentProps:s},l=function e(t){var n=BI(t)||"Anonymous";return(t=YT.str(t)?e[t]||(e[t]=LI(t,u)):t[FI]||(t[FI]=LI(t,u))).displayName="Animated(".concat(n,")"),t};return eN(e,(function(t,n){YT.arr(e)&&(n=BI(t)),l[n]=l(t)})),{animated:l}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t.style,i=t.children,a=t.scrollTop,o=t.scrollLeft,s=t.viewBox,u=IT(t,tA),l=Object.values(u),c=Object.keys(u).map((function(t){return n||e.hasAttribute(t)?t:oA[t]||(oA[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));for(var f in void 0!==i&&(e.textContent=i),r)if(r.hasOwnProperty(f)){var h=aA(f,r[f]);iA.test(f)?e.style.setProperty(f,h):e.style[f]=h}c.forEach((function(t,n){e.setAttribute(t,l[n])})),void 0!==a&&(e.scrollTop=a),void 0!==o&&(e.scrollLeft=o),void 0!==s&&e.setAttribute("viewBox",s)},createAnimatedStyle:function(e){return new pA(e)},getComponentProps:function(e){e.scrollTop,e.scrollLeft;return IT(e,rA)}}),gA=mA.animated,yA=n.p+"static/media/card-back.8fec901b131ffc01b12e.jpg";var bA=function(e){var n=e.deck,r=e.cardIndex,i=e.placeholder,a=e.flip,o=e.position,s=e.backToChosenCards,u=e.highlight,c=e.size,f=e.showName,h=e.flyAway,d=l((0,t.useState)(!1),2),p=d[0],v=d[1],m=o,g=l(Jj((function(){return{boxShadow:"0 12.5px 10px -10px rgba(50, 50, 73, 0.4)",opacity:1,transform:"perspective(600px) rotateY(0deg) scale(1)",zIndex:0,config:{mass:5,tension:300,friction:100}}})),2),y=g[0],b=y.transform,w=y.opacity,k=y.zIndex,_=y.boxShadow,x=g[1];(0,t.useEffect)((function(){if(h&&!p){console.log({flyAway:h});var e=Math.random()>.5?1:-1,t=Math.random()*window.innerWidth,n=3e3*e;Math.random();x({to:{transform:"translateX(".concat(t,"px) translateY(").concat(n,"px) rotateY(180deg) scale(1)")},from:{transform:"translateX(0px) translateY(0px) rotateY(180deg) scale(1)"},config:{mass:1,tension:200,friction:300}}),v(!0)}}),[h,p,x]),(0,t.useEffect)((function(){h||(x({transform:"perspective(600px) rotateY(".concat(a?180:0,"deg) scale(").concat(a?1.2:1,") translateY(").concat(a?m:"0px",")"),zIndex:a?10:0,opacity:a?1:0,immediate:function(e){return"zIndex"===e}}),s&&x({transform:"perspective(600px) rotateY(180deg) scale(1) translateY(0px)",zIndex:0}))}),[a,s,x,m]),(0,t.useEffect)((function(){u&&!h&&(console.log({highlight:u}),x({boxShadow:"0 0 20px 10px gold",transform:"perspective(600px) rotateY(180deg) scale(1.3) translateY(".concat(m,")"),zIndex:100,immediate:function(e){return"zIndex"===e}}),setTimeout((function(){x({boxShadow:"0 12.5px 10px -10px rgba(50, 50, 73, 0.4)",transform:"perspective(600px) rotateY(180deg) scale(1) translateY(0px)",zIndex:10})}),1500))}),[u]);var S={position:"relative",width:c.width,height:c.height,zIndex:k},C={position:"absolute",display:"flex",borderStyle:"solid",borderWidth:"4px",borderRadius:"4px",borderColor:"white",boxShadow:_,width:"100%",height:"100%",backfaceVisibility:"hidden",backgroundImage:"url(".concat(yA,")"),opacity:w.to((function(e){return 1-e})),transform:b,transformStyle:"preserve-3d"};return i?(0,ux.jsx)("div",{style:{width:c.width,height:c.height,borderStyle:"dashed",borderWidth:"2px",borderColor:"white",borderRadius:"8px"}}):(0,ux.jsxs)(gA.div,{style:S,children:[(0,ux.jsx)(gA.div,{className:"card",style:Zt(Zt({},C),{},{backgroundImage:"url('images/card-back.jpg')",opacity:w.to((function(e){return 1-e}))})}),(0,ux.jsx)(gA.div,{className:"card "+(u?"highlight":""),style:Zt(Zt({},C),{},{backgroundImage:"url(".concat(n[r].imageUrl,")"),opacity:w,rotateY:"180deg"}),children:f&&function(){var e=n[r].name,t=e.split(" ")[0],i=e.split(" ").slice(1).join(" ");return(0,ux.jsxs)("div",{className:"text-white text-center bg-gray-800 w-full p-1 text-sm flex justify-center self-end",children:[t," ",(0,ux.jsx)("br",{})," ",i," "]})}()})]})},wA=function(e){var t=e.topCards,n=e.deck,r=e.deckType,i=e.cardSize,a=e.word,o=Jj({from:{transform:"translateY(100%)",opacity:0},to:{transform:"translateY(0)",opacity:1}}),s="original"===r?"cards":r;return(0,ux.jsx)(gA.div,{style:o,className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50",children:(0,ux.jsxs)("div",{className:"bg-gray-800 text-white rounded-lg shadow-lg p-8 pb-9 border-4 border-gray-200",children:[(0,ux.jsxs)("h2",{className:"text-3xl font-bold mb-8 text-center",children:["Top 5 ",s," associated with the word ",(0,ux.jsx)("span",{className:"text-green-500 font-bold uppercase",children:a})]}),(0,ux.jsx)("div",{className:"grid grid-cols-5 gap-4",children:t.map((function(e,t){return(0,ux.jsx)("div",{className:"p-3",children:(0,ux.jsx)(bA,{size:i,deck:n,cardIndex:e,flip:!0,showName:Boolean(n[e].name)})},t)}))})]})})},kA=function(e){var n=e.gameData,r=e.gameRef,i=e.players,a=e.deck,o=n.currentRound,s=n.shortId,u=n.numCards,c=n.deckType,f=o%i.length,h=i[f].name,d=l((0,t.useState)(null),2),v=d[0],m=d[1],g=l((0,t.useState)(null),2),y=g[0],b=g[1],w=l((0,t.useState)(!1),2),k=(w[0],w[1],l((0,t.useState)({stage:"",highlightedCard:null,cardIndex:0,playerIndex:0,score:0,startPosition:{x:0,y:0},endPosition:{x:0,y:0}}),2)),_=k[0],x=k[1],S=l((0,t.useState)([]),2),C=S[0],E=S[1],T=l((0,t.useState)(!1),2),N=T[0],j=T[1];(0,t.useEffect)((function(){E([]),j(!1);var e=xp(r,"rounds");xv(hv(e,pv("roundNumber","==",o))).then((function(t){if(1===t.size){var n=t.docs[0].id,r=Sp(e,n);Tv(r,(function(e){b(r),m(e.data())}))}else console.error("Invalid short ID.")}))}),[o,r]),(0,t.useEffect)((function(){var e=_.stage,t=_.cardIndex,n=_.playerIndex;"highlight"!==e||n>=i.length||function(){var e=i[n].chosenCards[t],r=function(e){for(var t=_.cardIndex,n=_.playerIndex,r=!1,a=0,o=0;o<i.length;o++)if(o!==n){var s=i[o].chosenCards;e===s[t]?(r=!0,a+=tx(t,t)):-1!==s.indexOf(e)&&(r=!0,a+=tx(t,s.indexOf(e)))}return v.players[n].roundScore+=a,{match:r,score:a}}(e);r.match?setTimeout((function(){x(Zt(Zt({},_),{},{highlightedCard:e,stage:"adjustScore",score:r.score}))}),500):x(Zt(Zt({},_),{},{highlightedCard:null,stage:"nextCard",score:0}))}()}),[_]),(0,t.useEffect)((function(){var e=_.stage;_.cardIndex,_.playerIndex,_.score;"adjustScore"===e&&setTimeout((function(){x(Zt(Zt({},_),{},{stage:"animateScore"}))}),100)}),[_]),(0,t.useEffect)((function(){var e=_.stage,t=_.cardIndex,n=_.playerIndex;if("nextCard"===e){var r=t+1,i=n,a=!1;4===t&&(i=n+1,r=0,a=!0);var o=Zt(Zt({},_),{},{cardIndex:r,playerIndex:i,stage:"highlight"});setTimeout((function(){x(o)}),a?500:0)}}),[_]),(0,t.useEffect)((function(){if(v&&v.flippedCards===u+1){var e=function(){var e=$e(Qe().mark((function e(){var t,n,r,a,o,s;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=p(i),n=[],r={},a=function(e){var i=t[e];i.roundScore=0;var a=v.players.find((function(e){return e.name===i.name}));i.gameScore=a.gameScore,i.connections=a.connections;var o,s=i.chosenCards,u=I(s.entries());try{for(u.s();!(o=u.n()).done;){var c=l(o.value,2),f=c[0],h=c[1],d=10-f;r[h]?r[h]+=d:r[h]=d}}catch(y){u.e(y)}finally{u.f()}for(var p=0;p<t.length;p++)if(e!==p){var m=t[p],g=nx(s,m.chosenCards);i.roundScore+=g,i.connections&&i.connections[m.name]?i.connections[m.name]+=g:i.connections[m.name]=g,n.push(i.connections[m.name])}i.gameScore+=i.roundScore},o=0;o<t.length;o++)a(o);return j(!0),setTimeout((function(){E(Object.entries(r).sort((function(e,t){return t[1]-e[1]})).map((function(e){return e[0]})).slice(0,5))}),1e3),n.sort((function(e,t){return e-t})),s=n[Math.floor(n.length/2)],e.prev=9,e.next=12,Sv(y,{players:t,scoresCalculated:!0,connectionScores:n,connectionThreshold:s});case 12:console.log("Update successful"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),console.error("Error updating document: ",e.t0);case 18:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(){return e.apply(this,arguments)}}();v.scoresCalculated||e()}}),[v]),(0,t.useEffect)((function(){var e=function(){var e=$e(Qe().mark((function e(){var t,n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=I(i),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=11;break}if(!(r.value.chosenCards.length<u)){e.next=9;break}return t=!1,e.abrupt("break",11);case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:if(!t){e.next=29;break}return e.prev=20,e.next=23,Sv(y,{allCardsSubmitted:!0});case 23:console.log("Update successful"),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(20),console.error("Error updating document: ",e.t1);case 29:case"end":return e.stop()}}),e,null,[[2,13,16,19],[20,26]])})));return function(){return e.apply(this,arguments)}}();e()}),[i]);if(!v)return(0,ux.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,ux.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})});return(0,ux.jsxs)("div",{children:[(0,ux.jsx)(hx,{className:"".concat(i.length<=4?"max-w-screen-lg":"max-w-screen-xl"),gameCode:(0,ux.jsxs)("span",{children:["Game Code:  ",(0,ux.jsx)("span",{className:"text-yellow-500 font-bold uppercase",children:s})]}),round:o,word:function(){var e=v.word;return e?(0,ux.jsxs)("span",{children:["Word:  ",(0,ux.jsx)("span",{className:"text-green-500 font-bold uppercase",children:e})]}):(0,ux.jsxs)("span",{children:["Waiting for ",(0,ux.jsx)("span",{className:"text-green-500 font-bold",children:h})," to choose the word"]})}()}),(0,ux.jsx)("div",{className:"".concat(i.length>8?"mx-2":"max-w-screen-xl"," mx-auto mt-2"),children:(0,ux.jsx)("div",{className:"grid grid-cols-".concat(Math.ceil(i.length/4)," gap-2"),children:i.map((function(e,t){return(0,ux.jsxs)("div",{className:"flex bg-gray-800 text-gray-200 rounded-lg shadow px-3 pt-2 ".concat(i.length<=4?"mx-auto":""),style:{width:i.length<=4?"55%":"auto"},children:[(0,ux.jsx)("div",{className:"flex flex-col justify-center items-center",children:(0,ux.jsx)("div",{className:"",children:(0,ux.jsx)("div",{className:"text-base font-semibold w-12 mr-2 pb-2 text-center",children:e.name})})}),(0,ux.jsx)("div",{className:"flex flex-col",children:(0,ux.jsx)("div",{className:"flex items-center mb-2",children:(0,ux.jsx)("div",{className:"flex-grow grid grid-cols-".concat(u," gap-1"),children:e.chosenCards.length===u?e.chosenCards.map((function(e,n){return(0,ux.jsx)("div",{className:"p-1",children:(0,ux.jsx)(bA,{size:{width:100,height:140},deck:a,cardIndex:e,flip:v.flippedCards>n,position:(r=t,5*Math.floor(r/2)-30+"px"),backToChosenCards:n+1<v.flippedCards,highlight:e===_.highlightedCard,flyAway:N})},e);var r})):Array(u).fill().map((function(e,t){return(0,ux.jsx)("div",{className:"p-1",children:(0,ux.jsx)(bA,{size:{width:100,height:140},placeholder:!0})},t)}))})})})]},t)}))})}),C.length>0&&(0,ux.jsx)(wA,{topCards:C,deck:a,deckType:c,cardSize:{width:150,height:210},word:v.word})]})};var _A=function(e){var n=e.word,r=e.points,i=e.highlight,a=(e.allPlayersHaveWord,e.isRevealed),o=l(Jj((function(){return{transform:"scale(1)",config:{mass:5,tension:300,friction:100}}})),2),s=o[0],u=s.transform,c=(s.boxShadow,o[1]);(0,t.useEffect)((function(){i&&(console.log({highlight:i}),c({transform:"scale(1.5)"}),setTimeout((function(){c({transform:"scale(1)"})}),1500))}),[i]);var f={transform:u};return(0,ux.jsxs)(gA.div,{className:"text-white text-center ".concat(a?"":"blur-sm"),style:f,children:[n," ",a&&" - ".concat(r)]})},xA=function(e){var n=e.gameData,r=e.gameRef,i=e.players,a=n.currentRound,o=n.shortId,s=a%i.length,u=i[s].name,c=l((0,t.useState)(null),2),f=c[0],h=c[1],d=l((0,t.useState)(""),2),p=d[0],v=d[1],m=l((0,t.useState)({}),2),g=m[0],y=m[1],b=l((0,t.useState)(0),2),w=b[0],k=b[1],_=l((0,t.useState)(0),2),x=_[0],S=_[1],C=l((0,t.useState)(!1),2),E=C[0],T=C[1];if((0,t.useEffect)((function(){var e=xp(r,"rounds");xv(hv(e,pv("roundNumber","==",a))).then((function(t){if(1===t.size){var n=t.docs[0].id;Tv(Sp(e,n),(function(e){h(e.data())}))}else console.error("Invalid short ID.")}))}),[a,r]),(0,t.useEffect)((function(){f&&f.wordsRevealed&&T(!0)}),[f]),(0,t.useEffect)((function(){if(E){var e=i[w];if(e&&e.foundWords&&x<e.foundWords.length){var t=e.foundWords[x],n=0;if(void 0===g[t]){n=2e3,v(t);var r=i.filter((function(e){return e.foundWords.includes(t)})),a=i.length-r.length,o=t.length*a;r.forEach((function(e){e.score=(e.score||0)+o;var n=e.foundWords.find((function(e){return e===t}));y(Zt(Zt({},g),{},Ze({},n,o)))}))}setTimeout((function(){return S(x+1)}),n)}else setTimeout((function(){v(""),S(0),k(w+1)}),2e3)}}),[E,w,x]),!f)return(0,ux.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,ux.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})});return(0,ux.jsxs)("div",{children:[(0,ux.jsx)(hx,{className:"".concat(i.length<=4?"max-w-screen-lg":"max-w-screen-xl"),gameCode:(0,ux.jsxs)("span",{children:["Game Code:  ",(0,ux.jsx)("span",{className:"text-yellow-500 font-bold uppercase",children:o})]}),round:a,word:function(){var e=f.word;return e?(0,ux.jsxs)("span",{children:["Word:  ",(0,ux.jsx)("span",{className:"text-green-500 font-bold uppercase",children:e})]}):(0,ux.jsxs)("span",{children:["Waiting for ",(0,ux.jsx)("span",{className:"text-green-500 font-bold",children:u})," to choose the word"]})}()}),(0,ux.jsx)("div",{className:"grid grid-cols-4 gap-2 justify-stretch mt-2 mx-auto max-w-screen-xl",children:i.sort((function(e,t){var n,r;return((null===(n=t.foundWords)||void 0===n?void 0:n.length)||0)-((null===(r=e.foundWords)||void 0===r?void 0:r.length)||0)})).map((function(e,t){var n,r;return(0,ux.jsxs)("div",{className:"flex flex-col bg-gray-800 text-gray-200 rounded-lg p-4 m-2 \n                ".concat(t===w?"border-2 border-yellow-600":""),children:[(0,ux.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-700 pb-2 mb-2",children:[(0,ux.jsx)("div",{className:"text-left font-semibold",children:e.name}),(0,ux.jsxs)("div",{className:"text-lg",children:[(null===(n=e.foundWords)||void 0===n?void 0:n.length)||0," words | ",e.score||0," points"]})]}),(0,ux.jsx)("div",{className:"grid grid-cols-2 gap-2",children:null===(r=e.foundWords)||void 0===r?void 0:r.map((function(e,t){var n=g[e],r=p===e,a=void 0!==g[e],o=i.every((function(t){return t.foundWords.some((function(t){return t===e}))}));return(0,ux.jsx)(_A,{word:e,points:n,highlight:r,allPlayersHaveWord:o,isRevealed:a},t)}))})]},t)}))})]})},SA=function(){return(0,ux.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,ux.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})})},CA=function(e){var n=e.small,r=e.height,i=e.width,a=e.data,o=e.strongestPlayer,s=e.strongestPair,u=20,l=20,c=40,f=20,h=4/a.nodes.length+.5,d=(0,t.useRef)();return(0,t.useEffect)((function(){var e=function(){for(var e=a.nodes.reduce((function(e,t){return t.group>e?t.group:e}),0)+1,t=Math.ceil(Math.sqrt(e)),n=Math.ceil(e/t),o=[],s=0;s<n;s++)for(var u=0;u<t&&s*t+u<e;u++)o[s*t+u]={x:(u+1)*i/(t+1),y:(s+1)*r/(n+1)};return o}();qE(d.current).selectAll("*").remove();var t=qE(d.current).attr("width",i+f+l).attr("height",r+u+c).append("g").attr("transform","translate(".concat(f,",").concat(u,")")),p=n?25:30*h,v=a.topScore;function m(e){return Math.pow((e-0)/(v-0),1)}var g=function(e){var t=m(e.value);return(n?25:30*h)*t},y=(n?-500:-2e3*h)/Object.keys(e).length;var b=function(e){return e.source.id===s.source&&e.target.id===s.target||e.source.id===s.target&&e.target.id===s.source},w=function(t){if(1===e.length)return t.id===o?1:.1;var n,r=a.nodes.filter((function(e){return e.group===t.group})).map((function(e){return e.id})),i=a.links.filter((function(e){return r.includes(e.source.id)||r.includes(e.target.id)})),s={},u=I(i);try{for(u.s();!(n=u.n()).done;){var l=n.value;s[l.source.id]?s[l.source.id]+=l.value:s[l.source.id]=l.value}}catch(f){u.e(f)}finally{u.f()}var c=Object.entries(s).sort((function(e,t){return t[1]-e[1]}))[0];return 0===i.length||c[0]===t.id?1:.1},k=kT(a.nodes).force("link",function(e){var t,n,r,i,a,o,s=vT,u=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},l=cT(30),c=1;function f(r){for(var i=0,s=e.length;i<c;++i)for(var u,l,f,h,d,p,v,m=0;m<s;++m)l=(u=e[m]).source,h=(f=u.target).x+f.vx-l.x-l.vx||fT(o),d=f.y+f.vy-l.y-l.vy||fT(o),h*=p=((p=Math.sqrt(h*h+d*d))-n[m])/p*r*t[m],d*=p,f.vx-=h*(v=a[m]),f.vy-=d*v,l.vx+=h*(v=1-v),l.vy+=d*v}function h(){if(r){var o,u,l=r.length,c=e.length,f=new Map(r.map((function(e,t){return[s(e,t,r),e]})));for(o=0,i=new Array(l);o<c;++o)(u=e[o]).index=o,"object"!==typeof u.source&&(u.source=mT(f,u.source)),"object"!==typeof u.target&&(u.target=mT(f,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(o=0,a=new Array(c);o<c;++o)u=e[o],a[o]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);t=new Array(c),d(),n=new Array(c),p()}}function d(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+u(e[n],n,e)}function p(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+l(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,t){r=e,o=t,h()},f.links=function(t){return arguments.length?(e=t,h(),f):e},f.id=function(e){return arguments.length?(s=e,f):s},f.iterations=function(e){return arguments.length?(c=+e,f):c},f.strength=function(e){return arguments.length?(u="function"===typeof e?e:cT(+e),d(),f):u},f.distance=function(e){return arguments.length?(l="function"===typeof e?e:cT(+e),p(),f):l},f}(a.links).id((function(e){return e.id})).distance((function(e){var t=m(e.value);return(n?30:40*h)*(1/t)})).strength(1)).force("charge",function(){var e,t,n,r,i,a=cT(-30),o=1,s=1/0,u=.81;function l(n){var i,a=e.length,o=oT(e,yT,bT).visitAfter(f);for(r=n,i=0;i<a;++i)t=e[i],o.visit(h)}function c(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+a(n,t,e)}}function f(e){var t,n,r,a,o,s=0,u=0;if(e.length){for(r=a=o=0;o<4;++o)(t=e[o])&&(n=Math.abs(t.value))&&(s+=t.value,u+=n,r+=n*t.x,a+=n*t.y);e.x=r/u,e.y=a/u}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=i[t.data.index]}while(t=t.next)}e.value=s}function h(e,a,l,c){if(!e.value)return!0;var f=e.x-t.x,h=e.y-t.y,d=c-a,p=f*f+h*h;if(d*d/u<p)return p<s&&(0===f&&(p+=(f=fT(n))*f),0===h&&(p+=(h=fT(n))*h),p<o&&(p=Math.sqrt(o*p)),t.vx+=f*e.value*r/p,t.vy+=h*e.value*r/p),!0;if(!(e.length||p>=s)){(e.data!==t||e.next)&&(0===f&&(p+=(f=fT(n))*f),0===h&&(p+=(h=fT(n))*h),p<o&&(p=Math.sqrt(o*p)));do{e.data!==t&&(d=i[e.data.index]*r/p,t.vx+=f*d,t.vy+=h*d)}while(e=e.next)}}return l.initialize=function(t,r){e=t,n=r,c()},l.strength=function(e){return arguments.length?(a="function"===typeof e?e:cT(+e),c(),l):a},l.distanceMin=function(e){return arguments.length?(o=e*e,l):Math.sqrt(o)},l.distanceMax=function(e){return arguments.length?(s=e*e,l):Math.sqrt(s)},l.theta=function(e){return arguments.length?(u=e*e,l):Math.sqrt(u)},l}().strength(y)).force("x",_T().x((function(t){return e[t.group].x})).strength(w)).force("y",xT().y((function(t){return e[t.group].y})).strength(w)).force("collide",pT(1.5*p)).alphaDecay(.01).velocityDecay(.5),_=t.append("g").attr("stroke-opacity",.6).selectAll("line").data(a.links).join("line").attr("stroke",(function(e){return b(e)?"darkgreen":"#bbb"})).attr("stroke-width",(function(e){return b(e),g(e)})),x=t.append("g").selectAll("circle").data(a.nodes).join("circle").attr("r",(function(e){return e.id===o?p+8:p})).attr("fill",(function(e){return Q_[e.group]})).attr("stroke-width",(function(e){return e.id===o?8:2})).attr("stroke",(function(e){return e.id===o?"gold":"#2c3e50"})).call(function(e){return tT().on("start",(function(t){t.active||e.alphaTarget(.3).restart(),t.subject.fx=t.subject.x,t.subject.fy=t.subject.y})).on("drag",(function(e){e.subject.fx=e.x,e.subject.fy=e.y})).on("end",(function(t){t.active||e.alphaTarget(0),t.subject.fx=null,t.subject.fy=null}))}(k)),S=t.append("g").attr("class","labels").selectAll("text").data(a.nodes).join("text").text((function(e){return e.id})).attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y+1})).attr("text-anchor","middle").attr("dominant-baseline","middle").style("fill",(function(e){return sx(Q_[e.group])})).style("font-size",(function(e){return(n?18:20*h)-e.id.length+"px"})).style("font-weight","bold");k.on("tick",(function(){!function(){a.nodes.length;var e,t=0,n=0;if(a.nodes.forEach((function(a){var o=Math.sqrt((i/2-a.x)*(i/2-a.x)+(r/2-a.y)*(r/2-a.y));o>t&&(n=t,t=o,e=a)})),Math.abs(t-n)>10){var o=i/2-e.x,s=r/2-e.y;a.nodes.forEach((function(e){e.vx+=.001*o,e.vy+=.001*s}))}}(),x.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})),S.attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})),_.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y}))}))}),[a]),(0,ux.jsx)("svg",{ref:d})};var EA=function(e){var n=e.gameData,r=e.gameRef,i=l((0,t.useState)(null),2),a=i[0],o=i[1],s=l((0,t.useState)({nodes:[],links:[]}),2),u=s[0],c=s[1],f=l((0,t.useState)(null),2),h=f[0],d=f[1],v=l((0,t.useState)(null),2),m=v[0],g=v[1];if(Math.floor(10*Math.random()),(0,t.useEffect)((function(){var e=xp(r,"rounds");xv(hv(e,pv("roundNumber","==",n.gameLength))).then((function(t){if(1===t.size){var n=t.docs[0].id;Tv(Sp(e,n),(function(e){o(e.data())}))}else console.error("Invalid short ID.")}))}),[n.gameLength,r]),(0,t.useEffect)((function(){if(a&&Number.isInteger(a.connectionThreshold)){false;var e={nodes:[],links:[]},t={},n=function e(n,r){if(!Object.hasOwn(t,r.name)){t[r.name]=n;for(var i=function(){var t=l(s[o],2),r=t[0],i=t[1],u=a.players.find((function(e){return e.name===r}));i>a.connectionThreshold&&e(n,u)},o=0,s=Object.entries(r.connections);o<s.length;o++)i()}};!function(){var r=0;n(r,a.players[0]);for(var i=1;i<a.players.length;i++){var o=a.players[i];Object.hasOwn(t,o.name)||(r++,n(r,o))}for(var s=0,u=Object.entries(t);s<u.length;s++){var c=l(u[s],2),f=c[0],h=c[1];e.nodes.push({id:f,group:h})}}();!function(){for(var t=0;t<a.players.length;t++)for(var n=a.players[t],r=t+1;r<a.players.length;r++){var i=n.connections[a.players[r].name];i>a.connectionThreshold&&e.links.push({source:n.name,target:a.players[r].name,value:i})}}();var r=a.connectionScores[a.connectionScores.length-1];e.topScore=r,c(e);var i=p(a.players).sort((function(e,t){return t.gameScore-e.gameScore}))[0];d(i),g(Object.values(i.connections).filter((function(e){return e>a.connectionThreshold})).length)}}),[a]),!n||!a||!h)return(0,ux.jsx)(SA,{});p(a.players).sort((function(e,t){return t.roundScore-e.roundScore}));var y=0,b={};!function(){for(var e=0;e<a.players.length;e++)for(var t=a.players[e],n=0,r=Object.entries(t.connections);n<r.length;n++){var i=l(r[n],2),o=i[0],s=i[1];s,s>y&&(y=s,b={source:t.name,target:o,value:s})}}();var w=20*a.players.length+320;return(0,ux.jsx)("div",{children:h&&Number.isInteger(m)&&(0,ux.jsxs)("div",{children:[(0,ux.jsx)(hx,{className:"max-w-screen-md"}),(0,ux.jsxs)("div",{className:"max-w-screen-md mx-auto mt-3",children:[(0,ux.jsxs)("div",{className:"text-center mb-4 p-4 bg-gray-800 text-gray-200 rounded-lg",children:[(0,ux.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Game Summary"}),(0,ux.jsxs)("p",{className:"text-2xl",children:[(0,ux.jsx)("span",{className:"font-bold text-yellow-400",children:h.name})," had the most in common with everyone!"]}),(0,ux.jsxs)("p",{className:"text-2xl",children:[(0,ux.jsx)("span",{className:"font-bold text-green-500",children:b.source})," & ",(0,ux.jsx)("span",{className:"font-bold text-green-500",children:b.target})," had the most in common with each other!"]})]}),(0,ux.jsxs)("div",{className:"flex justify-around",children:[!1,(0,ux.jsx)("div",{className:"bg-gray-100 border border-4 border-gray-800 rounded-lg",children:(0,ux.jsx)(CA,{width:724,height:w,data:u,strongestPlayer:h.name,strongestPair:b})})]})]})]})})},TA=function(){var e=l((0,t.useState)(null),2),n=e[0],r=e[1],i=l((0,t.useState)(null),2),a=i[0],o=i[1],s=l((0,t.useState)([]),2),u=s[0],c=s[1],f=be().shortId;if((0,t.useEffect)((function(){xv(hv(xp(H_,"games"),pv("shortId","==",f))).then((function(e){if(1===e.size){var t=e.docs[0].id,n=Sp(H_,"games",t);o(n),Tv(n,(function(e){r(e.data())}))}else console.error("Invalid short ID.")}))}),[f]),(0,t.useEffect)((function(){if(a){var e=Tv(hv(xp(a,"players"),mv("joinedAt","asc")),(function(e){c((function(t){var n=new Map(t.map((function(e){return[e.id,e]})));e.docs.forEach((function(e){var t=Zt({id:e.id},e.data()),r=n.get(e.id);r&&JSON.stringify(r)===JSON.stringify(t)||n.set(e.id,t)}));var r=new Set(e.docs.map((function(e){return e.id})));return n.forEach((function(e,t){r.has(t)||n.delete(t)})),Array.from(n.values())}))}));return function(){return e()}}}),[a]),!n)return(0,ux.jsx)(SA,{});return(0,ux.jsx)("div",{children:function(){var e=n.deckType,t=n.indexDeck,r=n.gameState,i=n.gameType;if("setup"===r)return(0,ux.jsx)(TT,{gameData:n,gameRef:a,players:u});if("buildDeck"===r)return(0,ux.jsx)(NT,{gameData:n,gameRef:a,players:u});if("started"===r){if("Incommon"===i)return(0,ux.jsx)(kA,{deck:ex(t,e),gameData:n,gameRef:a,players:u});if("Out of Words, Words"===i)return(0,ux.jsx)(xA,{gameData:n,gameRef:a,players:u})}return"ended"===r?(0,ux.jsx)(EA,{deck:ex(t,e),gameData:n,gameRef:a,players:u}):(0,ux.jsx)("div",{children:"Something went wrong"})}()})};function NA(e,t,n){return Math.max(t,Math.min(e,n))}var IA=function(e,t){return void 0===e&&(e=t),Array.isArray(e)?e:[e,e]},jA=function(e,t){return[e[0]+t[0],e[1]+t[1]]},AA=function(e,t){return[e[0]-t[0],e[1]-t[1]]},RA=function(e,t){e[0]+=t[0],e[1]+=t[1]};function DA(e,t,n){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*n):e*t*n/(t+n*e)}function PA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.15;return 0===r?NA(e,t,n):e<t?-DA(t-e,n-t,r)+t:e>n?+DA(e-n,n-t,r)+n:e}function OA(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function MA(e,t,n){return(t=OA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LA(Object(n),!0).forEach((function(t){MA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var FA={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function BA(e){return e?e[0].toUpperCase()+e.slice(1):""}var zA=["enter","leave"];function VA(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return e&&!zA.includes(t)}function qA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=FA[e],i=r&&r[t]||t;return"on"+BA(e)+BA(i)+(VA(n,i)?"Capture":"")}var WA=["gotpointercapture","lostpointercapture"];function HA(e){var t=e.substring(2).toLowerCase(),n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));var r=WA.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function KA(e){return"touches"in e}function GA(e){return KA(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function QA(e){return KA(e)?function(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function JA(e){return function(e){return Array.from(e.touches).filter((function(t){var n,r;return t.target===e.currentTarget||(null===(n=e.currentTarget)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,t.target))}))}(e).map((function(e){return e.identifier}))}function $A(e){var t=QA(e);return KA(e)?t.identifier:t.pointerId}function YA(e){var t=QA(e);return[t.clientX,t.clientY]}function XA(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function ZA(){}function eR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?ZA:1===t.length?t[0]:function(){var e,n,r=I(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e=i.apply(this,arguments)||e}}catch(a){r.e(a)}finally{r.f()}return e}}function tR(e,t){return Object.assign({},t,e||{})}var nR=function(){function e(t,n,r){v(this,e),this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}return g(e,[{key:"state",get:function(){return this.ctrl.state[this.key]},set:function(e){this.ctrl.state[this.key]=e}},{key:"shared",get:function(){return this.ctrl.state.shared}},{key:"eventStore",get:function(){return this.ctrl.gestureEventStores[this.key]}},{key:"timeoutStore",get:function(){return this.ctrl.gestureTimeoutStores[this.key]}},{key:"config",get:function(){return this.ctrl.config[this.key]}},{key:"sharedConfig",get:function(){return this.ctrl.config.shared}},{key:"handler",get:function(){return this.ctrl.handlers[this.key]}},{key:"reset",value:function(){var e=this.state,t=this.shared,n=this.ingKey,r=this.args;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}},{key:"start",value:function(e){var t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?XA(n.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}},{key:"computeValues",value:function(e){var t=this.state;t._values=e,t.values=this.config.transform(e)}},{key:"computeInitial",value:function(){var e=this.state;e._initial=e._values,e.initial=e.values}},{key:"compute",value:function(e){var t=this.state,n=this.config,r=this.shared;t.args=this.args;var i=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,function(e){var t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){var n=e.shiftKey,r=e.altKey,i=e.metaKey,a=e.ctrlKey;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:a})}return t}(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,i=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){var a=t._delta.map(Math.abs);RA(t._distance,a)}this.axisIntent&&this.axisIntent(e);var o=l(t._movement,2),s=o[0],u=o[1],c=l(n.threshold,2),f=c[0],h=c[1],d=t._step,p=t.values;if(n.hasCustomTransform?(!1===d[0]&&(d[0]=Math.abs(s)>=f&&p[0]),!1===d[1]&&(d[1]=Math.abs(u)>=h&&p[1])):(!1===d[0]&&(d[0]=Math.abs(s)>=f&&Math.sign(s)*f),!1===d[1]&&(d[1]=Math.abs(u)>=h&&Math.sign(u)*h)),t.intentional=!1!==d[0]||!1!==d[1],t.intentional){var v=[0,0];if(n.hasCustomTransform){var m=l(p,2),g=m[0],y=m[1];v[0]=!1!==d[0]?g-d[0]:0,v[1]=!1!==d[1]?y-d[1]:0}else v[0]=!1!==d[0]?s-d[0]:0,v[1]=!1!==d[1]?u-d[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(v);var b=t.offset,w=t._active&&!t._blocked||t.active;w&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in n&&(t._bounds=XA(n.bounds,t)),this.setup&&this.setup()),t.movement=v,this.computeOffset()));var k=l(t.offset,2),_=k[0],x=k[1],S=l(t._bounds,2),C=l(S[0],2),E=C[0],T=C[1],N=l(S[1],2),I=N[0],j=N[1];t.overflow=[_<E?-1:_>T?1:0,x<I?-1:x>j?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);var A=t._active&&n.rubberband||[0,0];if(t.offset=function(e,t,n){var r=l(t,2),i=r[0],a=r[1],o=l(n,2),s=o[0],u=o[1],c=l(e,2),f=l(c[0],2),h=f[0],d=f[1],p=l(c[1],2),v=p[0],m=p[1];return[PA(i,h,d,s),PA(a,v,m,u)]}(t._bounds,t.offset,A),t.delta=AA(t.offset,b),this.computeMovement(),w&&(!t.last||i>32)){t.delta=AA(t.offset,b);var R=t.delta.map(Math.abs);RA(t.distance,R),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&i>0&&(t.velocity=[R[0]/i,R[1]/i],t.timeDelta=i)}}}},{key:"emit",value:function(){var e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),!e._blocked&&e.intentional||e._force||n.triggerAllEvents){var r=this.handler(UA(UA(UA({},t),e),{},Ze({},this.aliasKey,e.values)));void 0!==r&&(e.memo=r)}}},{key:"clean",value:function(){this.eventStore.clean(),this.timeoutStore.clean()}}]),e}();var rR=function(e){b(n,e);var t=C(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return MA(x(e=t.call.apply(t,[this].concat(i))),"aliasKey","xy"),e}return g(n,[{key:"reset",value:function(){Xe(w(n.prototype),"reset",this).call(this),this.state.axis=void 0}},{key:"init",value:function(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}},{key:"computeOffset",value:function(){this.state.offset=jA(this.state.lastOffset,this.state.movement)}},{key:"computeMovement",value:function(){this.state.movement=AA(this.state.offset,this.state.lastOffset)}},{key:"axisIntent",value:function(e){var t=this.state,n=this.config;if(!t.axis&&e){var r="object"===typeof n.axisThreshold?n.axisThreshold[GA(e)]:n.axisThreshold;t.axis=function(e,t){var n=l(e,2),r=n[0],i=n[1],a=Math.abs(r),o=Math.abs(i);return a>o&&a>t?"x":o>a&&o>t?"y":void 0}(t._movement,r)}t._blocked=(n.lockDirection||!!n.axis)&&!t.axis||!!n.axis&&n.axis!==t.axis}},{key:"restrictToAxis",value:function(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}]),n}(nR),iR=function(e){return e},aR=.15,oR={enabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},eventOptions:function(e,t,n){return UA(UA({},n.shared.eventOptions),e)},preventDefault:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},triggerAllEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},rubberband:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return[aR,aR];case!1:return[0,0];default:return IA(e)}},from:function(e){return"function"===typeof e?e:null!=e?IA(e):void 0},transform:function(e,t,n){var r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||iR},threshold:function(e){return IA(e,0)}};var sR=UA(UA({},oR),{},{axis:function(e,t,n){var r=n.axis;if(this.lockDirection="lock"===r,!this.lockDirection)return r},axisThreshold:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e},bounds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"===typeof e)return function(t){return sR.bounds(e(t))};if("current"in e)return function(){return e.current};if("function"===typeof HTMLElement&&e instanceof HTMLElement)return e;var t=e.left,n=void 0===t?-1/0:t,r=e.right,i=void 0===r?1/0:r,a=e.top,o=void 0===a?-1/0:a,s=e.bottom,u=void 0===s?1/0:s;return[[n,i],[o,u]]}}),uR={ArrowRight:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[e*t,0]},ArrowLeft:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[-1*e*t,0]},ArrowUp:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[0,-1*e*t]},ArrowDown:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[0,e*t]}},lR=function(e){b(n,e);var t=C(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return MA(x(e=t.call.apply(t,[this].concat(i))),"ingKey","dragging"),e}return g(n,[{key:"reset",value:function(){Xe(w(n.prototype),"reset",this).call(this);var e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}},{key:"setup",value:function(){var e=this.state;if(e._bounds instanceof HTMLElement){var t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),r={left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]};e._bounds=sR.bounds(r)}}},{key:"cancel",value:function(){var e=this,t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout((function(){e.compute(),e.emit()}),0))}},{key:"setActive",value:function(){this.state._active=this.state._pointerActive||this.state._keyboardActive}},{key:"clean",value:function(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,Xe(w(n.prototype),"clean",this).call(this)}},{key:"pointerDown",value:function(e){var t=this.config,n=this.state;if(null==e.buttons||(Array.isArray(t.pointerButtons)?t.pointerButtons.includes(e.buttons):-1===t.pointerButtons||t.pointerButtons===e.buttons)){var r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),r&&r.size>1&&n._pointerActive||(this.start(e),this.setupPointer(e),n._pointerId=$A(e),n._pointerActive=!0,this.computeValues(YA(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==GA(e)?(n._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}}},{key:"startPointerDrag",value:function(e){var t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}},{key:"pointerMove",value:function(e){var t=this.state,n=this.config;if(t._pointerActive){var r=$A(e);if(void 0===t._pointerId||r===t._pointerId){var i=YA(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=AA(i,t._values),this.computeValues(i)),RA(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):n.preventScrollAxis&&!t._preventScroll?t.axis?t.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}}}},{key:"pointerUp",value:function(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(x){0}var t=this.state,n=this.config;if(t._active&&t._pointerActive){var r=$A(e);if(void 0===t._pointerId||r===t._pointerId){this.state._pointerActive=!1,this.setActive(),this.compute(e);var i=l(t._distance,2),a=i[0],o=i[1];if(t.tap=a<=n.tapsThreshold&&o<=n.tapsThreshold,t.tap&&n.filterTaps)t._force=!0;else{var s=l(t._delta,2),u=s[0],c=s[1],f=l(t._movement,2),h=f[0],d=f[1],p=l(n.swipe.velocity,2),v=p[0],m=p[1],g=l(n.swipe.distance,2),y=g[0],b=g[1],w=n.swipe.duration;if(t.elapsedTime<w){var k=Math.abs(u/t.timeDelta),_=Math.abs(c/t.timeDelta);k>v&&Math.abs(h)>y&&(t.swipe[0]=Math.sign(u)),_>m&&Math.abs(d)>b&&(t.swipe[1]=Math.sign(c))}}this.emit()}}}},{key:"pointerClick",value:function(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}},{key:"setupPointer",value:function(e){var t=this.config,n=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}},{key:"pointerClean",value:function(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}},{key:"preventScroll",value:function(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}},{key:"setupScrollPrevention",value:function(e){this.state._preventScroll=!1,function(e){"persist"in e&&"function"===typeof e.persist&&e.persist()}(e);var t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}},{key:"setupDelayTrigger",value:function(e){var t=this;this.state._delayed=!0,this.timeoutStore.add("dragDelay",(function(){t.state._step=[0,0],t.startPointerDrag(e)}),this.config.delay)}},{key:"keyDown",value:function(e){var t=uR[e.key];if(t){var n=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=t(this.config.keyboardDisplacement,r),n._keyboardActive=!0,RA(n._movement,n._delta),this.compute(e),this.emit()}}},{key:"keyUp",value:function(e){e.key in uR&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}},{key:"bind",value:function(e){var t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}]),n}(rR);var cR="undefined"!==typeof window&&window.document&&window.document.createElement;function fR(){return cR&&"ontouchstart"in window||cR&&window.navigator.maxTouchPoints>1}var hR={isBrowser:cR,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:fR(),touchscreen:fR(),pointer:cR&&"onpointerdown"in window,pointerLock:cR&&"exitPointerLock"in window.document},dR={mouse:0,touch:0,pen:8},pR=UA(UA({},sR),{},{device:function(e,t,n){var r=n.pointer,i=(r=void 0===r?{}:r).touch,a=void 0!==i&&i,o=r.lock,s=void 0!==o&&o,u=r.mouse,l=void 0!==u&&u;return this.pointerLock=s&&hR.pointerLock,hR.touch&&a?"touch":this.pointerLock?"mouse":hR.pointer&&!l?"pointer":hR.touch?"touch":"mouse"},preventScrollAxis:function(e,t,n){var r=n.preventScroll;if(this.preventScrollDelay="number"===typeof r?r:r||void 0===r&&e?250:void 0,hR.touchscreen&&!1!==r)return e||(void 0!==r?"y":void 0)},pointerCapture:function(e,t,n){var r=n.pointer,i=(r=void 0===r?{}:r).capture,a=void 0===i||i,o=r.buttons,s=void 0===o?1:o,u=r.keys,l=void 0===u||u;return this.pointerButtons=s,this.keys=l,!this.pointerLock&&"pointer"===this.device&&a},threshold:function(e,t,n){var r=n.filterTaps,i=void 0!==r&&r,a=n.tapsThreshold,o=void 0===a?3:a,s=n.axis,u=IA(e,i?o:(void 0===s?void 0:s)?1:0);return this.filterTaps=i,this.tapsThreshold=o,u},swipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.velocity,n=void 0===t?.5:t,r=e.distance,i=void 0===r?50:r,a=e.duration,o=void 0===a?250:a;return{velocity:this.transform(IA(n)),distance:this.transform(IA(i)),duration:o}},delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:function(e){return e?UA(UA({},dR),e):dR},keyboardDisplacement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return e}});UA(UA({},oR),{},{device:function(e,t,n){var r=n.shared,i=n.pointer,a=(i=void 0===i?{}:i).touch,o=void 0!==a&&a;if(r.target&&!hR.touch&&hR.gesture)return"gesture";if(hR.touch&&o)return"touch";if(hR.touchscreen){if(hR.pointer)return"pointer";if(hR.touch)return"touch"}},bounds:function(e,t,n){var r=n.scaleBounds,i=void 0===r?{}:r,a=n.angleBounds,o=void 0===a?{}:a,s=function(e){var t=tR(XA(i,e),{min:-1/0,max:1/0});return[t.min,t.max]},u=function(e){var t=tR(XA(o,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!==typeof i&&"function"!==typeof o?[s(),u()]:function(e){return[s(e),u(e)]}},threshold:function(e,t,n){this.lockDirection="lock"===n.axis;var r=IA(e,this.lockDirection?[.1,3]:0);return r},modifierKey:function(e){return void 0===e?"ctrlKey":e},pinchOnWheel:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}}),UA(UA({},sR),{},{mouseOnly:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}}),UA(UA({},sR),{},{mouseOnly:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}});var vR=new Map,mR=new Map;var gR={key:"drag",engine:lR,resolver:pR};function yR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var bR={target:function(e){if(e)return function(){return"current"in e?e.current:e}},enabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},window:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hR.isBrowser?window:void 0;return e})),eventOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.passive,n=void 0===t||t,r=e.capture,i=void 0!==r&&r;return{passive:n,capture:i}},transform:function(e){return e}},wR=["target","eventOptions","window","enabled","transform"];function kR(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={},r=0,i=Object.entries(t);r<i.length;r++){var a=l(i[r],2),o=a[0],s=a[1];switch(typeof s){case"function":n[o]=s.call(n,e[o],o,e);break;case"object":n[o]=kR(e[o],s);break;case"boolean":s&&(n[o]=e[o])}}return n}var _R=function(){function e(t,n){v(this,e),MA(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}return g(e,[{key:"add",value:function(e,t,n,r,i){var a=this._listeners,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=FA[e],r=n&&n[t]||t;return e+r}(t,n),s=UA(UA({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),i);e.addEventListener(o,r,s);var u=function t(){e.removeEventListener(o,r,s),a.delete(t)};return a.add(u),u}},{key:"clean",value:function(){this._listeners.forEach((function(e){return e()})),this._listeners.clear()}}]),e}(),xR=function(){function e(){v(this,e),MA(this,"_timeouts",new Map)}return g(e,[{key:"add",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:140;this.remove(e);for(var i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];this._timeouts.set(e,(n=window).setTimeout.apply(n,[t,r].concat(a)))}},{key:"remove",value:function(e){var t=this._timeouts.get(e);t&&window.clearTimeout(t)}},{key:"clean",value:function(){this._timeouts.forEach((function(e){window.clearTimeout(e)})),this._timeouts.clear()}}]),e}(),SR=function(){function e(t){v(this,e),MA(this,"gestures",new Set),MA(this,"_targetEventStore",new _R(this)),MA(this,"gestureEventStores",{}),MA(this,"gestureTimeoutStores",{}),MA(this,"handlers",{}),MA(this,"config",{}),MA(this,"pointerIds",new Set),MA(this,"touchIds",new Set),MA(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&CR(e,"drag");t.wheel&&CR(e,"wheel");t.scroll&&CR(e,"scroll");t.move&&CR(e,"move");t.pinch&&CR(e,"pinch");t.hover&&CR(e,"hover")}(this,t)}return g(e,[{key:"setEventIds",value:function(e){return KA(e)?(this.touchIds=new Set(JA(e)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}},{key:"applyHandlers",value:function(e,t){this.handlers=e,this.nativeHandlers=t}},{key:"applyConfig",value:function(e,t){this.config=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e,i=r.target,a=r.eventOptions,o=r.window,s=r.enabled,u=r.transform,l=yR(r,wR);if(n.shared=kR({target:i,eventOptions:a,window:o,enabled:s,transform:u},bR),t){var c=mR.get(t);n[t]=kR(UA({shared:n.shared},l),c)}else for(var f in l){var h=mR.get(f);h&&(n[f]=kR(UA({shared:n.shared},l[f]),h))}return n}(e,t,this.config)}},{key:"clean",value:function(){this._targetEventStore.clean();var e,t=I(this.gestures);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.gestureEventStores[n].clean(),this.gestureTimeoutStores[n].clean()}}catch(r){t.e(r)}finally{t.f()}}},{key:"effect",value:function(){var e=this;return this.config.shared.target&&this.bind(),function(){return e._targetEventStore.clean()}}},{key:"bind",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,a=this.config.shared,o={};if(!a.target||(i=a.target())){if(a.enabled){var s,u=I(this.gestures);try{for(u.s();!(s=u.n()).done;){var l=s.value,c=this.config[l],f=ER(o,c.eventOptions,!!i);if(c.enabled){var h=vR.get(l);new h(this,n,l).bind(f)}}}catch(x){u.e(x)}finally{u.f()}var d=ER(o,a.eventOptions,!!i),v=function(t){d(t,"",(function(r){return e.nativeHandlers[t](UA(UA({},e.state.shared),{},{event:r,args:n}))}),void 0,!0)};for(var m in this.nativeHandlers)v(m)}for(var g in o)o[g]=eR.apply(void 0,p(o[g]));if(!i)return o;for(var y in o){var b=HA(y),w=b.device,k=b.capture,_=b.passive;this._targetEventStore.add(i,w,"",o[y],{capture:k,passive:_})}}}}]),e}();function CR(e,t){e.gestures.add(t),e.gestureEventStores[t]=new _R(e,t),e.gestureTimeoutStores[t]=new xR}var ER=function(e,t,n){return function(r,i,a){var o,s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=null!==(o=u.capture)&&void 0!==o?o:t.capture,f=null!==(s=u.passive)&&void 0!==s?s:t.passive,h=l?r:qA(r,i,c);n&&f&&(h+="Passive"),e[h]=e[h]||[],e[h].push(a)}};function TR(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=t.useMemo((function(){return new SR(e)}),[]);if(a.applyHandlers(e,i),a.applyConfig(n,r),t.useEffect(a.effect.bind(a)),t.useEffect((function(){return a.clean.bind(a)}),[]),void 0===n.target)return a.bind.bind(a)}function NR(e,t){var n;return n=gR,vR.set(n.key,n.engine),mR.set(n.key,n.resolver),TR({drag:e},t||{},"drag")}var IR=900,jR=-193,AR=263,RR=p(Array(32)).map((function(){return"ready"}));var DR=function(e){var n=e.deck,r=e.handleSelectCards,i=e.gameData,a=l((0,t.useState)(!1),2),o=a[0],s=a[1],u=l((0,t.useState)(null),2),c=u[0],f=u[1],h=l((0,t.useState)([]),2),d=h[0],v=h[1],m=l((0,t.useState)(new Set),2),g=m[0],y=m[1],b=i.numCards,w=(0,t.useRef)([]);(0,t.useEffect)((function(){w.current=Array.from({length:b},(function(){return(0,t.createRef)()}))}),[]),(0,t.useEffect)((function(){RR=p(Array(32)).map((function(){return"ready"})),v([])}),[i.currentRound]);var k=Jj({from:{y:-1e3},to:{y:o?0:-1e3},config:{tension:200,friction:20}}),_=function(e){var t=RR[e].startsWith("box"),n="ready"===RR[e],r="marked"===RR[e],i={width:130,height:190,scale:1,rot:6*Math.random()-3,delay:10*e};return Zt(Zt({},i),{},o?t?{zIndex:1e3}:n?{x:0,y:0}:{x:0,y:-1e3}:t?{y:-1e3}:r?{x:0,y:AR,zIndex:IR-e}:{x:0,y:0,zIndex:e})},x=function(e,t){return"rotateY(".concat(e/10,"deg) rotateZ(").concat(e,"deg) scale(").concat(t,")")},S=function(){return"scale(1)"},C=l(Qj(RR.length,(function(e){return Zt(Zt({},_(e)),{},{from:{x:0,rot:0,scale:1,y:-1e3}})})),2),E=C[0],T=C[1];function N(){if(s(!o),o){for(var e=0;e<RR.length;e++)if("deck"===RR[e])RR[e]="ready";else if("ready"===RR[e]||"reviewed"===RR[e]){RR[e]="marked";var t=new Set(g);t.add(e),y(t)}}else{for(var n=0;n<RR.length;n++)if("reviewed"===RR[n]||"ready"===RR[n])RR[n]="deck";else if("marked"===RR[n]){RR[n]="ready";var r=new Set(g);r.delete(n),y(r)}var i=p(d);i[b]="placeholder"+Math.random(),v(i)}}(0,t.useEffect)((function(){T.start((function(e){return Zt({},_(e))}))}),[o,T]);var I=function(e){if(e===b)return{bx:0,by:0};var t=w.current[e].current;return{bx:t.offsetLeft+-235,by:t.offsetTop+166}},j=function(){for(var e=0;e<b;e++)if(!Number.isInteger(d[e]))return!1;return!0};(0,t.useEffect)((function(){T.start((function(e){var t=RR.filter((function(e){return"ready"===e})).length,n=d.findIndex((function(t){return t===e}));if(-1!==n){if(n===b){var r=p(d);r[b]=void 0,v(r)}var i=I(n);return{x:i.bx,y:i.by,scale:1,rot:0,zIndex:n===b?t+IR:1e3}}return{}}))}),[d,T]);var A=function e(t,n,r){if(n>4)RR[t]="ready",r[n]=t;else{var i=r[n];r[n]=t,RR[t]="box"+n,Number.isInteger(i)&&e(i,n+1,r)}},R=NR((function(e){var t=l(e.args,1)[0],n=e.active,r=l(e.xy,2),i=r[0],a=r[1],s=l(e.movement,2),u=s[0],h=s[1],m=l(e.offset,2),b=(m[0],m[1],l(e.direction,2)),k=(b[0],b[1],l(e.velocity,2)),_=k[0],x=k[1],S=RR[t];if(console.log({state:RR[t],mx:u,my:h}),"ready"===S?h>80&&!o?RR[t]="readyToMarked":u<-80&&(RR[t]="toReviewed"):"reviewed"===S?h>60&&!o?RR[t]="reviewedToMarked":u>80&&(RR[t]="toReady"):"marked"===S&&h<-80&&!o&&(RR[t]="markedToReady"),n){var C=!1,E={width:90,height:160,x:i,y:a};w.current.forEach((function(e,t){if(e.current){var n=e.current.getBoundingClientRect();E.x+-85<n.right&&E.x+-85+E.width>n.left&&E.y+-150<n.bottom&&E.y+-150+E.height>n.top&&(f(t),C=!0)}})),C||f(null)}if(!n){if(Number.isInteger(c)&&Number.isInteger(t)){console.log({hoveredBox:c,index:t});var N=p(d),j=N.findIndex((function(e){return e===t}));-1!==j&&(N[j]=null);var R=N[c];Number.isInteger(R)&&A(R,c+1,N),N[c]=t,v(N),RR[t]="box"+c}f(null)}T.start((function(e){if(t===e){S=RR[e];var r=u,i=h,s=2e3,l=RR.filter((function(e){return"ready"===e})).length,f=RR.filter((function(e){return"reviewed"===e})).length,m=RR.filter((function(e){return"marked"===e})).length;switch(S){case"ready":n||(r=0,i=0,s=l+IR);break;case"toReviewed":n||(r=jR,i=0,s=f+IR,RR[e]="reviewed");break;case"reviewed":n?r=u+jR:(r=jR,i=0,s=f+IR);break;case"toReady":n?r=u+jR:(r=0,i=0,s=l+IR,RR[e]="ready")}if(o){if(S.startsWith("box")){var b=parseInt(S.charAt(3)),w=I(b),k=w.bx,C=w.by;if(n)r=u+k,i=h+C;else if(!Number.isInteger(c)){console.log({y:a}),r=0,i=0,s=l+IR,RR[e]="ready";var E=p(d);E[b]=null,v(E)}}}else switch(S){case"readyToMarked":if(!n){r=0,i=AR,s=m+IR,RR[e]="marked";var T=new Set(g);T.add(e),y(T)}break;case"reviewedToMarked":if(n)r=u+jR;else{r=0,i=AR,s=m+IR,RR[e]="marked";var N=new Set(g);N.add(e),y(N)}break;case"markedToReady":if(n)i=h+AR;else{r=0,i=0,s=l+IR,RR[e]="ready";var j=new Set(g);j.delete(e),y(j)}break;case"marked":n?(r=u,i=h+AR):(r=0,i=AR,s=m+IR)}return{x:r,y:i,zIndex:s,vx:_,vy:x,scale:n?1.3:1,delay:0,config:{friction:40,tension:400,mass:1},immediate:function(e){return"zIndex"===e&&n}}}}))})),D=(0,ux.jsxs)("div",{className:"absolute bg-gray-800 bg-text-300 border-t border-gray-500 mt-2",children:[(0,ux.jsx)("div",{className:"flex flex-wrap justify-center items-center mt-2 max-h-screen",children:w.current.length>0&&w.current.map((function(e,t){return(0,ux.jsx)(gA.div,{ref:e,className:"box ".concat(c===t?"bg-gray-300 text-gray-800 border-solid shadow-[0_0_10px_10px_rgba(255,255,255,1)]":"text-gray-300 border-dashed"," \n          border-2 border-gray-300 p-6 m-1 rounded-lg flex items-center justify-center \n          text-2xl font-bold w-[100px] h-[140px] ").concat(t>2?"mt-2":""),style:k,children:t+1},t)}))}),(0,ux.jsxs)("div",{className:"flex items-center mt-2",children:[(0,ux.jsx)(fx,{className:"w-1/2 mx-4 mb-4 mt-2 bg-gray-800 border border-gray-300 text-gray-300",style:{fontSize:"1rem"},buttonType:"secondary",onClick:N,children:"Back to Deck"}),(0,ux.jsx)(fx,{style:{fontSize:"1rem"},className:"w-1/2 mx-4 mb-4 mt-2 ".concat(j()?"bg-green-600 text-white":"bg-gray-500 text-gray-100"),disabled:!j(),onClick:function(){return function(e){j()?r(e):alert("You must select ".concat(b," cards in order"))}(d)},children:"Submit Cards"})]})]}),P=function(){return(0,ux.jsx)("div",{style:{width:o?118:150,height:o?162:210},className:"text-gray-100 border-dashed border-2 border-gray-100 rounded-lg"})},O=function(e){var t=n[e].name;if(t){var r=t.split(" ")[0],i=t.split(" ").slice(1).join(" ");return(0,ux.jsxs)("div",{className:"text-white text-center bg-gray-800 opacity-90 w-full p-1 ".concat(o?"text-xs":"text-sm"," flex justify-center self-end"),children:[r," ",(0,ux.jsx)("br",{})," ",i]})}},M=function(){var e=p(RR).filter((function(e){return"marked"===e||e.startsWith("box")})).length;return e};return(0,ux.jsxs)("div",{className:"",children:[(0,ux.jsxs)("div",{className:"text-gray-100 bg-gray-800 border-b border-gray-500 shadow py-2",children:[(0,ux.jsxs)("div",{className:"relative flex items-center justify-evenly",style:{height:o?"175px":"230px"},children:[E.map((function(e,t){var r=e.x,i=e.y,a=e.width,s=e.height,u=e.zIndex,l=e.rot,c=e.scale,f=(e.flip,e.vx,e.vy,x),h=18;if(o){h=27;var p=d.findIndex((function(e){return e===t})),v=-1!==p&&p<b;f=v?S:x,v?(a=96,s=136):(a=110,s=154)}var m=RR[t].startsWith("box");return(0,ux.jsx)(gA.div,{className:"deck",style:{right:h,x:r,y:i,zIndex:u},children:(0,ux.jsx)(gA.div,Zt(Zt({},R(t)),{},{className:"rounded-lg",style:{display:"flex",zIndex:u,width:a,height:s,transform:eA([l,c],f),backgroundImage:"url(".concat(n[t].imageUrl,")")},children:!m&&O(t)}))},t)})),P(),(0,ux.jsx)("div",{className:"",children:(0,ux.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:(0,ux.jsx)("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"})})}),P()]}),!o&&(0,ux.jsxs)("div",{className:"flex justify-around",children:[(0,ux.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:(0,ux.jsx)("path",{fillRule:"evenodd",d:"M3.97 3.97a.75.75 0 0 1 1.06 0l13.72 13.72V8.25a.75.75 0 0 1 1.5 0V19.5a.75.75 0 0 1-.75.75H8.25a.75.75 0 0 1 0-1.5h9.44L3.97 5.03a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}),(0,ux.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:(0,ux.jsx)("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v16.19l6.22-6.22a.75.75 0 1 1 1.06 1.06l-7.5 7.5a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 1 1 1.06-1.06l6.22 6.22V3a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})})]}),o&&D]}),!o&&(0,ux.jsxs)("div",{className:"flex justify-evenly markedSection pb-6",children:[(0,ux.jsxs)("div",{className:"p-4 w-1/2 ml-2 mr-4",children:[(0,ux.jsxs)("div",{className:"markedInstructions text-gray-300 flex items-center justify-center text-xl pt-6",children:["Swipe ",b," or more cards down to order"]}),(0,ux.jsx)(fx,{onClick:N,disabled:M()<b,className:"w-full mt-8",children:"Ready to Order"})]}),(0,ux.jsxs)("div",{className:"w-1/2 ml-5",children:[(0,ux.jsx)("div",{className:"markedCards text-gray-300 border-dashed border-2 border-gray-300 rounded-lg flex items-center justify-center text-2xl font-bold",children:"First Pass Cards"}),(0,ux.jsxs)("div",{className:"relative text-xl text-gray-300 font-bold pt-2",children:[M()," cards ready"]})]})]})]})},PR=function(e){var n=e.gameData,r=e.gameRef,i=e.players,a=e.deck,o=n.currentRound,s=n.gameLength,u=n.wordSelection,c=n.deckType,f=n.numCards,h=o%i.length,d=(0,t.useContext)(lx),v=d.currentPlayerName,m=d.currentPlayerId,g=i[0].name===v,y=l((0,t.useState)(""),2),b=y[0],w=y[1],k=l((0,t.useState)(""),2),_=k[0],x=k[1],S=l((0,t.useState)(null),2),C=S[0],E=S[1],T=l((0,t.useState)(!1),2),N=T[0],j=T[1],A=l((0,t.useState)(0),2),R=A[0],D=A[1],P=l((0,t.useState)([]),2),O=P[0],M=P[1];(0,t.useEffect)((function(){console.log({currentPlayerId:m})}),[m]),(0,t.useEffect)((function(){var e=xp(r,"rounds");xv(hv(e,pv("roundNumber","==",o))).then((function(t){if(1===t.size){var n=t.docs[0].id,r=Sp(e,n);Tv(r,(function(e){E(r),x(e.data())}))}else console.error("Invalid short ID.")}))}),[o,r]),(0,t.useEffect)((function(){var e=i.find((function(e){return e.name===v}));j(e.chosenCards&&e.chosenCards.length>0)}),[i,v]);var L=function(){var e=$e(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Sv(C,{word:b});case 3:w("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=$e(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(t),e.next=3,Sv(C,{word:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=$e(Qe().mark((function e(t){var n,i;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.values(t).slice(0,f),e.prev=1,i=Sp(r,"players",m),e.next=5,Sv(i,{chosenCards:n});case 5:j(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error updating player's chosenCards: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=$e(Qe().mark((function e(){var t,n,i,a,o,s,u,l;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=xp(r,"players"),n=hv(t),e.prev=2,e.next=5,xv(n);case 5:i=e.sent,a=i.docs,o=I(a),e.prev=8,o.s();case 10:if((s=o.n()).done){e.next=17;break}return u=s.value,l=u.ref,e.next=15,Sv(l,{chosenCards:[]});case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),o.e(e.t0);case 22:return e.prev=22,o.f(),e.finish(22);case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(2),console.error("Error clearing chosen cards: ",e.t1);case 30:case"end":return e.stop()}}),e,null,[[2,27],[8,19,22,25]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=$e(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(R<=f)){e.next=5;break}return D(t=R+1),e.next=5,Sv(C,{flippedCards:t});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=$e(Qe().mark((function e(){var t,n,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(B(),D(0),w(""),M([]),t=p(i),n=0;n<_.players.length;n++)t[n].gameScore=_.players[n].gameScore,t[n].connections=_.players[n].connections;if(e.prev=6,o!==s){e.next=12;break}return e.next=10,Sv(r,{gameState:"ended"});case 10:e.next=17;break;case 12:return a=xp(r,"rounds"),e.next=15,Ev(a,{roundNumber:o+1,word:"",players:t});case 15:return e.next=17,Sv(r,{currentRound:o+1});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),console.error("Error updating document: ",e.t0);case 22:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(){return e.apply(this,arguments)}}(),q=function(){if("wordList"===u){if(!O||0===O.length){var e=function(e){for(var t=[],n=G_[e],r=0;r<5;r++)for(var i=!1;!i;){var a=n[Math.floor(Math.random()*n.length)];$_.includes(a)||(t.push(a),$_.push(a),i=!0)}return t}(c);M(e)}return(0,ux.jsxs)("div",{className:"bg-gray-800 mx-4 text-gray-300 text-lg p-6 mt-4 rounded-lg",children:[(0,ux.jsxs)("p",{className:"text-2xl font-semibold mb-4",children:["Choose the word for ",(0,ux.jsx)("br",{}),"round ",o]}),(0,ux.jsx)("div",{className:"",children:O.map((function(e,t){return(0,ux.jsx)(fx,{onClick:function(){return U(e)},buttonType:"large",className:"w-full mb-6",children:e},t)}))})]})}return(0,ux.jsx)("div",{className:"bg-gray-800 mx-4 text-gray-300 text-lg p-4 mt-4 rounded-lg",children:(0,ux.jsxs)("form",{onSubmit:L,className:"space-y-4",children:[(0,ux.jsxs)("p",{className:"text-lg font-semibold",children:["Choose the word for round ",o]}),(0,ux.jsx)("input",{type:"text",placeholder:"Enter your word...",value:b,onChange:function(e){return w(e.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-500 rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,ux.jsx)(fx,{className:"w-full",type:"submit",children:"Choose Word"})]})})};return(0,ux.jsx)("div",{className:"max-w-screen-sm mx-auto text-center",children:function(){var e=i[h].name===v;return _.word?N?g?function(){var e="Start Next Round";return _.allCardsSubmitted?(R<f?e="Flip ".concat(rx(R+1)," Card"):R===f?e="Show Top Cards":o===s&&(e="Show End Screen"),(0,ux.jsx)("div",{className:"m-4",children:R<=f?(0,ux.jsx)(fx,{className:"w-full",onClick:z,children:e}):(0,ux.jsx)(fx,{className:"w-full",onClick:V,children:e})})):(0,ux.jsxs)("p",{className:"mx-4 text-xl font-semibold text-gray-300 bg-gray-800 px-4 py-2 rounded-lg shadow mt-4",children:["Sit tight. ",(0,ux.jsx)("br",{})," Some people are slow."]})}():_.allCardsSubmitted?(0,ux.jsxs)("p",{className:"mx-4 text-lg font-semibold text-gray-300 bg-gray-800 px-4 py-2 rounded-lg shadow mt-4",children:["All cards are in! ",(0,ux.jsx)("br",{}),"Now ",(0,ux.jsx)("span",{className:"text-green-500 font-bold",children:i[0].name})," can flip the cards."]}):(0,ux.jsx)("p",{className:"mx-4 text-lg font-semibold text-gray-300 bg-gray-800 px-4 py-2 rounded-lg shadow mt-4",children:"Sit tight. Not everyone is as fast as you."}):(0,ux.jsx)("div",{className:"max-w-screen-sm bg-gray-800",children:(0,ux.jsxs)("div",{className:"deckContainer mb-4 mx-auto bg-gray-800",children:[(0,ux.jsxs)("p",{className:"flex justify-between items-center font-semibold text-gray-300 bg-gray-800 border-b border-gray-500 px-2 py-1",children:[(0,ux.jsxs)("span",{className:"text-md",children:["Round ",o]}),(0,ux.jsx)("span",{className:"text-lg font-bold uppercase text-green-500",children:_.word})]}),(0,ux.jsx)(DR,{deck:a,gameData:n,handleSelectCards:F})]})}):e?q():(0,ux.jsx)("div",{className:"m-4 text-gray-300 bg-gray-800 rounded-lg shadow",children:(0,ux.jsxs)("p",{className:"text-2xl font-semibold  px-4 py-2",children:["Waiting for ",(0,ux.jsx)("span",{className:"text-green-500 font-bold",children:i[h].name})," ",(0,ux.jsx)("br",{}),"to choose the word"]})})}()})},OR=function(e){var n=e.duration,r=l((0,t.useState)(n),2),i=r[0],a=r[1],o=l((0,t.useState)("100%"),2),s=o[0],u=o[1];(0,t.useEffect)((function(){if(i>0){var e=setInterval((function(){a((function(e){var t=e-1;return u("".concat(t/n*100,"%")),t}))}),1e3);return function(){return clearInterval(e)}}}),[i,n]);return(0,ux.jsx)("div",{className:"w-full h-4 bg-gray-700 rounded",children:(0,ux.jsx)("div",{className:"h-full rounded ".concat(function(){var e=i/n*100;return e<=20?"bg-red-500":e<=40?"bg-yellow-500":"bg-green-500"}()),style:{width:s}})})},MR=function(e){var n=e.word,r=e.minWordLength,i=e.foundWords,a=e.setFoundWords,o=e.duration,s=n.split(""),u=l((0,t.useState)([]),2),c=u[0],f=u[1],h=l((0,t.useState)(""),2),d=h[0],v=h[1],m=l((0,t.useState)([]),2),g=m[0],y=m[1],b=l((0,t.useState)(!0),2),w=b[0],k=b[1],_=l((0,t.useState)(null),2),x=_[0],S=_[1];(0,t.useEffect)((function(){var e=function(){var e=$e(Qe().mark((function e(){var t,n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("words/wordlist.txt");case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Failed to load word list");case 6:return e.next=8,t.text();case 8:n=e.sent,r=n.split("\n").map((function(e){return e.trim()})),y(r),k(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),S(e.t0.message),k(!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var C=function(e){return c.some((function(t){return t.index===e}))};return w?(0,ux.jsx)("div",{className:"text-gray-300",children:"Loading word list..."}):x?(0,ux.jsxs)("div",{className:"text-red-500",children:["Error: ",x]}):(0,ux.jsxs)(ux.Fragment,{children:[(0,ux.jsx)("div",{className:"px-2 py-4",children:(0,ux.jsx)(OR,{duration:o})}),(0,ux.jsxs)("div",{className:"out-of-words-words px-4 bg-gray-800 rounded-lg text-gray-300",children:[(0,ux.jsxs)("div",{className:"controls-container flex items-center justify-between gap-4",children:[(0,ux.jsx)("button",{onClick:function(){var e=p(c);e.pop(),f(e),v(e.map((function(e){return e.letter.toUpperCase()})).join(""))},className:"backspace-button px-3 py-2 bg-red-500 text-white rounded shadow",children:"Delete"}),(0,ux.jsx)("div",{className:"current-word-container mb-4 text-xl",children:(0,ux.jsx)("span",{className:"guess font-bold",children:d})}),(0,ux.jsx)("button",{onClick:function(){d.length<r?alert("too short"):i.includes(d)?alert("already found!"):g.includes(d.toLowerCase())?a([].concat(p(i),[d])):alert('Word "'.concat(d,'" is not valid!')),f([]),v("")},className:"submit-button px-3 py-2 bg-green-500 text-white rounded shadow",children:"Enter"})]}),(0,ux.jsx)("div",{className:"letters-container flex flex-wrap justify-center mb-4",children:s.map((function(e,t){return(0,ux.jsx)("button",{onClick:function(){return function(e,t){var n=[].concat(p(c),[{letter:e,index:t}]);f(n),v(d+e.toUpperCase())}(e,t)},disabled:C(t),className:"letter-button w-12 m-1 px-4 py-2 rounded shadow text-2xl ".concat(C(t)?"bg-gray-500 text-gray-300":"bg-blue-500 text-white"),children:e.toUpperCase()},t)}))}),(0,ux.jsxs)("div",{className:"found-words-container mt-6 bg-gray-900 p-4 rounded-lg",children:[(0,ux.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Found Words:"}),(0,ux.jsx)("div",{className:"grid grid-cols-3 gap-2",children:i.length>0&&i.map((function(e,t){return(0,ux.jsx)("div",{className:"text-white",children:e},t)}))})]})]})]})},LR=function(e){var n,r=e.gameData,i=e.gameRef,a=e.players,o=r.currentRound,s=r.minWordLength,u=r.gameTime,c=o%a.length,f=(0,t.useContext)(lx),h=f.currentPlayerName,d=f.currentPlayerId,v=a[0].name===h,m=l((0,t.useState)(""),2),g=(m[0],m[1]),y=l((0,t.useState)(""),2),b=y[0],w=y[1],k=l((0,t.useState)(null),2),_=k[0],x=k[1],S=l((0,t.useState)([]),2),C=S[0],E=S[1],T=l((0,t.useState)(!1),2),N=T[0],I=T[1],j=l((0,t.useState)([]),2),A=j[0],R=j[1],D=l((0,t.useState)(!1),2),P=D[0],O=D[1],M=60*u;(0,t.useEffect)((function(){console.log({currentPlayerId:d})}),[d]),(0,t.useEffect)((function(){if(N){var e=function(){var e=$e(Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Sp(i,"players",d),e.next=4,Sv(t,{foundWords:A});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error updating player's chosenCards: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();e()}}),[N]),(0,t.useEffect)((function(){I(!1),R([]),O(!1);var e=xp(i,"rounds");xv(hv(e,pv("roundNumber","==",o))).then((function(t){if(1===t.size){var r=t.docs[0].id,i=Sp(e,r);Tv(i,(function(e){x(i),w(e.data()),e.data().word&&!n&&(n=setTimeout((function(){return I(!0)}),1e3*M))}))}else console.error("Invalid short ID.")}))}),[o,i]),(0,t.useEffect)((function(){a.find((function(e){return e.name===h}))}),[a,h]);var L=function(){var e=$e(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(t),e.next=3,Sv(_,{word:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=$e(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,Sv(_,{wordsRevealed:!0});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=$e(Qe().mark((function e(){var t,n,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(E([]),t=p(a),n=0;n<b.players.length;n++)t[n].gameScore=b.players[n].gameScore;if(e.prev=3,o!==b.players.length){e.next=9;break}return e.next=7,Sv(i,{gameState:"ended"});case 7:e.next=14;break;case 9:return r=xp(i,"rounds"),e.next=12,Ev(r,{roundNumber:o+1,word:"",players:t});case 12:return e.next=14,Sv(i,{currentRound:o+1});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.error("Error updating document: ",e.t0);case 19:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(){return e.apply(this,arguments)}}(),B=function(){if(!C||0===C.length){var e=function(){for(var e=[],t=G_.life,n=0;n<5;n++)for(var r=!1;!r;){var i=t[Math.floor(Math.random()*t.length)];$_.includes(i)||(e.push(i),$_.push(i),r=!0)}return e}();E(e)}return(0,ux.jsxs)("div",{className:"bg-gray-800 mx-4 text-gray-300 text-lg p-6 mt-4 rounded-lg",children:[(0,ux.jsxs)("p",{className:"text-2xl font-semibold mb-4",children:["Choose the word for ",(0,ux.jsx)("br",{}),"round ",o]}),(0,ux.jsx)("div",{className:"",children:C.map((function(e,t){return(0,ux.jsx)(fx,{onClick:function(){return L(e)},buttonType:"large",className:"w-full mb-6",children:e},t)}))})]})};return(0,ux.jsx)("div",{className:"max-w-screen-sm mx-auto text-center",children:function(){var e=a[c].name===h;return b.word?N?v?(0,ux.jsx)("div",{className:"m-4",children:P?(0,ux.jsx)(fx,{className:"w-full",onClick:F,children:"Start Next Round"}):(0,ux.jsx)(fx,{className:"w-full",onClick:U,children:"Reveal Words"})}):(0,ux.jsxs)("p",{className:"mx-4 text-lg font-semibold text-gray-300 bg-gray-800 px-4 py-2 rounded-lg shadow mt-4",children:["Times up! ",(0,ux.jsx)("br",{}),"Now ",(0,ux.jsx)("span",{className:"text-green-500 font-bold",children:a[0].name})," can reveal everyone's words."]}):(0,ux.jsx)("div",{className:"max-w-screen-sm bg-gray-800",children:(0,ux.jsxs)("div",{className:"deckContainer mb-4 mx-auto bg-gray-800",children:[(0,ux.jsxs)("p",{className:"flex justify-between items-center font-semibold text-gray-300 bg-gray-800 border-b border-gray-500 px-2 py-1",children:[(0,ux.jsxs)("span",{className:"text-md",children:["Round ",o]}),(0,ux.jsx)("span",{className:"text-lg font-bold uppercase text-green-500",children:b.word})]}),(0,ux.jsx)("div",{children:(0,ux.jsx)(MR,{word:b.word,minWordLength:s,foundWords:A,setFoundWords:R,duration:M})})]})}):e?B():(0,ux.jsx)("div",{className:"m-4 text-gray-300 bg-gray-800 rounded-lg shadow",children:(0,ux.jsxs)("p",{className:"text-2xl font-semibold  px-4 py-2",children:["Waiting for ",(0,ux.jsx)("span",{className:"text-green-500 font-bold",children:a[c].name})," ",(0,ux.jsx)("br",{}),"to choose the word"]})})}()})},UR=function(e){var t=e.header,n=e.message,r=e.dismiss,i=e.modalAction,a=Jj({from:{transform:"translateY(100%)",opacity:0},to:{transform:"translateY(0)",opacity:1}});return(0,ux.jsx)(gA.div,{style:a,className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50",children:(0,ux.jsxs)("div",{className:"bg-gray-800 text-white rounded-lg shadow-lg p-6 border-4 border-gray-200",children:[(0,ux.jsx)("h2",{className:"text-3xl font-bold mb-4 text-center",children:t}),(0,ux.jsx)("div",{className:"flex justify-center",children:(0,ux.jsx)("div",{className:"w-56",children:n})}),(0,ux.jsxs)("div",{className:"flex items-center mt-2",children:[(0,ux.jsx)(fx,{className:"w-1/2 mx-4 mb-4 mt-2 bg-gray-800 border border-gray-300 text-gray-300",style:{fontSize:"1rem"},buttonType:"secondary",onClick:r,children:"Cancel"}),(0,ux.jsx)(fx,{style:{fontSize:"1rem"},className:"w-1/2 mx-4 mb-4 mt-2",onClick:i,children:"Ok"})]})]})})},FR=function(e){var n=e.gameData,r=e.gameRef,i=e.players,a=(0,t.useContext)(lx),o=a.currentPlayerName,s=(a.currentPlayerId,l((0,t.useState)(n.deckType||"life"),2)),u=s[0],c=s[1],f=l((0,t.useState)(n.gameLength||3),2),h=f[0],d=f[1],p=l((0,t.useState)(n.wordSelection||"wordList"),2),v=p[0],m=p[1],g=l((0,t.useState)(n.minWordLength||4),2),y=g[0],b=g[1],w=l((0,t.useState)(n.gameTime||2),2),k=w[0],_=w[1],x=l((0,t.useState)(!1),2),S=(x[0],x[1],l((0,t.useState)(""),2)),C=S[0],E=S[1];(0,t.useEffect)((function(){var e=function(){var e=$e(Qe().mark((function e(){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Incommon"!==n.gameType){e.next=5;break}return e.next=3,Sv(r,{gameLength:parseInt(h),deckType:u,wordSelection:v});case 3:e.next=8;break;case 5:if("Out of Words, Words"!==n.gameType){e.next=8;break}return e.next=8,Sv(r,{minWordLength:parseInt(y),gameTime:parseInt(k)});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[h,u,v,y,k]);var T=function(e){m(e.target.value)},N=function(e){c(e.target.value)},I=function(e){d(e.target.value)},j=function(e){b(e.target.value)},A=function(e){_(e.target.value)};if(!i.length)return(0,ux.jsx)(SA,{});var R=n.shortId,D=i[0].name===o,P=function(){var e=$e(Qe().mark((function e(){var t,a,o,s;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},"Incommon"===n.gameType?(void 0===(a=Z_(u))&&(a=[]),o="custom"===u?"buildDeck":"started",t={gameLength:parseInt(h),currentRound:1,deckType:u,indexDeck:a,gameState:o,numCards:i.length<=8?5:4}):"Out of Words, Words"===n.gameType&&(t={currentRound:1,gameState:"started"}),s=xp(r,"rounds"),e.next=5,Ev(s,{roundNumber:1,word:"",players:i});case 5:return e.next=7,Sv(r,t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=$e(Qe().mark((function e(){var t,n,i,a;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=xp(H_,"games",r.id,"players"),n=hv(t,pv("name","==",C)),e.prev=2,e.next=5,xv(n);case 5:if(!(i=e.sent).empty){e.next=9;break}return console.log("Player not found."),e.abrupt("return");case 9:return a=Sp(H_,"games",r.id,"players",i.docs[0].id),e.next=12,Cv(a);case 12:console.log("Player deleted successfully."),E(""),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),console.error("Error deleting player:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}(),M=function(){E("")};return(0,ux.jsxs)("div",{className:"max-w-screen-sm mx-auto p-4 text-lg text-gray-300",children:[function(){var e=C===o?"yourself":C;return 1===i.length?C&&(0,ux.jsx)(UR,{header:"Last One Standing",message:"You can't remove yourself, silly! You're the last one here.",dismiss:M,modalAction:M}):C&&(0,ux.jsx)(UR,{header:"Remove Player",message:"Are you sure you want to remove ".concat(e,"?"),dismiss:M,modalAction:O})}(),(0,ux.jsxs)("h2",{className:"bg-gray-800 text-gray-300 text-xl font-bold mb-4 p-4 text-gray-300 rounded-lg",children:["Game Code: ",R]}),(0,ux.jsxs)("div",{className:"mt-4 p-4 bg-gray-800 rounded-lg",children:[(0,ux.jsx)("div",{className:"pb-2 border-b-2 border-gray-700 text-left text-lg",children:"Joined Players"}),(0,ux.jsx)("div",{className:"flex flex-wrap pt-2",children:i.map((function(e,t){return(0,ux.jsx)("div",{style:{backgroundColor:Q_[t],color:sx(Q_[t])},className:"text-gray-100 text-md rounded py-1 px-2 m-1",children:D?(0,ux.jsxs)("div",{onClick:function(){return E(e.name)},className:"flex items-center cursor-pointer",children:[e.name,(0,ux.jsx)("div",{className:"flex items-center pl-2",children:(0,ux.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:(0,ux.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})})]}):(0,ux.jsx)("div",{children:e.name})},e.name)}))})]}),(0,ux.jsx)("div",{className:"text-gray-300 mt-4 p-4 bg-gray-800 rounded-lg",children:"Incommon"===n.gameType?(0,ux.jsxs)(ux.Fragment,{children:[D?(0,ux.jsxs)("div",{className:"flex items-center pb-4 border-b-2 border-gray-700",children:[(0,ux.jsx)("label",{htmlFor:"deckType",className:"block font-bold w-5/12",children:"Deck"}),(0,ux.jsxs)("select",{id:"deckType",value:u,onChange:N,className:"block appearance-none w-7/12 bg-gray-700 border border-gray-500 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-gray-600 focus:border-gray-500",children:[(0,ux.jsx)("option",{value:"life",children:"Life"}),(0,ux.jsx)("option",{value:"celebrities",children:"Celebrities"}),(0,ux.jsx)("option",{value:"actors",children:"Actors"}),(0,ux.jsx)("option",{value:"famousPeople",children:"Famous People"}),(0,ux.jsx)("option",{value:"animals",children:"Animals"}),(0,ux.jsx)("option",{value:"festivus",children:"Festivus"}),(0,ux.jsx)("option",{value:"custom",children:"Custom*"})]})]}):(0,ux.jsx)("div",{className:"",children:(0,ux.jsxs)("label",{htmlFor:"deckType",className:"block pb-2 font-normal border-b-2 border-gray-700",children:["Deck: ",(0,ux.jsx)("span",{className:"font-bold",children:ax(n.deckType)})]})}),D?(0,ux.jsxs)("div",{className:"flex items-center py-4 border-b-2 border-gray-700",children:[(0,ux.jsx)("label",{htmlFor:"deckType",className:"block font-bold w-5/12",children:"Game Length"}),(0,ux.jsxs)("select",{id:"deckType",value:h,onChange:I,className:"block appearance-none w-7/12 bg-gray-700 border border-gray-500 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-gray-600 focus:border-gray-500",children:[(0,ux.jsx)("option",{value:"3",children:"Short"},"3"),(0,ux.jsx)("option",{value:"5",children:"Medium"},"5"),(0,ux.jsx)("option",{value:"10",children:"Long"},"10")]})]}):(0,ux.jsx)("div",{className:"",children:(0,ux.jsxs)("label",{htmlFor:"deckType",className:"block py-2 font-normal border-b-2 border-gray-700",children:["Game Length: ",(0,ux.jsx)("span",{className:"font-bold",children:ix(n.gameLength)})]})}),D?(0,ux.jsxs)("div",{className:"flex items-center pt-4",children:[(0,ux.jsx)("label",{htmlFor:"deckType",className:"block font-bold w-5/12",children:"Word Choice"}),(0,ux.jsxs)("select",{id:"deckType",value:v,onChange:T,className:"block appearance-none w-7/12 bg-gray-700 border border-gray-500 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-gray-600 focus:border-gray-500",children:[(0,ux.jsx)("option",{value:"wordList",children:"Word List"}),(0,ux.jsx)("option",{value:"custom",children:"Custom"})]})]}):(0,ux.jsx)("div",{className:"",children:(0,ux.jsxs)("label",{htmlFor:"deckType",className:"block pt-2 font-normal",children:["Word Choice: ",(0,ux.jsx)("span",{className:"font-bold",children:ox(n.wordSelection)})]})})]}):"Out of Words, Words"===n.gameType?(0,ux.jsxs)(ux.Fragment,{children:[D?(0,ux.jsxs)("div",{className:"flex items-center py-4 border-b-2 border-gray-700",children:[(0,ux.jsx)("label",{htmlFor:"gameTime",className:"block font-bold w-5/12",children:"Game Time (Minutes)"}),(0,ux.jsxs)("select",{id:"gameTime",value:k,onChange:A,className:"block appearance-none w-7/12 bg-gray-700 border border-gray-500 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-gray-600 focus:border-gray-500",children:[(0,ux.jsx)("option",{value:"2",children:"2"},"2"),(0,ux.jsx)("option",{value:"3",children:"3"},"3"),(0,ux.jsx)("option",{value:"5",children:"5"},"5")]})]}):(0,ux.jsx)("div",{className:"",children:(0,ux.jsxs)("label",{htmlFor:"gameTime",className:"block py-2 font-normal border-b-2 border-gray-700",children:["Game Time (Minutes): ",(0,ux.jsx)("span",{className:"font-bold",children:n.gameTime})]})}),D?(0,ux.jsxs)("div",{className:"flex items-center py-4 border-b-2 border-gray-700",children:[(0,ux.jsx)("label",{htmlFor:"minWordLength",className:"block font-bold w-5/12",children:"Minimum Word Length"}),(0,ux.jsxs)("select",{id:"minWordLength",value:y,onChange:j,className:"block appearance-none w-7/12 bg-gray-700 border border-gray-500 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-gray-600 focus:border-gray-500",children:[(0,ux.jsx)("option",{value:"3",children:"3"},"3"),(0,ux.jsx)("option",{value:"4",children:"4"},"4"),(0,ux.jsx)("option",{value:"5",children:"5"},"5")]})]}):(0,ux.jsx)("div",{className:"",children:(0,ux.jsxs)("label",{htmlFor:"minWordLength",className:"block py-2 font-normal border-b-2 border-gray-700",children:["Minimum Word Length: ",(0,ux.jsx)("span",{className:"font-bold",children:n.minWordLength})]})})]}):void 0}),D&&(0,ux.jsx)(fx,{onClick:P,className:"mt-4 w-full text-xl p-4 ".concat(i.length>=3?"bg-green-600 text-white":"bg-gray-500 text-gray-100"),disabled:i.length<1,children:"Start Game"})]})};function BR(e,t){return function(){return e.apply(t,arguments)}}var zR,VR=Object.prototype.toString,qR=Object.getPrototypeOf,WR=(zR=Object.create(null),function(e){var t=VR.call(e);return zR[t]||(zR[t]=t.slice(8,-1).toLowerCase())}),HR=function(e){return e=e.toLowerCase(),function(t){return WR(t)===e}},KR=function(e){return function(t){return typeof t===e}},GR=Array.isArray,QR=KR("undefined");var JR=HR("ArrayBuffer");var $R=KR("string"),YR=KR("function"),XR=KR("number"),ZR=function(e){return null!==e&&"object"===typeof e},eD=function(e){if("object"!==WR(e))return!1;var t=qR(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tD=HR("Date"),nD=HR("File"),rD=HR("Blob"),iD=HR("FileList"),aD=HR("URLSearchParams");function oD(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,o=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),GR(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var s,u=o?Object.getOwnPropertyNames(e):Object.keys(e),l=u.length;for(n=0;n<l;n++)s=u[n],t.call(null,e[s],s,e)}}function sD(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var uD="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,lD=function(e){return!QR(e)&&e!==uD};var cD,fD=(cD="undefined"!==typeof Uint8Array&&qR(Uint8Array),function(e){return cD&&e instanceof cD}),hD=HR("HTMLFormElement"),dD=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),pD=HR("RegExp"),vD=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};oD(n,(function(n,i){var a;!1!==(a=t(n,i,e))&&(r[i]=a||n)})),Object.defineProperties(e,r)},mD="abcdefghijklmnopqrstuvwxyz",gD="0123456789",yD={DIGIT:gD,ALPHA:mD,ALPHA_DIGIT:mD+mD.toUpperCase()+gD};var bD=HR("AsyncFunction"),wD={isArray:GR,isArrayBuffer:JR,isBuffer:function(e){return null!==e&&!QR(e)&&null!==e.constructor&&!QR(e.constructor)&&YR(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||YR(e.append)&&("formdata"===(t=WR(e))||"object"===t&&YR(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&JR(e.buffer)},isString:$R,isNumber:XR,isBoolean:function(e){return!0===e||!1===e},isObject:ZR,isPlainObject:eD,isUndefined:QR,isDate:tD,isFile:nD,isBlob:rD,isRegExp:pD,isFunction:YR,isStream:function(e){return ZR(e)&&YR(e.pipe)},isURLSearchParams:aD,isTypedArray:fD,isFileList:iD,forEach:oD,merge:function e(){for(var t=lD(this)&&this||{},n=t.caseless,r={},i=function(t,i){var a=n&&sD(r,i)||i;eD(r[a])&&eD(t)?r[a]=e(r[a],t):eD(t)?r[a]=e({},t):GR(t)?r[a]=t.slice():r[a]=t},a=0,o=arguments.length;a<o;a++)arguments[a]&&oD(arguments[a],i);return r},extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return oD(t,(function(t,r){n&&YR(t)?e[r]=BR(t,n):e[r]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&qR(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:WR,kindOfTest:HR,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(GR(e))return e;var t=e.length;if(!XR(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:hD,hasOwnProperty:dD,hasOwnProp:dD,reduceDescriptors:vD,freezeMethods:function(e){vD(e,(function(t,n){if(YR(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];YR(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return GR(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:sD,global:uD,isContextDefined:lD,ALPHABET:yD,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yD.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&YR(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(ZR(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=GR(n)?[]:{};return oD(n,(function(t,n){var a=e(t,r+1);!QR(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:bD,isThenable:function(e){return e&&(ZR(e)||YR(e))&&YR(e.then)&&YR(e.catch)}};function kD(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}wD.inherits(kD,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:wD.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var _D=kD.prototype,xD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){xD[e]={value:e}})),Object.defineProperties(kD,xD),Object.defineProperty(_D,"isAxiosError",{value:!0}),kD.from=function(e,t,n,r,i,a){var o=Object.create(_D);return wD.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),kD.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var SD=kD;function CD(e){return wD.isPlainObject(e)||wD.isArray(e)}function ED(e){return wD.endsWith(e,"[]")?e.slice(0,-2):e}function TD(e,t,n){return e?e.concat(t).map((function(e,t){return e=ED(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var ND=wD.toFlatObject(wD,{},null,(function(e){return/^is[A-Z]/.test(e)}));var ID=function(e,t,n){if(!wD.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=wD.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!wD.isUndefined(t[e])}))).metaTokens,i=n.visitor||l,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&wD.isSpecCompliantForm(t);if(!wD.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(wD.isDate(e))return e.toISOString();if(!s&&wD.isBlob(e))throw new SD("Blob is not supported. Use a Buffer instead.");return wD.isArrayBuffer(e)||wD.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,i){var s=e;if(e&&!i&&"object"===typeof e)if(wD.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(wD.isArray(e)&&function(e){return wD.isArray(e)&&!e.some(CD)}(e)||(wD.isFileList(e)||wD.endsWith(n,"[]"))&&(s=wD.toArray(e)))return n=ED(n),s.forEach((function(e,r){!wD.isUndefined(e)&&null!==e&&t.append(!0===o?TD([n],r,a):null===o?n:n+"[]",u(e))})),!1;return!!CD(e)||(t.append(TD(i,n,a),u(e)),!1)}var c=[],f=Object.assign(ND,{defaultVisitor:l,convertValue:u,isVisitable:CD});if(!wD.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!wD.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),wD.forEach(n,(function(n,a){!0===(!(wD.isUndefined(n)||null===n)&&i.call(t,n,wD.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),c.pop()}}(e),t};function jD(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function AD(e,t){this._pairs=[],e&&ID(e,this,t)}var RD=AD.prototype;RD.append=function(e,t){this._pairs.push([e,t])},RD.toString=function(e){var t=e?function(t){return e.call(this,t,jD)}:jD;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var DD=AD;function PD(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function OD(e,t,n){if(!t)return e;var r,i=n&&n.encode||PD,a=n&&n.serialize;if(r=a?a(t,n):wD.isURLSearchParams(t)?t.toString():new DD(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var MD,LD=function(){function e(){v(this,e),this.handlers=[]}return g(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){wD.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),UD=LD,FD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BD={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:DD,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},zD="undefined"!==typeof window&&"undefined"!==typeof document,VD=(MD="undefined"!==typeof navigator&&navigator.product,zD&&["ReactNative","NativeScript","NS"].indexOf(MD)<0),qD="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,WD=Zt(Zt({},e),BD);var HD=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&wD.isArray(r)?r.length:a,s?(wD.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&wD.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&wD.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(wD.isFormData(e)&&wD.isFunction(e.entries)){var n={};return wD.forEachEntry(e,(function(e,r){t(function(e){return wD.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var KD={transitional:FD,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=wD.isObject(e);if(a&&wD.isHTMLForm(e)&&(e=new FormData(e)),wD.isFormData(e))return i&&i?JSON.stringify(HD(e)):e;if(wD.isArrayBuffer(e)||wD.isBuffer(e)||wD.isStream(e)||wD.isFile(e)||wD.isBlob(e))return e;if(wD.isArrayBufferView(e))return e.buffer;if(wD.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ID(e,new WD.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return WD.isNode&&wD.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=wD.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return ID(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(wD.isString(e))try{return(t||JSON.parse)(e),wD.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||KD.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&wD.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw SD.from(a,SD.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:WD.classes.FormData,Blob:WD.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};wD.forEach(["delete","get","head","post","put","patch"],(function(e){KD.headers[e]={}}));var GD=KD,QD=wD.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),JD=Symbol("internals");function $D(e){return e&&String(e).trim().toLowerCase()}function YD(e){return!1===e||null==e?e:wD.isArray(e)?e.map(YD):String(e)}function XD(e,t,n,r,i){return wD.isFunction(r)?r.call(this,t,n):(i&&(t=n),wD.isString(t)?wD.isString(r)?-1!==t.indexOf(r):wD.isRegExp(r)?r.test(t):void 0:void 0)}var ZD=function(e,t){function n(e){v(this,n),e&&this.set(e)}return g(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=$D(t);if(!i)throw new Error("header name must be a non-empty string");var a=wD.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=YD(e))}var a=function(e,t){return wD.forEach(e,(function(e,n){return i(e,n,t)}))};return wD.isPlainObject(e)||e instanceof this.constructor?a(e,t):wD.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&QD[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=$D(e)){var n=wD.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(wD.isFunction(t))return t.call(this,r,n);if(wD.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=$D(e)){var n=wD.findKey(this,e);return!(!n||void 0===this[n]||t&&!XD(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=$D(e)){var i=wD.findKey(n,e);!i||t&&!XD(0,n[i],i,t)||(delete n[i],r=!0)}}return wD.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!XD(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return wD.forEach(this,(function(r,i){var a=wD.findKey(n,i);if(a)return t[a]=YD(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=YD(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return wD.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&wD.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=l(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[JD]=this[JD]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=$D(e);t[r]||(!function(e,t){var n=wD.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return wD.isArray(e)?e.forEach(r):r(e),this}}]),n}();ZD.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),wD.reduceDescriptors(ZD.prototype,(function(e,t){var n=e.value,r=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[r]=e}}})),wD.freezeMethods(ZD);var eP=ZD;function tP(e,t){var n=this||GD,r=t||n,i=eP.from(r.headers),a=r.data;return wD.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function nP(e){return!(!e||!e.__CANCEL__)}function rP(e,t,n){SD.call(this,null==e?"canceled":e,SD.ERR_CANCELED,t,n),this.name="CanceledError"}wD.inherits(rP,SD,{__CANCEL__:!0});var iP=rP;var aP=WD.hasStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[e+"="+encodeURIComponent(t)];wD.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),wD.isString(r)&&o.push("path="+r),wD.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function oP(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var sP=WD.hasStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=wD.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var uP=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),l=i[o];n||(n=u),r[a]=s,i[a]=u;for(var c=o,f=0;c!==a;)f+=r[c++],c%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var h=l&&u-l;return h?Math.round(1e3*f/h):void 0}}};function lP(e,t){var n=0,r=uP(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,u=r(s);n=a;var l={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&a<=o?(o-a)/u:void 0,event:i};l[t?"download":"upload"]=!0,e(l)}}var cP="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i,a=e.data,o=eP.from(e.headers).normalize(),s=e.responseType,u=e.withXSRFToken;function l(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}if(wD.isFormData(a))if(WD.hasStandardBrowserEnv||WD.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if(!1!==(i=o.getContentType())){var c=N(i?i.split(";").map((function(e){return e.trim()})).filter(Boolean):[]),f=c[0],h=c.slice(1);o.setContentType([f||"multipart/form-data"].concat(p(h)).join("; "))}var d=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(v+":"+m))}var g=oP(e.baseURL,e.url);function y(){if(d){var r=eP.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new SD("Request failed with status code "+n.status,[SD.ERR_BAD_REQUEST,SD.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),l()}),(function(e){n(e),l()}),{data:s&&"text"!==s&&"json"!==s?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d}),d=null}}if(d.open(e.method.toUpperCase(),OD(g,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,"onloadend"in d?d.onloadend=y:d.onreadystatechange=function(){d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))&&setTimeout(y)},d.onabort=function(){d&&(n(new SD("Request aborted",SD.ECONNABORTED,e,d)),d=null)},d.onerror=function(){n(new SD("Network Error",SD.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||FD;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new SD(t,r.clarifyTimeoutError?SD.ETIMEDOUT:SD.ECONNABORTED,e,d)),d=null},WD.hasStandardBrowserEnv&&(u&&wD.isFunction(u)&&(u=u(e)),u||!1!==u&&sP(g))){var b=e.xsrfHeaderName&&e.xsrfCookieName&&aP.read(e.xsrfCookieName);b&&o.set(e.xsrfHeaderName,b)}void 0===a&&o.setContentType(null),"setRequestHeader"in d&&wD.forEach(o.toJSON(),(function(e,t){d.setRequestHeader(t,e)})),wD.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),s&&"json"!==s&&(d.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&d.addEventListener("progress",lP(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",lP(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){d&&(n(!t||t.type?new iP(null,e,d):t),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var w=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(g);w&&-1===WD.protocols.indexOf(w)?n(new SD("Unsupported protocol "+w+":",SD.ERR_BAD_REQUEST,e)):d.send(a||null)}))},fP={http:null,xhr:cP};wD.forEach(fP,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var hP=function(e){return"- ".concat(e)},dP=function(e){return wD.isFunction(e)||null===e||!1===e},pP=function(e){for(var t,n,r=(e=wD.isArray(e)?e:[e]).length,i={},a=0;a<r;a++){var o=void 0;if(n=t=e[a],!dP(t)&&void 0===(n=fP[(o=String(t)).toLowerCase()]))throw new SD("Unknown adapter '".concat(o,"'"));if(n)break;i[o||"#"+a]=n}if(!n){var s=Object.entries(i).map((function(e){var t=l(e,2),n=t[0],r=t[1];return"adapter ".concat(n," ")+(!1===r?"is not supported by the environment":"is not available in the build")})),u=r?s.length>1?"since :\n"+s.map(hP).join("\n"):" "+hP(s[0]):"as no adapter specified";throw new SD("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return n};function vP(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new iP(null,e)}function mP(e){return vP(e),e.headers=eP.from(e.headers),e.data=tP.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pP(e.adapter||GD.adapter)(e).then((function(t){return vP(e),t.data=tP.call(e,e.transformResponse,t),t.headers=eP.from(t.headers),t}),(function(t){return nP(t)||(vP(e),t&&t.response&&(t.response.data=tP.call(e,e.transformResponse,t.response),t.response.headers=eP.from(t.response.headers))),Promise.reject(t)}))}var gP=function(e){return e instanceof eP?e.toJSON():e};function yP(e,t){t=t||{};var n={};function r(e,t,n){return wD.isPlainObject(e)&&wD.isPlainObject(t)?wD.merge.call({caseless:n},e,t):wD.isPlainObject(t)?wD.merge({},t):wD.isArray(t)?t.slice():t}function i(e,t,n){return wD.isUndefined(t)?wD.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!wD.isUndefined(t))return r(void 0,t)}function o(e,t){return wD.isUndefined(t)?wD.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return i(gP(e),gP(t),!0)}};return wD.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=u[r]||i,o=a(e[r],t[r],r);wD.isUndefined(o)&&a!==s||(n[r]=o)})),n}var bP="1.6.2",wP={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){wP[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var kP={};wP.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new SD(r(i," has been removed"+(t?" in "+t:"")),SD.ERR_DEPRECATED);return t&&!kP[i]&&(kP[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var _P={assertOptions:function(e,t,n){if("object"!==typeof e)throw new SD("options must be an object",SD.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new SD("option "+a+" must be "+u,SD.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new SD("Unknown option "+a,SD.ERR_BAD_OPTION)}},validators:wP},xP=_P.validators,SP=function(){function e(t){v(this,e),this.defaults=t,this.interceptors={request:new UD,response:new UD}}return g(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=yP(this.defaults,t),r=n.transitional,i=n.paramsSerializer,a=n.headers;void 0!==r&&_P.assertOptions(r,{silentJSONParsing:xP.transitional(xP.boolean),forcedJSONParsing:xP.transitional(xP.boolean),clarifyTimeoutError:xP.transitional(xP.boolean)},!1),null!=i&&(wD.isFunction(i)?t.paramsSerializer={serialize:i}:_P.assertOptions(i,{encode:xP.function,serialize:xP.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var o=a&&wD.merge(a.common,a[t.method]);a&&wD.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete a[e]})),t.headers=eP.concat(o,a);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var l,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var f,h=0;if(!u){var d=[mP.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,c),f=d.length,l=Promise.resolve(t);h<f;)l=l.then(d[h++],d[h++]);return l}f=s.length;var p=t;for(h=0;h<f;){var v=s[h++],m=s[h++];try{p=v(p)}catch(Gv){m.call(this,Gv);break}}try{l=mP.call(this,p)}catch(Gv){return Promise.reject(Gv)}for(h=0,f=c.length;h<f;)l=l.then(c[h++],c[h++]);return l}},{key:"getUri",value:function(e){return OD(oP((e=yP(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();wD.forEach(["delete","get","head","options"],(function(e){SP.prototype[e]=function(t,n){return this.request(yP(n||{},{method:e,url:t,data:(n||{}).data}))}})),wD.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(yP(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}SP.prototype[e]=t(),SP.prototype[e+"Form"]=t(!0)}));var CP=SP,EP=function(){function e(t){if(v(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new iP(e,t,i),n(r.reason))}))}return g(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),TP=EP;var NP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(NP).forEach((function(e){var t=l(e,2),n=t[0],r=t[1];NP[r]=n}));var IP=NP;var jP=function e(t){var n=new CP(t),r=BR(CP.prototype.request,n);return wD.extend(r,CP.prototype,n,{allOwnKeys:!0}),wD.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(yP(t,n))},r}(GD);jP.Axios=CP,jP.CanceledError=iP,jP.CancelToken=TP,jP.isCancel=nP,jP.VERSION=bP,jP.toFormData=ID,jP.AxiosError=SD,jP.Cancel=jP.CanceledError,jP.all=function(e){return Promise.all(e)},jP.spread=function(e){return function(t){return e.apply(null,t)}},jP.isAxiosError=function(e){return wD.isObject(e)&&!0===e.isAxiosError},jP.mergeConfig=yP,jP.AxiosHeaders=eP,jP.formToJSON=function(e){return HD(wD.isHTMLForm(e)?new FormData(e):e)},jP.getAdapter=pP,jP.HttpStatusCode=IP,jP.default=jP;var AP=jP,RP=function(e){var n=e.gameData,r=l((0,t.useState)(""),2),i=r[0],a=r[1],o=l((0,t.useState)([]),2),s=(o[0],o[1]),u=l((0,t.useState)([]),2),c=u[0],f=u[1],h=function(){var e=$e(Qe().mark((function e(){var t,n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,AP.get("https://api.bing.microsoft.com/v7.0/images/search",{params:{q:i,count:10},headers:{"Ocp-Apim-Subscription-Key":"ee8e1ecaf0634e549b8a375c791dab7a"}});case 3:t=e.sent,s(t.data.value),n=t.data.value.map((function(e){return{name:"",imageUrl:e.thumbnailUrl}})),f(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching images:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=$e(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,ux.jsxs)("div",{style:{padding:"20px"},children:[(0,ux.jsx)("h1",{children:"Build Your Deck"}),(0,ux.jsxs)("div",{children:[(0,ux.jsx)("input",{type:"text",value:i,onChange:function(e){return a(e.target.value)},placeholder:"Search for images",style:{width:"80%",padding:"10px",marginBottom:"10px"}}),(0,ux.jsx)("button",{onClick:h,style:{padding:"10px"},children:"Search"})]}),(0,ux.jsx)("div",{className:"max-w-screen-sm bg-gray-800",children:(0,ux.jsx)("div",{className:"deckContainer mb-4 mx-auto bg-gray-800",children:c.length&&(0,ux.jsx)(DR,{deck:c,gameData:n,handleSelectCards:d})})})]})},DP=function(e){for(var n=e.roundData,r=e.roundRef,i=n.connectionScores,a=function(e){switch(e){case 12:case 11:return[.6,.8,.9];case 10:case 9:return[.55,.7,.85];case 8:case 7:return[.5,.65,.8];case 6:case 5:return[.3,.5,.7];default:return[0,.5]}}(n.players.length),o=["Strong","Stronger","Strongest"],s=[],u=0;u<a.length;u++)s.push({label:o[u],value:i[Math.floor(i.length*a[u])]});var c=l((0,t.useState)(s[0].value),2),f=c[0],h=c[1],d=function(){var e=$e(Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(t),e.prev=1,e.next=4,Sv(r,{connectionThreshold:t});case 4:console.log("Update successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Error updating document: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,ux.jsx)("div",{className:"flex justify-around p-2",children:s.map((function(e){return(0,ux.jsxs)("label",{className:"flex items-center space-x-1",children:[(0,ux.jsx)("input",{type:"radio",name:"connectionThreshold",value:e.value,checked:f===e.value,onChange:function(){return d(e.value)},className:"radio radio-primary w-8 h-8"}),(0,ux.jsx)("span",{className:"text-lg text-gray-200",children:e.label})," "]},e.value)}))})};var PP=function(e){var n=e.gameData,r=e.gameRef,i=e.players,a=l((0,t.useState)(null),2),o=a[0],s=a[1],u=l((0,t.useState)(null),2),c=u[0],f=u[1],h=l((0,t.useState)(null),2),d=h[0],v=h[1],m=l((0,t.useState)(null),2),g=m[0],y=m[1],b=(0,t.useContext)(lx).currentPlayerName,w=i[0].name===b;if((0,t.useEffect)((function(){function e(){return e=$e(Qe().mark((function e(){var t,i,a,o,u,l;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=xp(r,"rounds"),i=hv(t,pv("roundNumber","==",n.gameLength)),e.prev=2,e.next=5,xv(i);case 5:(a=e.sent).empty?console.log("No matching rounds found"):(o=a.docs[0].id,u=Sp(t,o),f(u),l=a.docs.map((function(e){return Zt({id:e.id},e.data())})),s(l[0])),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching round data: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n.gameLength,r]),(0,t.useEffect)((function(){if(o){var e,t=p(o.players),n=t.findIndex((function(e){return e.name===b})),r=t[n],i=[{id:b,group:n}],a=[],s=Object.entries(r.connections).sort((function(e,t){return t[1]-e[1]})),u=I(s);try{for(u.s();!(e=u.n()).done;){var c=l(e.value,2),f=c[0],h=c[1];h&&(i.push({id:f,group:n}),a.push({source:b,target:f,value:h}))}}catch(m){u.e(m)}finally{u.f()}var d=s[0][1];v({nodes:i,links:a,topScore:d}),y({source:b,target:s[0][0],value:s[0][1]})}}),[o]),!n||!o)return(0,ux.jsx)(SA,{});var k=p(o.players).sort((function(e,t){return t.gameScore-e.gameScore})),_=k.find((function(e){return e.name===b})),x=k.findIndex((function(e){return e.name===b}))+1,S=Object.entries(_.connections).filter((function(e){var t=l(e,2);t[0];return t[1]>0})).sort((function(e,t){return t[1]-e[1]}));return(0,ux.jsxs)("div",{className:"max-w-screen-sm mx-auto",children:[(0,ux.jsxs)("div",{className:"text-center m-2 p-4 bg-gray-800 text-gray-200 rounded-lg",children:[(0,ux.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Player Summary"}),(0,ux.jsx)("p",{className:"text-xl text-left pb-2 border-b-2 border-gray-700",children:1===x?(0,ux.jsx)("span",{className:"text-xl",children:"Most in common with everyone!"}):x===o.players.length?(0,ux.jsx)("span",{className:"text-xl",children:"Least in common with everyone!"}):(0,ux.jsxs)("span",{className:"text-xl",children:[rx(x)," most in common with everyone."]})}),(0,ux.jsxs)("p",{className:"text-xl text-left py-2 border-b-2 border-gray-700",children:["Strongest connection with ",(0,ux.jsx)("span",{className:"font-bold",children:S[0][0]}),"."]}),(0,ux.jsxs)("p",{className:"flex flex-col ".concat(w?"py-2":"pt-2"),children:[(0,ux.jsx)("div",{className:"text-left text-xl pb-2",children:"Your Connections"}),(0,ux.jsx)("div",{className:"flex flex-wrap gap-2",children:S.map((function(e){var t=l(e,2),n=t[0],r=t[1];return(0,ux.jsx)("span",{className:"text-gray-100 text-sm bg-gray-700 rounded px-2",children:"".concat(n,": ").concat(r)},n)}))})]}),w&&(0,ux.jsxs)("div",{className:"",children:[(0,ux.jsx)("div",{className:"text-xl text-left pt-2 text-gray-200 border-t-2 border-gray-700",children:"Update Connection Threshold"}),(0,ux.jsx)(DP,{roundData:o,roundRef:c})]})]}),d&&(0,ux.jsx)("div",{className:"mx-2 bg-gray-100 border border-2 border-gray-800 rounded-lg",children:(0,ux.jsx)(CA,{small:!0,width:315,height:200,data:d,strongestPlayer:b,strongestPair:g})})]})};var OP=function(){var e=(0,t.useContext)(lx),n=e.setCurrentPlayerName,r=e.setCurrentPlayerId,i=e.setGameRef,a=l((0,t.useState)(""),2),o=a[0],s=a[1],u=l((0,t.useState)(""),2),c=u[0],f=u[1],h=ye(),d=function(e,t){xv(hv(xp(e,"players"),pv("name","==",t,mv("joinedAt","asc")))).then((function(e){if(e.size>=1){var t=e.docs[0].id;r(t)}else console.error("Invalid Player Name.")}))},p=function(){var e=$e(Qe().mark((function e(){var t,r;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&c){e.next=3;break}return alert("Please enter your name and game code."),e.abrupt("return");case 3:return t=xp(H_,"games"),r=hv(t,pv("shortId","==",c)),e.next=7,xv(r).then((function(e){if(1===e.size){var t=e.docs[0].id,r=Sp(H_,"games",t);i(r),n(o),d(r,o),h("/player/".concat(c))}else alert("Invalid game code.")}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,ux.jsx)("div",{className:"",children:(0,ux.jsx)("div",{className:"max-w-screen-md mx-auto text-gray-100",children:(0,ux.jsxs)("div",{className:"bg-gray-800 mx-4 p-4 mt-4 rounded-lg",children:[(0,ux.jsxs)("div",{className:"flex ",children:[(0,ux.jsxs)("div",{className:"mb-4 w-2/3",children:[(0,ux.jsx)("label",{htmlFor:"playerName",className:"block text-gray-300 text-sm font-bold mb-2",children:"Your Name"}),(0,ux.jsx)("input",{type:"text",id:"playerName",value:o,onChange:function(e){return s(e.target.value)},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-200 leading-tight focus:outline-none focus:shadow-outline bg-gray-800 text-gray-300"})]}),(0,ux.jsxs)("div",{className:"ml-4 mb-4 w-1/3",children:[(0,ux.jsx)("label",{htmlFor:"shortId",className:"block text-gray-300 text-sm font-bold mb-2",children:"Game Code"}),(0,ux.jsx)("input",{type:"text",id:"shortId",value:c,onChange:function(e){return t=e.target.value,void f(t.toUpperCase());var t},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-200 leading-tight focus:outline-none focus:shadow-outline bg-gray-800 text-gray-300"})]})]}),(0,ux.jsx)(fx,{onClick:p,className:"w-full bg-blue-500 text-white font-bold py-2 px-4 rounded",children:"Rejoin Game"})]})})})},MP=function(){var e=be().shortId,n=l((0,t.useState)(null),2),r=n[0],i=n[1],a=l((0,t.useState)([]),2),o=a[0],s=a[1],u=(0,t.useContext)(lx),c=u.gameRef,f=u.setGameRef,h=u.setCurrentPlayerId,d=(0,t.useContext)(lx).currentPlayerName,p=function(e){xv(hv(xp(e,"players"),pv("name","==",d,mv("joinedAt","asc")))).then((function(e){if(e.size>=1){var t=e.docs[0].id;h(t)}else console.error("Invalid Player Name.")}))};if((0,t.useEffect)((function(){c?Tv(c,(function(e){console.log(e.data()),i(e.data()),d&&p(c)})):xv(hv(xp(H_,"games"),pv("shortId","==",e))).then((function(e){if(1===e.size){var t=e.docs[0].id,n=Sp(H_,"games",t);f(n),Tv(n,(function(e){i(e.data())})),d&&p(n)}else console.error("Invalid short ID.")}))}),[e,c,f]),(0,t.useEffect)((function(){if(c){var e=Tv(hv(xp(c,"players"),mv("joinedAt","asc")),(function(e){var t=e.docs.map((function(e){return Zt({id:e.id},e.data())}));s(t)}));return function(){return e()}}}),[c]),!r)return(0,ux.jsx)(SA,{});return(0,ux.jsxs)("div",{children:[(0,ux.jsx)(hx,{className:"max-w-screen-sm",name:d}),function(){if(!d)return(0,ux.jsx)(OP,{});var e=r.deckType,t=r.indexDeck,n=r.gameState,i=r.gameType;if("setup"===n)return(0,ux.jsx)(FR,{gameData:r,gameRef:c,players:o});if("buildDeck"===n)return(0,ux.jsx)(RP,{gameData:r,gameRef:c,players:o});if("started"===n){if("Incommon"===i)return(0,ux.jsx)(PR,{deck:ex(t,e),gameData:r,gameRef:c,players:o});if("Out of Words, Words"===i)return(0,ux.jsx)(LR,{gameData:r,gameRef:c,players:o})}return"ended"===n?(0,ux.jsx)(PP,{deck:ex(t,e),gameData:r,gameRef:c,players:o}):(0,ux.jsx)("div",{children:"Something went wrong"})}()]})},LP=function(){var e=l((0,t.useState)(null),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){xv(hv(xp(H_,"games"),pv("shortId","==","DA2L"))).then((function(e){if(1===e.size){var t=e.docs[0].id;Tv(Sp(H_,"games",t),(function(e){console.log(e.data()),r(e.data())}))}else console.error("Invalid short ID.")}))}),[]),n?(0,ux.jsxs)("div",{children:[(0,ux.jsx)("h2",{children:"Test Page"}),(0,ux.jsx)("h2",{children:"Swipe cards left and down"}),(0,ux.jsx)(DR,{gameData:n})]}):(0,ux.jsx)("p",{children:"Loading..."})};var UP=function(){return(0,ux.jsx)(cx,{children:(0,ux.jsx)(Ve,{children:(0,ux.jsxs)(Pe,{children:[(0,ux.jsx)(Re,{path:"/",element:(0,ux.jsx)(dx,{})}),(0,ux.jsx)(Re,{path:"/host/:shortId",element:(0,ux.jsx)(TA,{})}),(0,ux.jsx)(Re,{path:"/player/:shortId",element:(0,ux.jsx)(MP,{})}),(0,ux.jsx)(Re,{path:"/test",element:(0,ux.jsx)(LP,{})})]})})})},FP=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,ux.jsx)(UP,{})),FP()}()}();
//# sourceMappingURL=main.bb855db0.js.map